<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<meta charset="utf-8">
<title class="MovementsSidebar">HousingFacilityBedAssignment</title>
<div th:replace="~{fragments/head :: head}"></div>

<body class="mod-bg-1 mod-nav-link">
<div th:replace="~{fragments/header :: header}"></div>
<div th:replace="~{fragments/navmenus :: navmenus}"></div>
	<!-- BEGIN Page Wrapper -->
	<div class="page-wrapper">
		<div class="page-inner">
			<!-- BEGIN Left Aside -->
			<div th:replace="~{fragments/sidebar :: sidebar}"></div>
			<input type="hidden" name="screenCode" id="screenCode" value="MOV_INBA">
			<!-- END Left Aside -->
			<div class="page-content-wrapper">
				<!-- BEGIN Page Header -->
				
				<!-- END Page Header -->
				<!-- BEGIN Page Content -->
				<!-- the #js-page-content id is needed for some plugins to initialize -->
				<main id="js-page-content" role="main" class="page-content">
					<!-- <ol class="breadcrumb page-breadcrumb">
                            <li class="breadcrumb-item"><a href="javascript:void(0);">SmartAdmin</a></li>
                            <li class="breadcrumb-item">category_1</li>
                            <li class="breadcrumb-item">category_2</li>
                            <li class="breadcrumb-item active">Page Titile</li>
                            <li class="position-absolute pos-top pos-right d-none d-sm-block"><span class="js-get-date"></span></li>
						</ol> -->
					<div class="subheader mb-1">
						<h1 class="subheader-title">
						<div th:replace="~{fragments/toggleMenu :: toggleMenu}"></div>
							<i class='subheader-icon fal fa-'></i> <span th:text="${screenName}"></span></span>
						</h1>

						<div class="frame-wrap bg-transparent">
							<div class="btn-group">
							<div class="col-12 pr-0">
                      <div class="js-get-date">[your date here]</div>
                              </div>
								<div class="mr-2">
									<div class="input-append date position-relative w-100">
										<span class="add-on"></span>
									</div>
								</div>
							</div>
							<a href="javascript:void(0);"
								class="btn btn-primary btn-sm btn-icon waves-effect waves-themed disabled"
								data-toggle="tooltip" data-placement="top" data-original-title="Add"> <i
									class="fal fa-plus"></i>
							</a> <a href="javascript:void(0);"
								class="btn btn-warning btn-sm btn-icon waves-effect waves-themed disabled"
								data-toggle="tooltip" data-placement="top" data-original-title="Print"> <i
									class="fal fa-print"></i>
							</a> <a href="javascript:void(0);"
								class="btn btn-secondary btn-sm btn-icon waves-effect waves-themed"
								data-toggle="tooltip" data-placement="top" data-original-title="Clear" id="clearButton"> <i class="fal fa-times"></i> </a>  
							 <a href="javascript:void(0);"
								class="btn btn-success btn-sm btn-icon waves-effect waves-themed disabled" data-toggle="tooltip"
								data-placement="top" data-original-title="OK/Save"> <i class="fal fa-save"></i>
							</a> <a href="javascript:void(0);"
								class="btn btn-danger btn-sm btn-icon waves-effect waves-themed"  data-toggle="tooltip"
								data-placement="top" data-original-title="Cancel/Exit" data-action="toggle" data-class="nav-function-hidden" onclick="history.back()"> <i class="fal fa-sign-out"></i>
							</a>
						</div>

					</div>
					
					<div class="d-flex mainBlock h-100">
						<div class="d-flex h-100 leftSidebarMain">
					    	<div class="ArrowBlockmain">
					            <button class="arrowBtn" id="leftSidebarIcon"><i class="fa fa-chevron-right" aria-hidden="true"></i></button>
					        </div>
					        <div class="contain d-flex pl-0" id="contain">
						          <div class="leftSideBar p-2 mr-0 mt-2">
									  <div class="d-flex justify-content-between">										  
							          	<h6 class="mx-0 mb-0 text-nowrap headerBlock text-center position-relative" style="font-weight: 600;top: -20px;">Search Criteria</h6>
							          	<div class="d-flex justify-content-end position-absolute" style="right: 5px;top: 5px;">											
								          	<span class="d-flex" data-toggle="modal" data-target="" >
												<a href="#" id="pinButton" style="height: fit-content;" class="btn btn-primary btn-sm p-1 ml-1 btn js-waves-off d-flex align-items-center" data-class="nav-function-hidden">
													<i class="fa fa-thumb-tack" style="font-size: 15px;"></i>
												</a>
											</span>
										</div>
									  </div>
							          	<div class="row">
											<div class="col-lg-12">
												<div class="panel mb-0 panelContentBlock p-1 headerBlockNew border-0" style="background: unset;box-shadow: unset;">
													<div style="border: 1px solid #9b7cca;border-radius: 5px; padding: 5px;" id="focusingTheValue" value="" data-focusNumber="">														
														<label for="Security" class="form-label mr-1 mb-2 text-nowrap">Bed Status</label>
														<div class="d-flex align-items-center">														
															<div class="custom-control custom-radio ml-0 mr-4 pb-1">
																<input type="radio"
																	class="custom-control-input level_radio hfbd_all_beds rawField"
																	id="AllBedsRadio" name="BedStatus" value="A" checked=""  data-fld="All_Beds_Radio_BS" data-lbl="All Beds">
																<label class="custom-control-label text-nowrap" for="AllBedsRadio">All Beds</label>
															</div>
															<div class="custom-control custom-radio pt-2 mr-4 pb-1">
																<input type="radio"
																	class="custom-control-input level_radio hfbd_unoccupied rawField"
																	id="UnoccupiedRadio" name="BedStatus" value="U"  data-fld="Unoccupied_Radio_BS" data-lbl="Unoccupied">
																<label class="custom-control-label"
																	for="UnoccupiedRadio">Unoccupied</label>
															</div>
														</div>
														<div class="d-flex align-items-center">															
															<div class="custom-control custom-radio pt-2 mr-3 pb-1">
																<input type="radio"
																	class="custom-control-input level_radio hfbd_occupied rawField"
																	id="OccupiedRadio" name="BedStatus" value="O"  data-fld="Occupied_Radio_BS" data-lbl="Occupied">
																<label class="custom-control-label" for="OccupiedRadio">Occupied</label>
															</div>
															<div class="custom-control custom-radio pt-2 mr-4 pb-1">
																<input type="radio"
																	class="custom-control-input level_radio hfbd_offline rawField"
																	id="OfflineRadio" name="BedStatus" value="F"  data-fld="Offline_Radio_BS" data-lbl="Offline">
																<label class="custom-control-label" for="OfflineRadio">Offline</label>
															</div>
														</div>
														<div class="custom-control custom-radio pt-2 mr-4 pb-1">
															<input type="radio"
																class="custom-control-input level_radio hfbd_reserved rawField"
																id="ReservedRadio" name="BedStatus" value="R"  data-fld="Reserved_Radio_BS" data-lbl="Reserved">
															<label class="custom-control-label" for="ReservedRadio">Reserved</label>
														</div>
													</div>
													
													<div class="mt-2" style="border: 1px solid #9b7cca;border-radius: 5px; padding: 5px;">		
														<label for="Security" class="form-label mr-1 mb-2 text-nowrap">Bed Type</label>
														<div class="custom-control custom-radio pt-2 mr-2 pb-1">
															<input type="radio"
																class="custom-control-input level_radio hfbd_all_beds_type rawField"
																id="AllBedsRadio1" name="BedType" value="A" checked="" data-fld="All_Beds_Radio_BT" data-lbl="All Beds">
															<label class="custom-control-label" for="AllBedsRadio1">All Beds</label>
														</div>
														<div class="custom-control custom-radio pt-2 mr-2 pb-1">
															<input type="radio"
																class="custom-control-input level_radio hfbd_handicap rawField"
																id="HandicappedRadio" name="BedType" value="H"  data-fld="Handicapped_Accessible_Radio_BT" data-lbl="Handicapped Accessible">
															<label class="custom-control-label" for="HandicappedRadio">Handicapped Accessible</label>
														</div>
														<div class="custom-control custom-radio pt-2 mr-2 pb-1">
															<input type="radio"
																class="custom-control-input level_radio hfbd_close_custody rawField"
																id="CloseCustodyRadio" name="BedType" value="C"  data-fld="Closed_Custody_Radio_BT" data-lbl="Closed Custody">
															<label class="custom-control-label" for="CloseCustodyRadio">Closed Custody</label>
														</div>
													</div>
													
													<div class="formDropdownMain form-group">
														<div class="d-flex align-items-center pr-0 selectFloatingLabel mt-3">
															<label for="Facility"  class="form-label mr-2 mb-0 control-label text-nowrap selectFloating showlabel">Facility</label>
			                                                <select class="select2 form-control custom-select w-100 floatingLableClick hfbd_facility HousingValuesClear rawField" data-fld="Facility" data-lbl="Facility" id="Facility">
			                                                    <optgroup>
			                                                        <option value="IN">Facility</option>
		
			                                                    </optgroup>
			                                                </select>
			                                            </div>
			                                            <div class="d-flex align-items-center pr-0 selectFloatingLabel mt-3">
															<label for="BuildingValue" class="form-label mr-2 mb-0 control-label text-nowrap selectFloating showlabel">Building</label>
			                                                <select class="select2 form-control custom-select w-100 floatingLableClick hfbd_building DropdownDisable rawField" data-fld="Building" data-lbl="Building" id="BuildingValue">
			                                                    <optgroup>
			                                                        <option value="IN">Building</option>
			                                                    </optgroup>
			                                                </select>
			                                            </div>
			                                            <div class="d-flex align-items-center pr-0 selectFloatingLabel mt-3">
															<label for="UnitValue" class="form-label mr-2 mb-0 control-label text-nowrap selectFloating">Wing/Unit</label>
			                                                <select class="select2 form-control custom-select w-100 floatingLableClick hfbd_wing_unit DropdownDisable rawField" id="UnitValue" data-fld="Wing/Unit" data-lbl="Wing/Unit">
			                                                    <optgroup>
			                                                        <option value="IN">Wing/Unit</option>
			                                                    </optgroup>
			                                                </select>
			                                            </div>
			                                            <div class="d-flex align-items-center pr-0 selectFloatingLabel mt-3">
															<label for="Floors" class="form-label mr-2 mb-0 control-label text-nowrap selectFloating">Floor</label>
			                                                <select class="select2 form-control custom-select w-100 floatingLableClick hfbd_floor DropdownDisable rawField" data-fld="Floor" data-lbl="Floor" id="Floors">
			                                                    <optgroup>
			                                                        <option value="IN">Floor</option>
			                                                    </optgroup>
			                                                </select>
			                                            </div>
			                                            <div class="d-flex align-items-center pr-0 selectFloatingLabel mt-3">
															<label for="Tiers" class="form-label mr-2 mb-0 control-label text-nowrap selectFloating">Tier/Pod</label>
			                                                <select class="select2 form-control custom-select w-100 floatingLableClick hfbd_tier_prod DropdownDisable rawField" data-fld="Tier/Pod" data-lbl="Tier/Pod" id="Tiers">
			                                                    <optgroup>
			                                                        <option value="IN">Tier/Pod</option>
			                                                    </optgroup>
			                                                </select>
			                                            </div>
			                                            <div class="d-flex align-items-center pr-0 selectFloatingLabel mt-3">
															<label for="CellValue" class="form-label mr-2 mb-0 control-label text-nowrap selectFloating">Room/Cell</label>
			                                                <select class="select2 form-control custom-select w-100 floatingLableClick hfbd_room_cell DropdownDisable rawField" data-fld="Room/Cell" data-lbl="Room/Cell" id="CellValue">
			                                                    <optgroup>
			                                                        <option value="IN">Room/Cell</option>
			                                                    </optgroup>
			                                                </select>
			                                            </div>
			                                            <div class="d-flex align-items-center pr-0 selectFloatingLabel mt-3">
															<label for="BedValues"  class="form-label mr-2 mb-0 control-label text-nowrap selectFloating">Bed</label>
			                                                <select class="select2 form-control custom-select w-100 floatingLableClick hfbd_bed DropdownDisable rawField"data-fld="Bed" data-lbl="Bed" id="BedValues">
			                                                    <optgroup>
			                                                        <option value="IN">Bed</option>
			                                                    </optgroup>
			                                                </select>
			                                            </div>
														<div class="d-flex justify-content-end mt-2 px-0 mt-2">
															<span class="d-flex ml-1" data-toggle="modal" data-target="" >
																<a href="#" id="SelectButton" style="padding: 5px;padding-left: 10px;padding-right: 10px;" class="hfbd_sel_btnbtn btn-primary btn-sm ml-1 btn js-waves-off d-flex align-items-center rawField"
																   data-fld="Select" data-lbl="Select">
																	Select													
																</a>
															</span>
														</div>
													</div>
												</div>
											</div>
										</div>
						          </div>
						    </div>
						</div>
						<div class="row bg-light mx-1 mainScreenBlock" style="width: calc(100% - 25px);margin-left: 0 !important;">
							<div class="col-lg-12 p-0">
								<div class="row">
									<div class="col-lg-12">
										<div id="bedList-Block" class="panel mb-2" value="">	
		                                    <div class="panel-hdr">
		                                        <h2>
		                                            Bed List
		                                        </h2>
		                                    </div>
		                                    <div class="panel-container show">
		                                        <div class="panel-content p-1">
		                                            <div id="js-checkbox-toggles">
		                                                <div id="housing-table"></div>
		                                                <div class="mt-3 d-flex align-items-center">
															<div class="d-flex align-items-center pr-0 floatingFields mr-2">
																<input type="text" class="form-control w-100 floatingLable HousingValuesClear rawField" data-fld="Total_Beds" data-lbl="Total Beds" aria-label="TotalBeds" id="TotalBeds" name="TotalBeds" value="" placeholder="" >
																<label for="Name" class="form-label mr-1 text-nowrap mb-0">Total Beds</label>
			                                                </div>
			                                                <div class="d-flex align-items-center pr-0 floatingFields">
																<input type="text" class="form-control w-100 floatingLable HousingValuesClear rawField" data-fld="Receiving_Room_Count" data-lbl="Receiving Room Count" aria-label="RoomCount" id="RoomCount" name="RoomCount" value="" placeholder="" >
																<label for="Name" class="form-label mr-1 text-nowrap mb-0">Receiving Room Count</label>
			                                                </div>
														</div>
		                                            </div>
		                                        </div>
		                                    </div>
		                                </div>
									</div>
									<div class="col-lg-12">
										<div id="bedList-Block" class="panel mb-2">	
		                                    <div class="panel-hdr">
		                                        <h2>
		                                            Bed Details
		                                        </h2>
		                                    </div>
		                                    <div class="panel-container show">
		                                        <div class="panel-content p-1">
		                                            <div id="js-checkbox-toggles">
		                                                <div class="row mx-1">
															<div class="d-flex align-items-center col-lg-4 pl-0 mt-1 floatingFields">
																<input type="text" class="form-control hfbd_building_dtl HousingValuesClear floatingLable rawField"
																	 data-fld="Building_BedDetails" data-lbl="Building" aria-label="Security" placeholder="Building" name="BuildingBedDetails" id="BuildingBedDetails"
																	value="">
																	<label for="BuildingBedDetails" class="form-label mr-1 text-nowrap mb-0">Building</label>
															</div>
															<div class="d-flex align-items-center col-lg-4 pl-0 mt-1 floatingFields">
																<input type="text" class="form-control hfbd_wingunit_dtl HousingValuesClear floatingLable rawField"
																	 data-fld="Wing/Unit_BedDetails" data-lbl="Wing/Unit" aria-label="Security" placeholder="Wing/Unit" name="UnitBedDetails" id="UnitBedDetails"
																	value="">
																	<label for="UnitBedDetails" class="form-label mr-1 text-nowrap mb-0">Wing/Unit</label>
															</div>
															<div class="d-flex align-items-center col-lg-4 mt-1  px-0 floatingFields">
																<input type="text" class="form-control hfbd_floor_dtl HousingValuesClear floatingLable rawField"
																	 data-fld="Floor_BedDetails" data-lbl="Floor" aria-label="Security" placeholder="Floor" name="FloorBedDetails" id="FloorBedDetails"
																	value="">
																	<label for="FloorBedDetails" class="form-label mr-1 text-nowrap mb-0">Floor</label>
															</div>
															<div class="d-flex align-items-center col-lg-4  pl-0 mt-3 floatingFields">
																<input type="text" class="form-control hfbd_tierprod_dtl HousingValuesClear floatingLable rawField"
																	 data-fld="TierBedDetails" data-lbl="Tier/Pod" aria-label="Security" placeholder="Tier/Pod" name="TierBedDetails" id="TierBedDetails"
																	value="">
																	<label for="TierBedDetails" class="form-label mr-1 text-nowrap mb-0">Tier/Pod</label>
															</div>
															<div class="d-flex align-items-center col-lg-4  pl-0 mt-3 floatingFields">
																<input type="text" class="form-control hfbd_cell_dtl HousingValuesClear floatingLable rawField"
																	 data-fld="Cell_BedDetails" data-lbl="Cell" aria-label="Security" placeholder="Cell" name="CellBedDetails" id="CellBedDetails"
																	value="">
																	<label for="CellBedDetails" class="form-label mr-1 text-nowrap mb-0">Cell</label>
															</div>
														</div>
		                                            </div>
		                                        </div>
		                                    </div>
		                                </div>
									</div>
									<div class="col-lg-12">
										<div class="d-flex align-items-center justify-content-end">
											<button type="button" class="btn btn-primary btn-sm mx-2 hfbd_housing_transfer " disabled>
												Housing Transfer </button>
											<button type="button" class="btn btn-primary btn-sm mx-2 hfbd_offender_roster " disabled>
												Offender Roster </button>
											<button type="button" class="btn btn-primary btn-sm mx-2 hfbd_housing_rpt " disabled>
												Housing Report </button>
											<button type="button" class="btn btn-primary btn-sm mx-2 hfbd_offender_dtl " disabled>
												Offender Details </button>
											<button type="button" class="btn btn-primary btn-sm mx-2 hfbd_bed_dtl " disabled> Bed
												Details </button>
										</div>
									</div>
								</div>
						
							</div>
							<div class="modal fade" id="listOfCaseChargeModal" tabindex="-1" role="dialog" aria-hidden="true">
					            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
						              <div class="modal-content">
							                 <div class="modal-header pt-3 pb-2">
							                       <h6 class="modal-title">Housing - Facility Bed Assignments</h6>
							                   		<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								                     <span aria-hidden="true"><i class="fal fa-times"></i></span>
								                   </button>
							                  </div>
							                   <div class="modal-body py-0">
							                   </div>
							                  <div class="modal-footer">
							                  <button type="button" class="btn btn-primary btn-sm" data-dismiss="modal" id="fetchDataBtn" >Ok</button>               
							               </div>
						              </div>
					             </div>
				             </div>
						</div>
					</div>
				</main>
				<!-- this overlay is activated only when mobile menu is triggered -->
				<div class="page-content-overlay" data-action="toggle" data-class="mobile-nav-on"></div>
				<!-- END Page Content -->
				<!-- Modal Large -->
				<div class="modal fade" id="default-example-modal-lg" tabindex="-1" role="dialog" aria-hidden="true">
					<div class="modal-dialog modal-lg" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title">Staff Name</h5>
								<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									<span aria-hidden="true"><i class="fal fa-times"></i></span>
								</button>
							</div>
							<div class="modal-body">
								<div class="form-group row">
									<label for="staffSearch"
										class="col-form-label col-12 col-lg-1 form-label">Search</label>
									<div class="col-12 col-lg-11">
										<input type="text" class="form-control" aria-label="staffSearch"
											name="staffSearch" id="staffSearch" value="">
									</div>

								</div>
								<div class="table-responsive-lg">
									<table class="table table-bordered m-0">
										<thead>
											<tr>
												<th>Last Name</th>
												<th>First Name</th>
												<th>MI</th>
												<th>Suffix</th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td>14</td>
												<td>Staff</td>
												<td></td>
												<td></td>
											</tr>
											<tr>
												<td>14</td>
												<td>Staff</td>
												<td></td>
												<td></td>
											</tr>
											<tr>
												<td>14</td>
												<td>Staff</td>
												<td></td>
												<td></td>
											</tr>
											<tr>
												<td>14</td>
												<td>Staff</td>
												<td></td>
												<td></td>
											</tr>
											<tr>
												<td>14</td>
												<td>Staff</td>
												<td></td>
												<td></td>
											</tr>

										</tbody>
									</table>
								</div>
							</div>

						</div>
					</div>
				</div>
				<!-- BEGIN Shortcuts -->
				<!-- modal shortcut -->
				<div class="modal fade modal-backdrop-transparent" id="modal-shortcut" tabindex="-1" role="dialog"
					aria-labelledby="modal-shortcut" aria-hidden="true">
					<div class="modal-dialog modal-dialog-top modal-transparent" role="document">
						<div class="modal-content">
							<div class="modal-body">
								<ul class="app-list w-auto h-auto p-0 text-left">
									<li>
										<a href="intel_introduction.html" class="app-list-item text-white border-0 m-0">
											<div class="icon-stack">
												<i class="base base-7 icon-stack-3x opacity-100 color-primary-500 "></i>
												<i class="base base-7 icon-stack-2x opacity-100 color-primary-300 "></i>
												<i class="fal fa-home icon-stack-1x opacity-100 color-white"></i>
											</div>
											<span class="app-list-name">
												Home
											</span>
										</a>
									</li>
									<li>
										<a href="page_inbox_general.html" class="app-list-item text-white border-0 m-0">
											<div class="icon-stack">
												<i class="base base-7 icon-stack-3x opacity-100 color-success-500 "></i>
												<i class="base base-7 icon-stack-2x opacity-100 color-success-300 "></i>
												<i class="ni ni-envelope icon-stack-1x text-white"></i>
											</div>
											<span class="app-list-name">
												Inbox
											</span>
										</a>
									</li>
									<li>
										<a href="intel_introduction.html" class="app-list-item text-white border-0 m-0">
											<div class="icon-stack">
												<i class="base base-7 icon-stack-2x opacity-100 color-primary-300 "></i>
												<i class="fal fa-plus icon-stack-1x opacity-100 color-white"></i>
											</div>
											<span class="app-list-name">
												Add More
											</span>
										</a>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div> <!-- END Shortcuts -->
			</div>
		</div>
	</div>
	<!-- END Page Wrapper -->
	<!-- BEGIN Quick Menu -->
	<!-- to add more items, please make sure to change the variable '$menu-items: number;' in your _page-components-shortcut.scss -->
	<nav class="shortcut-menu d-none d-sm-block"> <input
	type="checkbox" class="menu-open" name="menu-open" id="menu_open" />
	<label for="menu_open" class="menu-open-button "> <span
	class="app-shortcut-icon d-block"></span>
	</label> <a href="#" class="menu-item btn" data-toggle="tooltip"
	data-placement="left" title="Scroll Top"> <i
	class="fal fa-arrow-up"></i>
	</a> <a href="page_login-alt.html" class="menu-item btn"
	data-toggle="tooltip" data-placement="left" title="Logout"> <i
	class="fal fa-sign-out"></i>
	</a> <a href="#" class="menu-item btn" data-action="app-fullscreen"
	data-toggle="tooltip" data-placement="left" title="Full Screen"> <i
	class="fal fa-expand"></i>
	</a> <a href="#" class="menu-item btn" data-action="app-print"
	data-toggle="tooltip" data-placement="left" title="Print page"> <i
	class="fal fa-print"></i>
	</a> <a href="#" class="menu-item btn" data-action="app-voice"
	data-toggle="tooltip" data-placement="left" title="Voice command">
	<i class="fal fa-microphone"></i>
	</a> </nav>
	<!-- END Quick Menu -->
	<!-- BEGIN Messenger -->
	<div class="modal fade js-modal-messenger modal-backdrop-transparent" tabindex="-1" role="dialog"
		aria-hidden="true">
		<div class="modal-dialog modal-dialog-right">
			<div class="modal-content h-100">
				<div class="dropdown-header bg-trans-gradient d-flex align-items-center w-100">
					<div class="d-flex flex-row align-items-center mt-1 mb-1 color-white">
						<span class="mr-2">
							<span class="rounded-circle profile-image d-block"
								style="background-image:url('img/demo/avatars/avatar-d.png'); background-size: cover;"></span>
						</span>
						<div class="info-card-text">
							<a href="javascript:void(0);" class="fs-lg text-truncate text-truncate-lg text-white"
								data-toggle="dropdown" aria-expanded="false">
								Tracey Chang
								<i class="fal fa-angle-down d-inline-block ml-1 text-white fs-md"></i>
							</a>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="#">Send Email</a>
								<a class="dropdown-item" href="#">Create Appointment</a>
								<a class="dropdown-item" href="#">Block User</a>
							</div>
							<span class="text-truncate text-truncate-md opacity-80">IT Director</span>
						</div>
					</div>
					<button type="button" class="close text-white position-absolute pos-top pos-right p-2 m-1 mr-2"
						data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true"><i class="fal fa-times"></i></span>
					</button>
				</div>
				<div class="modal-body p-0 h-100 d-flex">
					<!-- BEGIN msgr-list -->
					<div
						class="msgr-list d-flex flex-column bg-faded border-faded border-top-0 border-right-0 border-bottom-0 position-absolute pos-top pos-bottom">
						<div>
							<div
								class="height-4 width-3 h3 m-0 d-flex justify-content-center flex-column color-primary-500 pl-3 mt-2">
								<i class="fal fa-search"></i>
							</div>
							<input type="text" class="form-control bg-white" id="msgr_listfilter_input"
								name="msgr_listfilter_input" placeholder="Filter contacts" aria-label="FilterSearch"
								value="" data-listfilter="#js-msgr-listfilter">
						</div>
						<div class="flex-1 h-100 custom-scroll">
							<div class="w-100">
								<ul id="js-msgr-listfilter" class="list-unstyled m-0">
									<li>
										<a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="tracey chang online">
											<div class="d-table-cell align-middle status status-success status-sm ">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image:url('img/demo/avatars/avatar-d.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													Tracey Chang
													<small class="d-block font-italic text-success fs-xs">
														Online
													</small>
												</div>
											</div>
										</a>
									</li>
									<li>
										<a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="oliver kopyuv online">
											<div class="d-table-cell align-middle status status-success status-sm ">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image:url('img/demo/avatars/avatar-b.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													Oliver Kopyuv
													<small class="d-block font-italic text-success fs-xs">
														Online
													</small>
												</div>
											</div>
										</a>
									</li>
									<li>
										<a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="dr john cook phd away">
											<div class="d-table-cell align-middle status status-warning status-sm ">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image:url('img/demo/avatars/avatar-e.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													Dr. John Cook PhD
													<small class="d-block font-italic fs-xs">
														Away
													</small>
												</div>
											</div>
										</a>
									</li>
									<li>
										<a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="ali amdaney online">
											<div class="d-table-cell align-middle status status-success status-sm ">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image:url('img/demo/avatars/avatar-g.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													Ali Amdaney
													<small class="d-block font-italic fs-xs text-success">
														Online
													</small>
												</div>
											</div>
										</a>
									</li>
									<li>
										<a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="sarah mcbrook online">
											<div class="d-table-cell align-middle status status-success status-sm">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image:url('img/demo/avatars/avatar-h.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													Sarah McBrook
													<small class="d-block font-italic fs-xs text-success">
														Online
													</small>
												</div>
											</div>
										</a>
									</li>
									<li>
										<a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="ali amdaney offline">
											<div class="d-table-cell align-middle status status-sm">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image:url('img/demo/avatars/avatar-a.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													oliver.kopyuv@gotbootstrap.com
													<small class="d-block font-italic fs-xs">
														Offline
													</small>
												</div>
											</div>
										</a>
									</li>
									<li>
										<a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="ali amdaney busy">
											<div class="d-table-cell align-middle status status-danger status-sm">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image:url('img/demo/avatars/avatar-j.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													oliver.kopyuv@gotbootstrap.com
													<small class="d-block font-italic fs-xs text-danger">
														Busy
													</small>
												</div>
											</div>
										</a>
									</li>
									<li>
										<a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="ali amdaney offline">
											<div class="d-table-cell align-middle status status-sm">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image:url('img/demo/avatars/avatar-c.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													oliver.kopyuv@gotbootstrap.com
													<small class="d-block font-italic fs-xs">
														Offline
													</small>
												</div>
											</div>
										</a>
									</li>
									<li>
										<a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="ali amdaney inactive">
											<div class="d-table-cell align-middle">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image:url('img/demo/avatars/avatar-m.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													+714651347790
													<small class="d-block font-italic fs-xs opacity-50">
														Missed Call
													</small>
												</div>
											</div>
										</a>
									</li>
								</ul>
								<div class="filter-message js-filter-message"></div>
							</div>
						</div>
						<div>
							<a class="fs-xl d-flex align-items-center p-3">
								<i class="fal fa-cogs"></i>
							</a>
						</div>
					</div>
					<!-- END msgr-list -->
					<!-- BEGIN msgr -->
					<div class="msgr d-flex h-100 flex-column bg-white">
						<!-- BEGIN custom-scroll -->
						<div class="custom-scroll flex-1 h-100">
							<div id="chat_container" class="w-100 p-4">
								<!-- start .chat-segment -->
								<div class="chat-segment">
									<div class="time-stamp text-center mb-2 fw-400">
										Jun 19
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-sent">
									<div class="chat-message">
										<p>
											Hey Ching, did you get my files?
										</p>
									</div>
									<div class="text-right fw-300 text-muted mt-1 fs-xs">
										3:00 pm
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-get">
									<div class="chat-message">
										<p>
											Hi
										</p>
										<p>
											Sorry going through a busy time in office. Yes I analyzed the solution.
										</p>
										<p>
											It will require some resource, which I could not manage.
										</p>
									</div>
									<div class="fw-300 text-muted mt-1 fs-xs">
										3:24 pm
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-sent chat-start">
									<div class="chat-message">
										<p>
											Okay
										</p>
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-sent chat-end">
									<div class="chat-message">
										<p>
											Sending you some dough today, you can allocate the resources to this
											project.
										</p>
									</div>
									<div class="text-right fw-300 text-muted mt-1 fs-xs">
										3:26 pm
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-get chat-start">
									<div class="chat-message">
										<p>
											Perfect. Thanks a lot!
										</p>
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-get">
									<div class="chat-message">
										<p>
											I will have them ready by tonight.
										</p>
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-get chat-end">
									<div class="chat-message">
										<p>
											Cheers
										</p>
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment for timestamp -->
								<div class="chat-segment">
									<div class="time-stamp text-center mb-2 fw-400">
										Jun 20
									</div>
								</div>
								<!--  end .chat-segment for timestamp -->
							</div>
						</div>
						<!-- END custom-scroll  -->
						<!-- BEGIN msgr__chatinput -->
						<div class="d-flex flex-column">
							<div
								class="border-faded border-right-0 border-bottom-0 border-left-0 flex-1 mr-3 ml-3 position-relative shadow-top">
								<div class="pt-3 pb-1 pr-0 pl-0 rounded-0" tabindex="-1">
									<div id="msgr_input" contenteditable="true"
										data-placeholder="Type your message here..."
										class="height-10 form-content-editable"></div>
								</div>
							</div>
							<div class="height-8 px-3 d-flex flex-row align-items-center flex-wrap flex-shrink-0">
								<a href="javascript:void(0);" class="btn btn-icon fs-xl width-1 mr-1"
									data-toggle="tooltip" data-original-title="More options" data-placement="top">
									<i class="fal fa-ellipsis-v-alt color-fusion-300"></i>
								</a>
								<a href="javascript:void(0);" class="btn btn-icon fs-xl mr-1" data-toggle="tooltip"
									data-original-title="Attach files" data-placement="top">
									<i class="fal fa-paperclip color-fusion-300"></i>
								</a>
								<a href="javascript:void(0);" class="btn btn-icon fs-xl mr-1" data-toggle="tooltip"
									data-original-title="Insert photo" data-placement="top">
									<i class="fal fa-camera color-fusion-300"></i>
								</a>
								<div class="ml-auto">
									<a href="javascript:void(0);" class="btn btn-info">Send</a>
								</div>
							</div>
						</div>
						<!-- END msgr__chatinput -->
					</div>
					<!-- END msgr -->
				</div>
			</div>
		</div>
	</div>
	<!-- END Messenger -->
	<!-- BEGIN Page Settings -->
	<div class="modal fade js-modal-settings modal-backdrop-transparent" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog modal-dialog-right modal-md">
			<div class="modal-content">
				<div class="dropdown-header bg-trans-gradient d-flex justify-content-center align-items-center w-100">
					<h4 class="m-0 text-center color-white">
						Layout Settings
						<small class="mb-0 opacity-80">User Interface Settings</small>
					</h4>
					<button type="button" class="close text-white position-absolute pos-top pos-right p-2 m-1 mr-2"
						data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true"><i class="fal fa-times"></i></span>
					</button>
				</div>
				<div class="modal-body p-0">
					<div class="settings-panel">
						<div class="mt-4 d-table w-100 px-5">
							<div class="d-table-cell align-middle">
								<h5 class="p-0">
									App Layout
								</h5>
							</div>
						</div>
						<div class="list" id="fh">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="header-function-fixed"></a>
							<span class="onoffswitch-title">Fixed Header</span>
							<span class="onoffswitch-title-desc">header is in a fixed at all times</span>
						</div>
						<div class="list" id="nff">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="nav-function-fixed"></a>
							<span class="onoffswitch-title">Fixed Navigation</span>
							<span class="onoffswitch-title-desc">left panel is fixed</span>
						</div>
						<div class="list" id="nfm">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="nav-function-minify"></a>
							<span class="onoffswitch-title">Minify Navigation</span>
							<span class="onoffswitch-title-desc">Skew nav to maximize space</span>
						</div>
						<div class="list" id="nfh">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="nav-function-hidden"></a>
							<span class="onoffswitch-title">Hide Navigation</span>
							<span class="onoffswitch-title-desc">roll mouse on edge to reveal</span>
						</div>
						<div class="list" id="nft">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="nav-function-top"></a>
							<span class="onoffswitch-title">Top Navigation</span>
							<span class="onoffswitch-title-desc">Relocate left pane to top</span>
						</div>
						<div class="list" id="mmb">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-main-boxed"></a>
							<span class="onoffswitch-title">Boxed Layout</span>
							<span class="onoffswitch-title-desc">Encapsulates to a container</span>
						</div>
						<div class="expanded">
							<ul class="">
								<li>
									<div class="bg-fusion-50" data-action="toggle" data-class="mod-bg-1"></div>
								</li>
								<li>
									<div class="bg-warning-200" data-action="toggle" data-class="mod-bg-2"></div>
								</li>
								<li>
									<div class="bg-primary-200" data-action="toggle" data-class="mod-bg-3"></div>
								</li>
								<li>
									<div class="bg-success-300" data-action="toggle" data-class="mod-bg-4"></div>
								</li>
							</ul>
							<div class="list" id="mbgf">
								<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
									data-class="mod-fixed-bg"></a>
								<span class="onoffswitch-title">Fixed Background</span>
							</div>
						</div>
						<!-- <div class="mt-4 d-table w-100 px-5">
                            <div class="d-table-cell align-middle">
							<h5 class="p-0">
							Mobile Menu
							</h5>
                            </div>
							</div>
							<div class="list" id="nmp">
                            <a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
							data-class="nav-mobile-push"></a>
                            <span class="onoffswitch-title">Push Content</span>
                            <span class="onoffswitch-title-desc">Content pushed on menu reveal</span>
							</div>
							<div class="list" id="nmno">
                            <a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
							data-class="nav-mobile-no-overlay"></a>
                            <span class="onoffswitch-title">No Overlay</span>
                            <span class="onoffswitch-title-desc">Removes mesh on menu reveal</span>
							</div>
							<div class="list" id="sldo">
                            <a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
							data-class="nav-mobile-slide-out"></a>
                            <span class="onoffswitch-title">Off-Canvas <sup>(beta)</sup></span>
                            <span class="onoffswitch-title-desc">Content overlaps menu</span>
						</div> -->
						<div class="mt-4 d-table w-100 px-5">
							<div class="d-table-cell align-middle">
								<h5 class="p-0">
									Accessibility
								</h5>
							</div>
						</div>
						<div class="list" id="mbf">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-bigger-font"></a>
							<span class="onoffswitch-title">Bigger Content Font</span>
							<span class="onoffswitch-title-desc">content fonts are bigger for readability</span>
						</div>
						<div class="list" id="mhc">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-high-contrast"></a>
							<span class="onoffswitch-title">High Contrast Text (WCAG 2 AA)</span>
							<span class="onoffswitch-title-desc">4.5:1 text contrast ratio</span>
						</div>
						<div class="list" id="mcb">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-color-blind"></a>
							<span class="onoffswitch-title">Daltonism <sup>(beta)</sup> </span>
							<span class="onoffswitch-title-desc">color vision deficiency</span>
						</div>
						<div class="list" id="mpc">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-pace-custom"></a>
							<span class="onoffswitch-title">Preloader Inside</span>
							<span class="onoffswitch-title-desc">preloader will be inside content</span>
						</div>
						<div class="mt-4 d-table w-100 px-5">
							<div class="d-table-cell align-middle">
								<h5 class="p-0">
									Global Modifications
								</h5>
							</div>
						</div>
						<div class="list" id="mcbg">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-clean-page-bg"></a>
							<span class="onoffswitch-title">Clean Page Background</span>
							<span class="onoffswitch-title-desc">adds more whitespace</span>
						</div>
						<div class="list" id="mhni">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-hide-nav-icons"></a>
							<span class="onoffswitch-title">Hide Navigation Icons</span>
							<span class="onoffswitch-title-desc">invisible navigation icons</span>
						</div>
						<div class="list" id="dan">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-disable-animation"></a>
							<span class="onoffswitch-title">Disable CSS Animation</span>
							<span class="onoffswitch-title-desc">Disables CSS based animations</span>
						</div>
						<div class="list" id="mhic">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-hide-info-card"></a>
							<span class="onoffswitch-title">Hide Info Card</span>
							<span class="onoffswitch-title-desc">Hides info card from left panel</span>
						</div>
						<div class="list" id="mlph">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-lean-subheader"></a>
							<span class="onoffswitch-title">Lean Subheader</span>
							<span class="onoffswitch-title-desc">distinguished page header</span>
						</div>
						<div class="list" id="mnl">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-nav-link"></a>
							<span class="onoffswitch-title">Hierarchical Navigation</span>
							<span class="onoffswitch-title-desc">Clear breakdown of nav links</span>
						</div>
						<div class="list mt-1">
							<span class="onoffswitch-title">Global Font Size <small>(RESETS ON REFRESH)</small> </span>
							<div class="btn-group btn-group-sm btn-group-toggle my-2" data-toggle="buttons">
								<label for="smRadio" class="btn btn-default btn-sm" data-action="toggle-swap"
									data-class="root-text-sm" data-target="html">
									<input type="radio" aria-label="smRadio" name="smRadio" id="smRadio" value=""> SM
								</label>
								<label for="mdRadio" class="btn btn-default btn-sm" data-action="toggle-swap"
									data-class="root-text" data-target="html">
									<input type="radio" aria-label="mdRadio" name="mdRadio" id="mdRadio" value=""
										checked=""> MD
								</label>
								<label for="lgRadio" class="btn btn-default btn-sm" data-action="toggle-swap"
									data-class="root-text-lg" data-target="html">
									<input type="radio" aria-label="lgRadio" name="lgRadio" id="lgRadio" value=""> LG
								</label>
								<label for="xlRadio" class="btn btn-default btn-sm" data-action="toggle-swap"
									data-class="root-text-xl" data-target="html">
									<input type="radio" aria-label="xlRadio" name="xlRadio" id="xlRadio" value=""> XL
								</label>
							</div>
							<span class="onoffswitch-title-desc d-block mb-g">Change <strong>root</strong> font size to
								effect rem values</span>
						</div>
						<div class="mt-2 d-table w-100 pl-5 pr-3">
							<div class="d-table-cell align-middle">
								<h5 class="p-0">
									Theme colors <small>(overlays base css)</small>
								</h5>
								<!-- <div class="fs-xs text-muted p-2 alert alert-warning mt-3 mb-0">
                                    <i class="fal fa-exclamation-triangle text-warning mr-2"></i>Due to network latency
                                    and CPU utilization, you may experience a brief flickering effect on page load which
                                    may show the intial applied theme for a split second. Setting the prefered
                                    style/theme in the header will prevent this from happening.
								</div> -->
							</div>
						</div>
						<div class="expanded theme-colors pl-5 pr-3">
							<ul class="m-0">
								<li><a href="#" id="myapp-0" data-action="theme-update" data-themesave data-theme=""
										data-toggle="tooltip" data-placement="top" title="Wisteria (base css)"
										data-original-title="Wisteria (base css)"></a></li>
								<li><a href="#" id="myapp-1" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-1.css" data-toggle="tooltip"
										data-placement="top" title="Tapestry" data-original-title="Tapestry"></a></li>
								<li><a href="#" id="myapp-2" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-2.css" data-toggle="tooltip"
										data-placement="top" title="Atlantis" data-original-title="Atlantis"></a></li>
								<li><a href="#" id="myapp-3" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-3.css" data-toggle="tooltip"
										data-placement="top" title="Indigo" data-original-title="Indigo"></a></li>
								<li><a href="#" id="myapp-4" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-4.css" data-toggle="tooltip"
										data-placement="top" title="Dodger Blue" data-original-title="Dodger Blue"></a>
								</li>
								<li><a href="#" id="myapp-5" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-5.css" data-toggle="tooltip"
										data-placement="top" title="Tradewind" data-original-title="Tradewind"></a></li>
								<li><a href="#" id="myapp-6" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-6.css" data-toggle="tooltip"
										data-placement="top" title="Cranberry" data-original-title="Cranberry"></a></li>
								<li><a href="#" id="myapp-7" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-7.css" data-toggle="tooltip"
										data-placement="top" title="Oslo Gray" data-original-title="Oslo Gray"></a></li>
								<li><a href="#" id="myapp-8" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-8.css" data-toggle="tooltip"
										data-placement="top" title="Chetwode Blue"
										data-original-title="Chetwode Blue"></a></li>
								<li><a href="#" id="myapp-9" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-9.css" data-toggle="tooltip"
										data-placement="top" title="Apricot" data-original-title="Apricot"></a></li>
								<li><a href="#" id="myapp-10" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-10.css" data-toggle="tooltip"
										data-placement="top" title="Blue Smoke" data-original-title="Blue Smoke"></a>
								</li>
								<li><a href="#" id="myapp-11" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-11.css" data-toggle="tooltip"
										data-placement="top" title="Green Smoke" data-original-title="Green Smoke"></a>
								</li>
								<li><a href="#" id="myapp-12" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-12.css" data-toggle="tooltip"
										data-placement="top" title="Wild Blue Yonder"
										data-original-title="Wild Blue Yonder"></a></li>
								<li><a href="#" id="myapp-13" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-13.css" data-toggle="tooltip"
										data-placement="top" title="Emerald" data-original-title="Emerald"></a></li>
							</ul>
						</div>
						<hr class="mb-0 mt-4">
						<div class="pl-5 pr-3 py-3 bg-faded">
							<div class="row no-gutters">
								<div class="col-6 pr-1">
									<a href="#" class="btn btn-outline-danger fw-500 btn-block"
										data-action="app-reset">Reset Settings</a>
								</div>
								<div class="col-6 pl-1">
									<a href="#" class="btn btn-danger fw-500 btn-block"
										data-action="factory-reset">Factory Reset</a>
								</div>
							</div>
						</div>
					</div>
					<span id="saving"></span>
				</div>
			</div>
		</div>
	</div>
	<!-- END Page Settings -->

	<div style="display:none">
		<form id="entryform">
			<!-- <input type="hidden" name="screenCode" id="screenCode" value="241"> -->

			<label forx="1" for="hfbd_all_beds">All Beds</label>
			<input type="text" id="hfbd_all_beds" name="hfbd_all_beds" data-typ="Radio">

			<label forx="1" for="hfbd_unoccupied">Unoccupied</label>
			<input type="text" id="hfbd_unoccupied" name="hfbd_unoccupied" data-typ="Radio">

			<label forx="1" for="hfbd_occupied">Occupied</label>
			<input type="text" id="hfbd_occupied" name="hfbd_occupied" data-typ="Radio">

			<label forx="1" for="hfbd_offline">Offline</label>
			<input type="text" id="hfbd_offline" name="hfbd_offline" data-typ="Radio">

			<label forx="1" for="hfbd_reserved">Reserved</label>
			<input type="text" id="hfbd_reserved" name="hfbd_reserved" data-typ="Radio">

			<label forx="1" for="hfbd_all_beds_type">All Beds Type</label>
			<input type="text" id="hfbd_all_beds_type" name="hfbd_all_beds_type" data-typ="Radio">

			<label forx="1" for="hfbd_handicap">Handicapped Accessible</label>
			<input type="text" id="hfbd_handicap" name="hfbd_handicap" data-typ="Radio">

			<label forx="1" for="hfbd_close_custody">Close Custody</label>
			<input type="text" id="hfbd_close_custody" name="hfbd_close_custody" data-typ="Radio">

			<label forx="1" for="hfbd_sel_btn">Select</label>
			<input type="text" id="hfbd_sel_btn" name="hfbd_sel_btn" data-typ="Button">

			<label forx="1" for="hfbd_facility">Facility</label>
			<input id="hfbd_facility" name="hfbd_facility" type="text" data-typ="Dropdown">

			<label forx="1" for="hfbd_building">Building</label>
			<input id="hfbd_building" name="hfbd_building" type="text" data-typ="Dropdown">

			<label forx="1" for="hfbd_wing_unit">Wing/Unit</label>
			<input id="hfbd_wing_unit" name="hfbd_wing_unit" type="text" data-typ="Dropdown">

			<label forx="1" for="hfbd_floor">Floor</label>
			<input id="hfbd_floor" name="hfbd_floor" type="text" data-typ="Dropdown">

			<label forx="1" for="hfbd_tier_prod">Tier/Prod</label>
			<input id="hfbd_tier_prod" name="hfbd_tier_prod" type="text" data-typ="Dropdown">

			<label forx="1" for="hfbd_room_cell">Room/Cell</label>
			<input id="hfbd_room_cell" name="hfbd_room_cell" type="text" data-typ="Dropdown">

			<label forx="1" for="hfbd_bed">Bed</label>
			<input id="hfbd_bed" name="hfbd_bed" type="text" data-typ="Dropdown">

			<label forx="1" for="hfbd_bed_tbl">Bed Table</label>
			<input type="text" id="hfbd_bed_tbl" name="hfbd_bed_tbl" data-typ="Text">

			<label forx="1" for="hfbd_bed_typ">Bed Type</label>
			<input type="text" id="hfbd_bed_typ" name="hfbd_bed_typ" data-typ="Text">

			<label forx="1" for="hfbd_bed_sts">Bed Status</label>
			<input type="text" id="hfbd_bed_sts" name="hfbd_bed_sts" data-typ="Text">

			<label forx="1" for="hfbd_sbi">SBI#</label>
			<input type="text" id="hfbd_sbi" name="hfbd_sbi" data-typ="Text">

			<label forx="1" for="hfbd_fname">First Name</label>
			<input type="text" id="hfbd_fname" name="hfbd_fname" data-typ="Text">

			<label forx="1" for="hfbd_lname">Last Name</label>
			<input type="text" id="hfbd_lname" name="hfbd_lname" data-typ="Text">

			<label forx="1" for="hfbd_mi">MI</label>
			<input type="text" id="hfbd_mi" name="hfbd_mi" data-typ="Text">

			<label forx="1" for="hfbd_sfx">Suffix</label>
			<input type="text" id="hfbd_sfx" name="hfbd_sfx" data-typ="Text">

			<label forx="1" for="hfbd_avil_dt">Avil Date</label>
			<input type="text" id="hfbd_avil_dt" name="hfbd_avil_dt" data-typ="Date">

			<label forx="1" for="hfbd_avil_tm">Avil Time</label>
			<input type="text" id="hfbd_avil_tm" name="hfbd_avil_tm" data-typ="Text">

			<label forx="1" for="hfbd_tot_beds">Total Beds</label>
			<input type="text" id="hfbd_tot_beds" name="hfbd_tot_beds" data-typ="Text">

			<label forx="1" for="hfbd_receive_room">Receiving Room Count</label>
			<input type="text" id="hfbd_receive_room" name="hfbd_receive_room" data-typ="Text">

			<label forx="1" for="hfbd_occupied_btn">Occupied Button</label>
			<input type="text" id="hfbd_occupied_btn" name="hfbd_occupied_btn" data-typ="Button">

			<label forx="1" for="hfbd_unoccupied_btn">Unoccupied Button</label>
			<input type="text" id="hfbd_unoccupied_btn" name="hfbd_unoccupied_btn" data-typ="Button">

			<label forx="1" for="hfbd_offline_btn">Offline Button</label>
			<input type="text" id="hfbd_offline_btn" name="hfbd_offline_btn" data-typ="Button">

			<label forx="1" for="hfbd_reserved_btn">Reserved Button</label>
			<input type="text" id="hfbd_reserved_btn" name="hfbd_reserved_btn" data-typ="Button">

			<label forx="1" for="hfbd_building_dtl">Building Dtl</label>
			<input type="text" id="hfbd_building_dtl" name="hfbd_building_dtl" data-typ="Text">

			<label forx="1" for="hfbd_wingunit_dtl">Wing/Unit Dtl</label>
			<input type="text" id="hfbd_wingunit_dtl" name="hfbd_wingunit_dtl" data-typ="Text">

			<label forx="1" for="hfbd_floor_dtl">Floor Dtl</label>
			<input type="text" id="hfbd_floor_dtl" name="hfbd_floor_dtl" data-typ="Text">

			<label forx="1" for="hfbd_tierprod_dtl">Tier/Prod Dtl</label>
			<input type="text" id="hfbd_tierprod_dtl" name="hfbd_tierprod_dtl" data-typ="Text">

			<label forx="1" for="hfbd_cell_dtl">Cell Dtl</label>
			<input type="text" id="hfbd_cell_dtl" name="hfbd_cell_dtl" data-typ="Text">

			<label forx="1" for="hfbd_housing_transfer">Housing Transfer</label>
			<input type="text" id="hfbd_housing_transfer" name="hfbd_housing_transfer" data-typ="Button">

			<label forx="1" for="hfbd_offender_roster">Offender Roster</label>
			<input type="text" id="hfbd_offender_roster" name="hfbd_offender_roster" data-typ="Button">

			<label forx="1" for="hfbd_housing_rpt">Housing Report</label>
			<input type="text" id="hfbd_housing_rpt" name="hfbd_housing_rpt" data-typ="Button">

			<label forx="1" for="hfbd_offender_dtl">Offender Details</label>
			<input type="text" id="hfbd_offender_dtl" name="hfbd_offender_dtl" data-typ="Button">

			<label forx="1" for="hfbd_bed_dtl">Bed Details</label>
			<input type="text" id="hfbd_bed_dtl" name="hfbd_bed_dtl" data-typ="Button">

		</form>
	</div>
	
	<div id="custom-tooltip" class="custom-tooltip"></div>

	<style>
	.form-label, .custom-control-label {
    color: #7a59ad !important;
}
		.custom-control-input:focus:not(:checked) ~ .custom-control-label::before {
    border-color: #703abe;
}
		.select2-container--default.select2-container--focus .select2-selection--single, .select2-container--default.select2-container--focus .select2-selection--multiple {
		    border: 2px solid #886ab5 !important;
		}
		
		.leftSidebarMain .selectFloatingLabel .form-label{
			left: 0;
		}
	
	.formDropdownMain .custom-select{
		padding-right: 30px;
	}
	
	  .color-O div { 
				color: #000000 !important;
				font-weight:600;
			}
			
			.color-U div { 
				color: #0A481E !important;
				font-weight:600;
			}
			
			.color-F div { 
				color:#FF5733 !important;
				font-weight:600;
			}
			
			.color-R div { 
				color: #0F5298 !important;
				font-weight:600;
			}
			
			
		label {
			font-weight: 500;
		}

		.checkboxBlock .custom-checkbox {
			width: 70px;

		}

		.levelStatusCheckbox .custom-checkbox {
			width: 95px;

		}

		.dataTables_info {
			position: absolute;
		}

		#PrintStatusSheetCase_wrapper .row:first-child {
			margin-bottom: 0 !important;
		}

		.printStatusCaseTable {
			min-height: 212px;
		}

		.dataTable tbody td,
		.table td {
			line-height: 1;
		}

		.panelContentBlock {

			border: 1px solid #7a58ac;

			border-radius: 5px !important;

		}

		#search-form #errorNAME {

			position: absolute;
			top: -25px;
			left: 14px;
			white-space: nowrap;
		}
		
/* 		.disabled-row {
   cursor: not-allowed;
    opacity: 0.5; 
} */

.selectFloating {
    z-index: 9 !important;
}
.form-group.focused .selectFloating {
    background: #ece0ff;
    }
		
		  .custom-tooltip {
      position: absolute;
      background-color: #fff;
      border: 1px solid #8f8f8f;
      color: #000;
      padding: 5px;
      border-radius: 0px;
      font-size: 12px;
      white-space: nowrap;
      pointer-events: none;
      display: none;
      z-index: 9999;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }
    
    .headerBlockNew{
		height: 100%;
	    max-height: calc(100vh - 265px);
	    overflow: auto;
	}
	
	@media screen and (max-width: 1024px) {
		.page-content-wrapper {
			margin-top: 0rem !important;
		}
	}
	.custom-select:disabled {
    color: #000000;
	}
    
	</style>
   <script src="js/script.js"></script>

	<script src="js/staticjs.js"></script>
	<!-- 	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> -->

	<script>
			const focusOrder = [
		    'AllBedsRadio', 'UnoccupiedRadio', 'OccupiedRadio','OfflineRadio','ReservedRadio', 'AllBedsRadio1', 'HandicappedRadio',
		    'CloseCustodyRadio','Facility','BuildingValue','UnitValue','Floors','Tiers','CellValue','BedValues'
		  ];
		
		 let index = 0;

		 document.addEventListener('keydown', function(e) {
		   const current = document.getElementById(focusOrder[index]);

		   if (e.key === 'Tab') {
		     e.preventDefault();
		     const dir = e.shiftKey ? -1 : 1;

		     // Find the next enabled element
		     let nextIndex = index;
		     do {
		       nextIndex = (nextIndex + dir + focusOrder.length) % focusOrder.length;
		       var nextElement = document.getElementById(focusOrder[nextIndex]);
		     } while (nextElement && nextElement.disabled);

		     index = nextIndex;
		     nextElement.focus();
		   }

		   if (e.key === 'Enter') {
		     if (current && current.type === 'radio') {
		       current.checked = true;
		     }
		   }
		 });
		 
		/*<![CDATA[*/
		var contextPath = /*[[@{/}]]*/'';
		/*]]>*/


		function clearFormData() {
			console.log('Button clicked!');

			$('#errorNAME').hide();
			$('#CheckedRadio').prop('checked', false);
			$('#CaseCheckedRadio').prop('checked', false);
			['sbiNumberInput', 'stgCheckbox', 'headmultiStatus', 'dateofbirth', 'Sex', 'race', 'FirstName', 'Location1', 'Location2', 'Security1', 'Security2', 'AssignedOfficer1', 'AssignedOfficer2'].forEach(id => {
				document.getElementById(id).value = '';
				if (id === 'stgCheckbox' || id === 'headmultiStatus') {
					document.getElementById(id).checked = false;
				}
			});

			const imageContainer = document.getElementById('imageContainer');
			if (imageContainer) {
				imageContainer.src = '/images/DACSLogo';
			}

			const offenderCondition = document.getElementById('offenderCondition');
			if (offenderCondition) {
				offenderCondition.value = '';
			}

			document.querySelectorAll('#tableBody input').forEach(input => {
				input.value = '';
			});
			document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
				checkbox.checked = false;
			});
			// Clear dynamically generated table rows
			const tableBody = document.getElementById('tableBody');
			if (tableBody) {
				tableBody.innerHTML = ''; // Remove all rows
			}

			document.getElementById('imageContainer').src = '';
		}

		$(document).ready(function () {
		
			function convertToMMDDYYYY(dateString) {
				  if (dateString) {
				    const date = new Date(dateString);
				    const formattedMonth = String(date.getUTCMonth() + 1).padStart(2, '0');
				    const formattedDay = String(date.getUTCDate()).padStart(2, '0');
				    const formattedYear = date.getUTCFullYear();
				    return `${formattedMonth}/${formattedDay}/${formattedYear}`;
				  }
				  return '';
				}
			
			var date = new Date();
			  var Todaysdate = convertToMMDDYYYY(date);
			  console.log("Today date"+Todaysdate);
			  $('#TodayDate').val(Todaysdate);
			
			
			 document.getElementById('clearButton').addEventListener('click', function() {
				 
				 $('#Facility').val($('#Facility option:first').val());
			        $('#Facility').trigger('change');
			        document.getElementById("AllBedsRadio").click();
			        document.getElementById("AllBedsRadio1").click();
				 document.querySelectorAll('.HousingValuesClear').forEach(function(element) {
	        	        element.value = '';
	        	    });
				 
				 
				 
				 $('.DropdownDisable').empty();
				  $('.DropdownDisable').css('pointer-events','none');
	 	            $('.DropdownDisable').prop('readonly', true);
	 	            $('.DropdownDisable').prop('disabled', true);
				 console.log('Building-S');
				 
				 $('#BuildingValue').append(`
		    			 <option>Building</option>
		    	 `);
				 $('#UnitValue').append(`
		    			 <option>Wing/Unit</option>
		    	 `);
				 $('#Floors').append(`
		    			 <option>Floor</option>
		    	 `);
				 $('#Tiers').append(`
		    			 <option>Tier/pod</option>
		    	 `);
				 $('#CellValue').append(`
		    			 <option>Room/Cell</option>
		    	 `);
				 $('#BedValues').append(`<option>Bed</option>`);
				 
				/*  $('.selectFloating').css('display', 'none'); */
				$('.selectFloating').hide();
				 console.log('Building-E');
				  
	 	            /* $('.DropdownDisable').append(`
			    			 <option> </option>
			    	 `); */
	 	           


	 	       	var tabledata = [];

			    	 var numRecords=12;
		tabledata = Array.from({ length: numRecords }, () => ({
			 bedDescription:"",
				bedType:"",
				bedStat:"",
				sbino:"",
				commitFirstName:"",
				commitLastName:"",
				commitMiddleName:"",
				commitSuffixName:"",
				availableDate:"",
				availableTime:"",
				bedNo:"",
				bedStatus:"",
		        })); 

		table.setData(tabledata);
			 });
			
			 $(document).on('click', '#ok_btn', function (e) {
				 var valueFocus=$('#focusingTheValue').val();
			/* 	 var valueFousNumber=document.querySelector('#focusingTheValue').getAttribute('data-focusNumber');
				 if(valueFousNumber==2){
					 document.getElementById(valueFocus).value = "";
					 document.getElementById(valueFocus).focus();
					 console.log("valueFocusifpart="+valueFocus+' '+valueFousNumber);
				 }else{*/
					 document.getElementById(valueFocus).focus(); 
					 console.log("valueFocuselsepart="+valueFocus);
			//	 }
				}); 
			 
		$.ajax({
	        url: 'Facility',
	        method: 'GET', 
	        success: function(response) {
	        	
	        	console.log('Facility='+response);
	        	$.each(response, function(index, item) {
	        		$('#Facility').append(`
	        				<option data-value="${item.inst_NUM}">${item.inst_NAME}</option>
	        		
	        		`);
	        	});
	        	
	        },
	        
	        error: function(xhr, status, error) {
	            console.error('Error:', error);
	          }
	       });
		      
		  $('#Facility').on('change', function() {
	            const selectedOption = $(this).find(':selected');
	            const instNum = selectedOption.data('value');
	            $('label[for="Facility"]').show();
	            Building(instNum);
	            
	        }); 
	        
	        function Building(instNum) {
		        console.log('Selected Institution Number:', instNum); 
		        if(instNum!==undefined)
		        $.ajax({
		        	 url: 'facilityBuilding',
				        method: 'GET', 
				        data: {
				        	instNum: instNum
						},
				        success: function(response) {	
				        	var Building=response.bedDetails
				        	if(Building.length === 0){
				        		 $('#BuildingValue').css('pointer-events','none');
				 	            $('#BuildingValue').prop('readonly', true);
				 	            $('#BuildingValue').prop('disabled', true);
				 	           $('#BuildingValue').empty();
				 	          $('#BuildingValue').append(`<option>Building</option>`);
				 	    	 $('label[for="BuildingValue"]').hide();
				        	}else{
				        	      
				        		 $('#BuildingValue').empty();
						    	 $('#BuildingValue').append(`
						    			 <option>Building</option>
						    	 `);
				        	$('#BuildingValue').removeAttr('disabled');
							$('#BuildingValue').removeAttr('readonly');
							$('#BuildingValue').css('pointer-events','auto');
							$('#UnitValue').empty().attr('disabled', 'disabled').attr('readonly', true).css('pointer-events', 'none').append(`<option>Wing/Unit</option>`);
							$('label[for="UnitValue"]').hide();
							$('#Floors').empty().attr('disabled', 'disabled').attr('readonly', true).css('pointer-events', 'none').append(`<option>Floor</option>`);
							$('label[for="Floors"]').hide();
							$('#Tiers').empty().attr('disabled', 'disabled').attr('readonly', true).css('pointer-events', 'none').append(`<option>Tier/pod</option>`);
							$('label[for="Tiers"]').hide();	
							$('#CellValue').empty().attr('disabled', 'disabled').attr('readonly', true).css('pointer-events', 'none').append(`<option>Room/Cell</option>`);
							$('label[for="CellValue"]').hide();
							$('#BedValues').empty().attr('disabled', 'disabled').attr('readonly', true).css('pointer-events', 'none').append(`<option>Bed</option>`);
							$('label[for="BedValues"]').hide();
				        	 $.each(Building, function(index, item) {
				        	$('#BuildingValue').append(`
			        				<option data-value="${item[1]}">${item[0]}</option>
			        		
			        		`);
				        	}); 
				        	 $('#BuildingValue').on('change', function() {
						            const selectedOption = $(this).find(':selected');
						            const BuildingNo = selectedOption.data('value');
						            $('label[for="BuildingValue"]').show();
						            console.log('selectedOption='+selectedOption);
						            console.log('BuildingNo='+BuildingNo);
						            UnitValues(instNum,BuildingNo);

						        });
				        	}
				        },
		        
				        error: function(xhr, status, error) {
				            console.error('Error:', error);
				          }
		        
		        });
		        
	        } 
		        
		        function UnitValues(instNum,BuildingNo){
			    	
			    	 console.log('Selected Institution Number from Unit :', instNum); 
			    	 $.ajax({
			        	 url: 'facilityUnit',
					        method: 'GET', 
					        data: {
					        	instNum: instNum, 
					        	bldNum: BuildingNo
							},
					        success: function(response) {
					        	
					        	if(response.length === 0){
					        		 Floor(instNum,BuildingNo,null);
					        		 $('#UnitValue').css('pointer-events','none');
					 	            $('#UnitValue').prop('readonly', true);
					 	            $('#UnitValue').prop('disabled', true);
					 	           $('#UnitValue').empty();
					 	          $('#UnitValue').append(`<option>Wing/Unit</option>`);
					 	         $('label[for="UnitValue"]').hide();
					        	}else{
					        	      
					        		 $('#UnitValue').empty();
							    	 $('#UnitValue').append(`
							    			 <option>Wing/Unit</option>
							    	 `);
					        		$('#UnitValue').removeAttr('disabled');
									$('#UnitValue').removeAttr('readonly');
									$('#UnitValue').css('pointer-events','auto');
									$('#Floors').empty().attr('disabled', 'disabled').attr('readonly', true).css('pointer-events', 'none').append(`<option>Floor</option>`);
									$('label[for="Floors"]').hide();
									$('#Tiers').empty().attr('disabled', 'disabled').attr('readonly', true).css('pointer-events', 'none').append(`<option>Tier/pod</option>`);
									$('label[for="Tiers"]').hide();	
									$('#CellValue').empty().attr('disabled', 'disabled').attr('readonly', true).css('pointer-events', 'none').append(`<option>Room/Cell</option>`);
									$('label[for="CellValue"]').hide();
									$('#BedValues').empty().attr('disabled', 'disabled').attr('readonly', true).css('pointer-events', 'none').append(`<option>Bed</option>`);
									$('label[for="BedValues"]').hide();
					       	 $.each(response, function(index, item) {
						        	$('#UnitValue').append(`
					        				<option data-value="${item[1]}">${item[0]}</option>
					        		
					        		`);
						        	}); 
					       	 
					       	 $('#UnitValue').on('change', function() {
						            const selectedOption = $(this).find(':selected');
						            $('label[for="UnitValue"]').show();
						            const UnitNo = selectedOption.data('value');
						            console.log('UnitNo='+UnitNo);
						            Floor(instNum,BuildingNo,UnitNo);
						           
						        });
					        	}
					        },
					        
					        error: function(xhr, status, error) {
					            console.error('Error:', error);
					          }
			    	 });
			     }
		        
		        function Floor(instNum,BuildingNo,UnitNo){
		        	 console.log('Floor='+instNum+" "+BuildingNo+" "+UnitNo);
		        	 
		        	
		        	 
		        	 $.ajax({
			        	 url: 'facilityFloor',
					        method: 'GET', 
					        data: {
					        	instNum: instNum, 
					        	bldNum: BuildingNo,
					        	unitId: UnitNo
							},
					        success: function(response) {
					        	if(response.length === 0){
					        		Tier(instNum,BuildingNo,UnitNo,null);
					        		 $('#Floors').css('pointer-events','none');
					 	            $('#Floors').prop('readonly', true);
					 	            $('#Floors').prop('disabled', true);
					 	           $('#Floors').empty();
					 	          $('#Floors').append(`<option>Floor</option>`);
					 	         $('label[for="Floors"]').hide();	
					        	}else{
					        	 
					        		 $('#Floors').empty();
							    	 $('#Floors').append(`
							    			 <option>Floor</option>
							    	 `);
					        		$('#Floors').removeAttr('disabled');
									$('#Floors').removeAttr('readonly');
									$('#Floors').css('pointer-events','auto');
									$('#Tiers').empty().attr('disabled', 'disabled').attr('readonly', true).css('pointer-events', 'none').append(`<option>Tier/pod</option>`);
									$('label[for="Tiers"]').hide();	
									$('#CellValue').empty().attr('disabled', 'disabled').attr('readonly', true).css('pointer-events', 'none').append(`<option>Room/Cell</option>`);
									$('label[for="CellValue"]').hide();
									$('#BedValues').empty().attr('disabled', 'disabled').attr('readonly', true).css('pointer-events', 'none').append(`<option>Bed</option>`);
									$('label[for="BedValues"]').hide();
					       	 $.each(response, function(index, item) {
						        	$('#Floors').append(`
					        				<option data-value="${item[1]}">${item[0]}</option>
					        		`);
						        	}); 
					      
					        	}
					        },
					        
					        error: function(xhr, status, error) {
					            console.error('Error:', error);
					          }
			    	 });
		        	
		        }
		        
		        $('#Floors').on('change', function() {
		            const selectedOption = $(this).find(':selected');
		            const FloorNo = selectedOption.data('value');
		            console.log('FloorNo='+FloorNo);
		            $('label[for="Floors"]').show();
		            const instNum=$('#Facility').find(':selected').data('value');
		            const BuildingNo=$('#BuildingValue').find(':selected').data('value') || null;
		            const UnitNo=$('#UnitValue').find(':selected').data('value') || null;
		            Tier(instNum,BuildingNo,UnitNo,FloorNo);
		        });
		     	
		        
		        function Tier(instNum,BuildingNo,UnitNo,FloorNo){ UnitNo
		        	console.log('Tier'+instNum+' '+BuildingNo+' '+UnitNo+' '+FloorNo);
		        	
		        	 $.ajax({
			        	 url: 'facilityTier',
					         method: 'GET', 
					         data: {
					        	 instNum: instNum,
					        	 bldNum: BuildingNo,
					        	 unitId: UnitNo,
					        	 floorNum: FloorNo
							},  
					        success: function(response) {
					        	if(response.length === 0){
					        		RoomCellValue(instNum,BuildingNo,UnitNo,FloorNo,null);
					        		 $('#Tiers').css('pointer-events','none');
						 	            $('#Tiers').prop('readonly', true);
						 	            $('#Tiers').prop('disabled', true);
						 	           $('#Tiers').empty();
						 	          $('#Tiers').append(`<option>Tier/pod</option>`);
						 	         $('label[for="Tiers"]').hide();
					        	}else{
					        		 $('#Tiers').empty();
							    	 $('#Tiers').append(`<option>Tier/pod</option>`);
					        	$('#Tiers').removeAttr('disabled');
								$('#Tiers').removeAttr('readonly');
								$('#Tiers').css('pointer-events','auto');
								$('#CellValue').empty().attr('disabled', 'disabled').attr('readonly', true).css('pointer-events', 'none').append(`<option>Room/Cell</option>`);
								$('label[for="CellValue"]').hide();
								$('#BedValues').empty().attr('disabled', 'disabled').attr('readonly', true).css('pointer-events', 'none').append(`<option>Bed</option>`);
								$('label[for="BedValues"]').hide();
					        	 $.each(response, function(index, item) {
					        		 console.log('Tier'+item.tier_NUM);
							        	$('#Tiers').append(`
						        				<option data-value="${item[1]}">${item[0]}</option>
						        		
						        		`);
							        	}); 
					        	 $('#Tiers').on('change', function() {
							            const selectedOption = $(this).find(':selected');
							            const TierNo = selectedOption.data('value');
							            console.log('TierNo='+TierNo);
							            $('label[for="Tiers"]').show();
							            RoomCellValue(instNum,BuildingNo,UnitNo,FloorNo,TierNo);
							            
							        });
					        	}
					        },
					        
					        error: function(xhr, status, error) {
					            console.error('Error:', error);
					          }
			    	 
			     });
		        	 
		        }
		        
		     
		         function RoomCellValue(instNum,BuildingNo,UnitNo,FloorNo,TierNo){
                	console.log('RoomNo='+instNum+' '+BuildingNo+' '+UnitNo+' '+FloorNo+' '+TierNo);
                	
       $.ajax({
	        	 url: 'facilityCells',
			        method: 'GET', 
			             data: {
			            	 instNum: instNum,
			            	 bldNum: BuildingNo,
			            	 unitId: UnitNo,
			            	 floorNum: FloorNo,
			            	 tierNum: TierNo
					},  
			        success: function(response) {
			        	if(response.length === 0){
			        		Beds(instNum,BuildingNo,UnitNo,FloorNo,TierNo,null);
			        		 $('#CellValue').css('pointer-events','none');
				 	            $('#CellValue').prop('readonly', true);
				 	            $('#CellValue').prop('disabled', true);
				 	           $('#CellValue').empty();
				 	          $('#CellValue').append(`<option>Room/Cell</option>`);
				 	         $('label[for="CellValue"]').hide();
			        	}else{
			        		 $('#CellValue').empty();
					    	 $('#CellValue').append(`<option>Room/Cell</option>`);
			        	$('#CellValue').removeAttr('disabled');
						$('#CellValue').removeAttr('readonly');
						$('#CellValue').css('pointer-events','auto');
			        	 $.each(response, function(index, item) {
			        		 
			        		 console.log('Room='+item.cell_NO+' '+item.cell_DESC)
					        	$('#CellValue').append(`
				        				<option data-value="${item[1]}">${item[0]}</option>
				        		
				        		`);
					        	}); 
			        	 
			        	   $('#CellValue').on('change', function() {
					            const selectedOption = $(this).find(':selected');
					            const CellNo = selectedOption.data('value') || null;
					            console.log('bed values');
					            $('label[for="CellValue"]').show();
					            Beds(instNum,BuildingNo,UnitNo,FloorNo,TierNo,CellNo);
					        }); 
			        	 
			        	}
			        },
			        
			        error: function(xhr, status, error) {
			            console.error('Error:', error);
			          }
	    	 
	     }); 
			    	 
			     } 
		         
		  /*        $('#CellValue').on('change', function() {
			            const selectedOption = $(this).find(':selected');
			            const CellNo = selectedOption.data('value');
			            Beds(instNum,BuildingNo,UnitNo,FloorNo,TierNo,CellNo);
			        });  */
		         
		     	
				
			 	function Beds(instNum,BuildingNo,UnitNo,FloorNo,TierNo,CellNo){
					
					 console.log('BedNo='+instNum+''+BuildingNo+''+UnitNo+''+FloorNo+''+TierNo+''+CellNo);
					 
					 
					
				$.ajax({
			        url: 'facilityBed',
			        method: 'GET', 
			        data: {
			        	 instNum: instNum,
			        	 BLDNO: BuildingNo,
			        	 UNIT_ID: UnitNo,
			        	 FloorNo: FloorNo,
			        	 TierNo: TierNo,
					     CellNo: CellNo
			        },
			        success: function(response) {
			        	if(response.length === 0){
			        		 $('#BedValues').css('pointer-events','none');
				 	            $('#BedValues').prop('readonly', true);
				 	            $('#BedValues').prop('disabled', true);
				 	           $('#BedValues').empty();
				 	          $('#BedValues').append(`<option>Bed</option>`);
				 	         $('label[for="BedValues"]').hide();
			        	}else{
			        		 $('#BedValues').empty();
					    	 $('#BedValues').append(`<option>Bed</option>`);
			        	$('#BedValues').removeAttr('disabled');
						$('#BedValues').removeAttr('readonly');
						$('#BedValues').css('pointer-events','auto');
			        	$.each(response, function(index, item) {
			        		console.log('BedName'+item.bed_DESC)
			        		$('#BedValues').append(`
			        				<option data-value="${item.bed_NO}">${item.bed_DESC}</option>
			        		
			        		`);
			        	});
			        	}
			        },
			        error: function(xhr, status, error) {
			            console.error('Error:', error);
			          }
			       });
				}
				
				 $('#BedValues').on('change', function() {
			            const selectedOption = $(this).find(':selected');
			            const BedNo = selectedOption.data('value');
			            $('label[for="BedValues"]').show();
			            console.log('BedNo='+BedNo);
			        }); 
		
			/* 	 $('#ok_btn').on('click', function() {
					 document.getElementById("Facility").focus();  
				 }); */
				 
		$('#SelectButton').on('click', function() {
			
			var BedStatus = $('input[name="BedStatus"]:checked').val();
			var BedType = $('input[name="BedType"]:checked').val();
			console.log('BedType'+BedType);
			console.log('BedStatus='+BedStatus);
			
			
			
		         const instNum = $('#Facility').find(':selected').data('value') || null;
		         const BuildingNo = $('#BuildingValue').find(':selected').data('value') || null;
		         const UnitNo = $('#UnitValue').find(':selected').data('value') || null;
		         const FloorNo = $('#Floors').find(':selected').data('value') || null;
		         const TierNo = $('#Tiers').find(':selected').data('value') || null;
		         const CellNo = $('#CellValue').find(':selected').data('value') || null;
		         const BedNo = $('#BedValues').find(':selected').data('value') || null;
		         
		         if (!instNum) {
		        	 $('#focusingTheValue').val("Facility");
		        	 message('CUW','Please select a Facility',0);
		        	 
		        	
		            } else {
		                console.log("instNum is "+instNum);
		                loader(1);
		                $.ajax({
		    		        url: 'BedListvalues',
		    		        method: 'GET', 
		    		        data: {
		    		        	i_bed_type: BedType,
		    		        	i_inst_num: instNum,
		    		        	i_bld_num: BuildingNo,
		    		        	i_unit_id: UnitNo,
		    		        	i_floor_num: FloorNo,
		    		        	i_tier_num: TierNo,
		    		        	i_cell_no: CellNo,
		    		        	i_bed_no: BedNo,
		    		        	i_bed_status: BedStatus
		    		        },
		                    success: function(response) {
		                    	$('#BedList').empty();
		                    	
		                    	var listOfBeds=response.BedListValue;
		                    	var RecevingRoom=response.receivingRoomCount;
		                    	if(listOfBeds==null){
		                    		$('#TotalBeds').val('0');
		                    		$('#RoomCount').val(RecevingRoom);
		                    		var tabledata = [];
		                    		var extraRecord=12;
		                    		tabledata = Array.from({ length: extraRecord }, () => ({
			                			 bedDescription:"",
			                				bedType:"",
			                				bedStat:"",
			                				sbino:"",
			                				commitFirstName:"",
			                				commitLastName:"",
			                				commitMiddleName:"",
			                				commitSuffixName:"",
			                				availableDate:"",
			                				availableTime:"",
			                				bedNo:"",
			                				bedStatus:"",
			                		        })); 
		                    		
		                    		table.setData(tabledata);
		                    		 message('CUW','No records found.',0);
		                    	}else{
		                    	$('#TotalBeds').val(listOfBeds.length);
		                    	
		                    	var tabledata = [];
		                    	
		                    	$('#RoomCount').val(RecevingRoom);
		                    	
		                        $.each(listOfBeds, function(index, item) {
		                        	
		                        	if(item.bedDescription===null){
		                        		item.bedDescription="";
		    				        	 
		    				         }
		                        	
		                        	if(item.bedType===null){
		                        		item.bedType="";
		    				        	 
		    				         }
		                        	
		                        	if(item.bedStatus===null){
		                        		item.bedStatus="";
		    				        	 
		    				         }
		                        	
		                        	if(item.sbino===null){
		                        		item.sbino="";
		    				        	 
		    				         }
		                        	
		                        	if(item.commitFirstName===null){
		                        		item.commitFirstName="";
		    				        	 
		    				         }
		                        	
		                        	if(item.commitLastName===null){
		                        		item.commitLastName="";
		    				        	 
		    				         }
		                        	
		                        	if(item.commitMiddleName===null){
		                        		item.commitMiddleName="";
		    				        	 
		    				         }
		                        	
		                        	if(item.commitSuffixName===null){
		                        		item.commitSuffixName="";
		    				        	 
		    				         }
		                        	
		                        	if(item.availableDate===null){
		                        		item.availableDate="";
		    				        	 
		    				         }
		                        	
		                        	if(item.availableTime===null){
		                        		item.availableTime="";
		    				        	 
		    				         }
		                        	
		                        	var AvailableDate = convertToMMDDYYYY(item.availableDate)
		                        	
		                        	tabledata.push({
		                        		bedDescription: item.bedDescription,
		                        		bedType: item.bedType,
		                        		bedStat: item.bedStat,
		                        		sbino: item.sbino,
		                        		commitFirstName: item.commitFirstName,
		                        		commitLastName: item.commitLastName,
		                        		commitMiddleName: item.commitMiddleName,
		                        		commitSuffixName: item.commitSuffixName,
		                        		availableDate: AvailableDate,
		                        		availableTime: item.availableTime,
		                        		bedNo: item.bedNo,
		                        		bedStatus: item.bedStatus
					        		    }); 
		                        	
		                        	

		                        }); 
		                        console.log('Checking data out');
		                        if(listOfBeds.length<=12){
		                    	var tabledataE = [];
		                    	var Dlength=listOfBeds.length
		                    	var numRecords=12;
		                    	var extraRecord=numRecords-Dlength;
		                    	console.log('Checking data'+Dlength+' '+numRecords+''+extraRecord);
		                    	tabledataE = Array.from({ length: extraRecord }, () => ({
		                			 bedDescription:"",
		                				bedType:"",
		                				bedStat:"",
		                				sbino:"",
		                				commitFirstName:"",
		                				commitLastName:"",
		                				commitMiddleName:"",
		                				commitSuffixName:"",
		                				availableDate:"",
		                				availableTime:"",
		                				bedNo:"",
		                				bedStatus:"",
		                		        })); 
		                    	
		                tabledata=tabledata.concat(tabledataE);
		                        }
		                        table.setData(tabledata);
		                    	}
		                    },
		                    complete: function (response){
		       		        	setTimeout(function (){
		       		        		loader(0);
		       		        	},1500)
		       		        },
		                    error: function(xhr, status, error) {
		                    	loader(0);
		                    	console.error('Error:', error);
		    		          }
		    		       }); 
		                
		            	/* $.ajax({
		    		 		url: 'ReceivingRoomCount',
		    		        method: 'GET', 
		    		        data: {
		    		        	inst_num: instNum,
		    		        },
		                    success: function(response) {
		                    	
		                    	$('#RoomCount').val(response);
		                    	console.log('ReceivingRoomCount = '+response);
		                    },
		                    error: function(xhr, status, error) {
		    		            console.error('Error:', error);
		    		          }
		    		 	})
		                */
		            } 
            
			
		 

			
		});
		
	 	$(document).on('click', '.BeddetailS', function (e) {
			
			e.preventDefault();
			var $row = $(this).closest('div');
			const BedNum = $row.attr('target');
			
			
	 		$.ajax({
				url:'BedDetails',
				method:'GET',
				data: {
					ivc_bed_no: BedNum,
		        },
				success: function(response) {
					$('#BuildingBedDetails').val(response.ovc_bld_name);
				 	$('#UnitBedDetails').val(response.ovc_unit_desc);
					$('#FloorBedDetails').val(response.ovc_floor_desc);
					$('#TierBedDetails').val(response.ovc_tier_desc);
					$('#CellBedDetails').val(response.ovc_cell_desc); 
				}
			}); 
			
		
		}); 
		
		
		});
		
		$(document).ready(function () {

			var currentCommit;

			$('#CaseCheckedRadio').on('click', function () {
				console.log("Case radio checked");
				$('#CaseCheckedRadio').prop('checked', true);
				$('[id^="checkbox_"][id$="_6"]').each(function () {
					$(this).prop('disabled', false);
				});
				console.log("Case radio checked33");
			});

			$('#SelectIncludeAll').on('click', function () {
				console.log("checked");
				$('[id^="checkbox_"][id$="_6"]').each(function () {
					$(this).prop('disabled', false);
					$(this).prop('checked', true);
				});
			});

			$('#CheckedRadio').on('click', function () {
				console.log("checked");
				$('[id^="checkbox_"][id$="_6"]').each(function () {
					$(this).prop('disabled', true);
					$(this).prop('checked', false);
				});
			});



			$('#fetchDataBtn').on('click', function () {

				var selectedCommit = '';
				var sbiNumberInput = $('#sbiNumberInput').val();
				var selectedCheckbox = $('.custom-control-input.stayhistory:checked');
				if (selectedCheckbox.length > 0) {
					var row = selectedCheckbox.closest('tr');
					selectedCommit = row.find('#stay').val();
				}
				console.log("selectedCommit number:", selectedCommit);
				if (selectedCommit === "current") {
					console.log("jimin");
					currentCommit = sessionStorage.getItem('changedCommitNumber');
					selectedCommit = currentCommit;
					console.log("Changed commit number4:", currentCommit);
				}
				$.ajax({
					url: contextPath + 'SentencelevelStayhistory',
					method: 'GET',
					data: {
						commitNumb: selectedCommit,
						parameter: sbiNumberInput
					},
					success: function (response) {
						$('#errorNAME').hide();
						$('#CheckedRadio').prop('checked', true);
						var responseData = response;
						populateTable(responseData);

						responseData.forEach(function (item) {
							if (item && item.length > 0) {
								var checkboxId = 'checkbox' + item[5];
								$('#' + checkboxId).prop('checked', true);
								$('#' + checkboxId).prop('disabled', false);

							}
						});
					},
					error: function (xhr, status, error) {
						console.error(status, error);
					}
				});
			});


			function populateTable(responseData) {
				let tableBody = $('#tableBody');
				tableBody.empty();
				for (let i = 0; i < responseData.length; i++) {
					let rowData = responseData[i].slice(1);
					let row = $('<tr>');
					let indicesToDisplay = [0, 1, 4];
					indicesToDisplay.forEach(index => {
						let cell = $('<td>');
						let input = $('<input>').attr({
							type: 'text',
							class: 'form-control',
							ariaLabel: 'stay',
							name: 'stay',
							id: 'stay_' + i + '_' + index,
							value: rowData[index],
							disabled: true
						});

						cell.append(input);
						row.append(cell);
					});

					for (let k = 3; k < 7; k++) {
						let cell = $('<td>');
						let checkboxDiv = $('<div>').addClass('custom-control custom-checkbox custom-control-inline mr-2');
						let checkboxInput = $('<input>').attr({
							type: 'checkbox',
							class: 'custom-control-input',
							id: 'checkbox_' + i + '_' + k,
							disabled: true
						});

						let checkboxLabel = $('<label>').addClass('custom-control-label').attr('for', 'checkbox_' + i + '_' + k);
						checkboxDiv.append(checkboxInput);
						checkboxDiv.append(checkboxLabel);
						cell.append(checkboxDiv);
						row.append(cell);

					}

					if (rowData[5] !== null && rowData[5] === 'Y') {
						console.log("suba:", rowData[5]);
						row.find('[id^="checkbox_"][id$="_3"]').each(function () {
							/*     $(this).prop('disabled', false); */
							$(this).prop('checked', true);
						});
					}
					if (rowData[6] !== null && rowData[6] === 'Y') {
						console.log("suba:", rowData[6]);
						row.find('[id^="checkbox_"][id$="_4"]').each(function () {
							/*     $(this).prop('disabled', false); */
							$(this).prop('checked', true);
						});
					}
					if (rowData[7] !== null && rowData[7] === 'Y') {
						console.log("suba:", rowData[7]);
						row.find('[id^="checkbox_"][id$="_5"]').each(function () {
							/*     $(this).prop('disabled', false); */
							$(this).prop('checked', true);
						});
					}




					tableBody.append(row);
				}
			}


			$('#searchButton').on('click', function () {

				if ($('#sbiNumberInput').val() == '') {
					$('#errorNAME').html('<span style="color: red;">Please enter ID number</span>');
					$('#errorNAME').css('display', 'block')
					$('#username').focus();
					return;
				}
				var sbiNumberInput = $('#sbiNumberInput').val();
				$.ajax({
					method: 'GET',
					url: contextPath + 'Sentencelevel',
					data: {
						parameter: sbiNumberInput
					},
					success: function (response) {
						$('#errorNAME').hide();
						$('#CheckedRadio').prop('checked', true);
						var responseData = response;
						console.log(responseData);
						populateTable(responseData);

						responseData.forEach(function (item) {
							if (item && item.length > 0) {
								var checkboxId = 'checkbox' + item[5];
								console.log('Checkbox ID:', checkboxId); // Check the constructed checkbox Id								 
								$('#' + checkboxId).prop('checked', true);
								/* 	$('#' + checkboxId).prop('disabled', false);  */

							}
						});
					},
					error: function (xhr, status, error) {
						console.error(status, error);
					}
				});
			});

			function AllowOnlyNumbers(e) {
				e = (e) ? e : window.event;

				var clipboardData = e.clipboardData ? e.clipboardData : window.clipboardData;
				var key = e.keyCode ? e.keyCode : e.which ? e.which : e.charCode;
				var str = (e.type && e.type == "paste") ? clipboardData.getData('Text') : String.fromCharCode(key);

				return (/^\d+$/.test(str));
			}

			$(document.body).on('keypress', '.num', function (e) {
				return AllowOnlyNumbers(e);
			});

			$(document.body).on('keypress keyup keydown focus', '.mail', function (e) {

				if ($(this).val() != '') {

					if (validateEmail($(this).val())) {
						$(this).removeClass('error_fld');
					} else {
						$(this).addClass('error_fld');
					}

				} else {
					$(this).removeClass('error_fld');
				}


			});

			function validateEmail(email) {
				var re = /\S+@\S+\.\S+/;
				return re.test(email);
			}

			/* getAttrModify(); */
			function getAttrModify() {
				var scrncode = $('#screenCode').val();

				//console.log('modify calling : ' + scrncode);

				$.ajax({
					type: "POST",
					url: contextPath + "getAttr",
					dataType: "json",
					data: {screenCode: scrncode},
					success: function (response) {
						for (var i = 0; i < response.length; i++) {
							//var ide = $("[name='" + response[i]['FIELD_NAME'] + "']").attr("id");
							if (response[i]['READ_ONLY_FLAG'] == 'Y') {

								//console.log('test ' + response[i]['FIELD_NAME']);

								$("." + response[i]['FIELD_NAME']).attr('readonly', true);
								$("." + response[i]['FIELD_NAME']).attr('disabled', true);
								$("." + response[i]['FIELD_NAME']).css('pointer-events', 'none');
							}

							if (response[i]['MANDATORY_FLAG'] == 'Y') {
								var txt = $("#lbl-" + response[i]['FIELD_NAME']).text();
								$("#lbl-" + response[i]['FIELD_NAME']).html(txt + "<span style='color:#f00;'>*</span>");
								$("." + response[i]['FIELD_NAME']).addClass('mandatory');
							}
							/*if (response[i]['MANDATORY_FLAG'] == 'Y') {
								$('label[for="' + ide + '"]').html(response[i]['FIELD_LABEL'] + "<span style='color:#f00;'>*</span>");
								$('#' + ide).addClass('mandatory');
								} else {
								$('label[for="' + ide + '"]').html(response[i]['FIELD_LABEL']);
								$('#' + ide).removeClass('mandatory');
							}*/
						}
					},
					error: function () {
						alert("json not found");
					}
				});
			}

			/* getValid(); */

			function getValid() {
				var scrncode = $('#screenCode').val();

				console.log('scrncode is ' + scrncode);

				$.ajax({
					url: contextPath + 'getValid',
					method: 'POST',
					dataType: "json",
					data: {screenCode: scrncode},
					success: function (response) {

						console.log('asif try 1');
						console.log('response.length : ' + response.length);

						for (var i = 0; i < response.length; i++) {
							console.log(response[i]['VALIDATION_LOGIC'] + " for " + response[i]['FIELD_NAME']);

							var typ = response[i]['VALIDATION_LOGIC'].split('::')[0];
							var rul = response[i]['VALIDATION_LOGIC'].split('::')[1];
							var len = response[i]['VALIDATION_LOGIC'].split('::')[2];

							if (typ == 'Text') {
								if (rul == 'Number') {
									$('.' + response[i]['FIELD_NAME']).addClass('num');
								}

								if (rul == 'Email') {
									$('.' + response[i]['FIELD_NAME']).addClass('mail');
								}

								if (len != 'X' && len > 0) {
									$('.' + response[i]['FIELD_NAME']).prop('maxlength', len);
								}
							} else if (typ == 'Date') {
								rules = rul.split(",");

								var min = '';
								var max = '';
								var ddates = [];

								for (var j = 0; j < rules.length; j++) {
									var rule = rules[j].split(":")[0];
									var value = rules[j].split(":")[1];
									switch (rule) {
										case 'mindt':
											min = chkToday(value);
											break;
										case 'maxdt':
											max = chkToday(value);
											break;
										case 'mindt+':
											min = differDay(chkToday(value), 'N');
											break;
										case 'maxdt-':
											max = differDay(chkToday(value), 'P');
											break;
										case 'not':
											ddates.push(chkToday(value));
											break;
									}

								}

								//alert(response[i]['FIELD_NAME']);
								var valid_info = min + '::' + max + '::' + ddates.join(',');
								$('#' + response[i]['FIELD_NAME']).attr('data-valid', valid_info);
								applyRange(min, max, ddates, response[i]['FIELD_NAME']);
							}



							/*
								if (cat == 'hardcoded' && vals != '') {
								vals = vals.split(',');
								var content = '<option value="">Select ' + response[i]['FIELD_LABEL'] + '</option>';
								for (var j = 0; j < vals.length; j++) {
								content += '<option value="' + vals[j].split(':')[0] + '">' + vals[j].split(':')[1] + '</option>';
								}
								
								$('.' + response[i]['FIELD_NAME']).html(content);
								}
								
								if (cat == 'query' && vals != '') {
								setOption(vals, response[i]['FIELD_NAME'], response[i]['FIELD_LABEL']);
								}
							*/

						}
					},
					error: function (error) {
						//console.error("Error getting table names:", error);
					}
				});
			}

			function setOption(vals, field, label) {
				$.ajax({
					url: contextPath + 'getVals',
					method: 'POST',
					dataType: "json",
					data: {vals: vals},
					success: function (response) {
						var content = '<option value="">Select ' + label + '</option>';
						for (var i = 0; i < response.length; i++) {
							content += '<option value="' + response[i]['VAL'] + '">' + response[i]['VAL'] + '</option>';
						}
						$('.' + field).html(content);
					},
					error: function (error) {
						//console.error("Error getting table names:", error);
					}
				});
			}

			function applyRange(min, max, ddates, cls) {

				if (min == '') {
					min = null;
				}

				if (max == '') {
					max = null;
				}

				$("." + cls).datepicker({
					dateFormat: "mm/dd/yy",
					minDate: min,
					maxDate: max,
					beforeShowDay: function (date) {
						var string = jQuery.datepicker.formatDate('mm/dd/yy', date);
						return [ddates.indexOf(string) == -1];
					}
				});

			}

			function chkToday(str) {
				if (str == 'today') {
					const d = new Date();
					let year = d.getFullYear();
					let month = d.getMonth() + 1;
					let date = d.getDate();
					str = padDigits(month, 2) + "/" + padDigits(date, 2) + "/" + padDigits(year, 4);
				}

				console.log('str check ' + str);

				return str;
			}

			function padDigits(number, digits) {
				return Array(Math.max(digits - String(number).length + 1, 0)).join(0) + number;
			}

			function differDay(dt, diff) {
				var day = new Date(dt);

				var nd = new Date(day);
				if (diff == 'N') {
					nd.setDate(day.getDate() + 1);
				} else {
					nd.setDate(day.getDate() - 1);
				}

				let year = nd.getFullYear();
				let month = nd.getMonth() + 1;
				let date = nd.getDate();
				var str = padDigits(month, 2) + "/" + padDigits(date, 2) + "/" + padDigits(year, 4);
				return str;
			}

			$(document).on('blur', '.hasDatepicker', function () {
				var fld = $(this).attr('data-field');
				if ($(this).val() != '') {
					var mydate = $(this).val();
					if (!valDate(mydate)) {
						$(this).val('');
						//alert("Invalid Date");
						Swal.fire('Alert', 'Invalid Date Given', 'warning');
					} else {
						var newdt = padDigits(mydate.split("/")[0], 2) + "/" + padDigits(mydate.split("/")[1], 2) + "/" + mydate.split("/")[2];
						if (checkAvailable(newdt, fld)) {
							$(this).val(newdt);
						} else {
							$(this).val('');
							//alert("Disabled Date Not Allowed");
							Swal.fire('Alert', 'Disabled Date Not Allowed', 'warning');
						}

					}
				}
			});

			function checkAvailable(dt, fld) {
				var valid_dt = $('#' + fld).attr('data-valid');
				var mindt = valid_dt.split('::')[0];
				var maxdt = valid_dt.split('::')[1];
				var ddates = valid_dt.split('::')[2].split(',');

				if (mindt != '') {
					var d1 = new Date(dt.split('/')[2], dt.split('/')[0] - 1, dt.split('/')[1]);
					var d2 = new Date(mindt.split('/')[2], mindt.split('/')[0] - 1, mindt.split('/')[1]);

					if (d1 < d2) {
						return false;
					}

				}

				if (maxdt != '') {
					var d1 = new Date(dt.split('/')[2], dt.split('/')[0] - 1, dt.split('/')[1]);
					var d2 = new Date(maxdt.split('/')[2], maxdt.split('/')[0] - 1, maxdt.split('/')[1]);

					if (d1 > d2) {
						return false;
					}

				}

				for (var i = 0; i < ddates.length; i++) {
					if (dt == ddates[i]) {
						return false;
					}
				}

				return true;

			}

			function valDate(mydate) {
				var valid = true;
				if (mydate.indexOf("/") == -1) {
					valid = false;
				}
				if (mydate.split('/').length != 3) {
					valid = false;
				}
				var mn = parseInt(mydate.split('/')[0]);
				var dt = parseInt(mydate.split('/')[1]);
				var yr = parseInt(mydate.split('/')[2]);
				if (mn > 12 || mn < 1) {
					valid = false;
				}
				if (mn == 1 || mn == 3 || mn == 5 || mn == 7 || mn == 8 || mn == 10 || mn == 12) {
					if (dt > 31 || dt < 1) {
						valid = false;
					}
				}
				if (mn == 4 || mn == 6 || mn == 9 || mn == 11) {
					if (dt > 30 || dt < 1) {
						valid = false;
					}
				}
				if (mn == 2) {
					if (yr % 4 == 0) {
						if (dt > 29 || dt < 1) {
							valid = false;
						}
					} else {
						if (dt > 28 || dt < 1) {
							valid = false;
						}
					}
				}
				if (yr > 2100 || yr < 2000) {
					valid = false;
				}
				return valid;
			}





			$(function () {
				$('.select2').select2();

				$(".select2-placeholder-multiple").select2(
					{
						placeholder: "Select State"
					});
				$(".js-hide-search").select2(
					{
						minimumResultsForSearch: 1 / 0
					});
				$(".js-max-length").select2(
					{
						maximumSelectionLength: 2,
						placeholder: "Select maximum 2 items"
					});
				$(".select2-placeholder").select2(
					{
						placeholder: "Select a state",
						allowClear: true
					});



				$(".js-select2-icons").select2(
					{
						minimumResultsForSearch: 1 / 0,
						templateResult: icon,
						templateSelection: icon,
						escapeMarkup: function (elm) {
							return elm
						}
					});

				function icon(elm) {
					elm.element;
					return elm.id ? "<i class='" + $(elm.element).data("icon") + " mr-2'></i>" + elm.text : elm.text
				}

				$(".js-data-example-ajax").select2(
					{
						ajax:
						{
							url: "https://api.github.com/search/repositories",
							dataType: 'json',
							delay: 250,
							data: function (params) {
								return {
									q: params.term, // search term
									page: params.page
								};
							},
							processResults: function (data, params) {
								// parse the results into the format expected by Select2
								// since we are using custom formatting functions we do not need to
								// alter the remote JSON data, except to indicate that infinite
								// scrolling can be used
								params.page = params.page || 1;

								return {
									results: data.items,
									pagination:
									{
										more: (params.page * 30) < data.total_count
									}
								};
							},
							cache: true
						},
						placeholder: 'Search for a repository',
						escapeMarkup: function (markup) {
							return markup;
						}, // let our custom formatter work
						minimumInputLength: 1,
						templateResult: formatRepo,
						templateSelection: formatRepoSelection
					});

				function formatRepo(repo) {
					if (repo.loading) {
						return repo.text;
					}

					var markup = "<div class='select2-result-repository clearfix d-flex'>" +
						"<div class='select2-result-repository__avatar mr-2'><img src='" + repo.owner.avatar_url + "' class='width-2 height-2 mt-1 rounded' /></div>" +
						"<div class='select2-result-repository__meta'>" +
						"<div class='select2-result-repository__title fs-lg fw-500'>" + repo.full_name + "</div>";

					if (repo.description) {
						markup += "<div class='select2-result-repository__description fs-xs opacity-80 mb-1'>" + repo.description + "</div>";
					}

					markup += "<div class='select2-result-repository__statistics d-flex fs-sm'>" +
						"<div class='select2-result-repository__forks mr-2'><i class='fal fa-lightbulb'></i> " + repo.forks_count + " Forks</div>" +
						"<div class='select2-result-repository__stargazers mr-2'><i class='fal fa-star'></i> " + repo.stargazers_count + " Stars</div>" +
						"<div class='select2-result-repository__watchers mr-2'><i class='fal fa-eye'></i> " + repo.watchers_count + " Watchers</div>" +
						"</div>" +
						"</div></div>";

					return markup;
				}

				function formatRepoSelection(repo) {
					return repo.full_name || repo.text;
				}

			});


			/* getAttrModify(); */

			function getAttrModify() {
				var scrncode = $('#screenCode').val();
				$.ajax({
					type: "POST",
					url: contextPath + "getAttr",
					dataType: "json",
					data: {screenCode: scrncode},
					success: function (response) {

						for (var i = 0; i < response.length; i++) {

							//var ide = $("[name='" + response[i]['FIELD_NAME'] + "']").attr("id");

							if (response[i]['READ_ONLY_FLAG'] == 'Y') {
								$("." + response[i]['FIELD_NAME']).attr('readonly', true);
								$("." + response[i]['FIELD_NAME']).css('pointer-events', 'none');
								$("." + response[i]['FIELD_NAME']).attr('disabled', true);
							}

							if (response[i]['MANDATORY_FLAG'] == 'Y') {
								var txt = $(".lbl-" + response[i]['FIELD_NAME']).text();
								$(".lbl-" + response[i]['FIELD_NAME']).html(txt + "<span class='text-danger'>*</span>");
								$("." + response[i]['FIELD_NAME']).addClass('mandatory');
							}

							/*if (response[i]['MANDATORY_FLAG'] == 'Y') {
								$('label[for="' + ide + '"]').html(response[i]['FIELD_LABEL'] + "<span style='color:#f00;'>*</span>");
								$('#' + ide).addClass('mandatory');
							} else {
								$('label[for="' + ide + '"]').html(response[i]['FIELD_LABEL']);
								$('#' + ide).removeClass('mandatory');
							}*/


						}

					},
					error: function () {
						alert("json not found");
					}
				});
			}

	/* 		getLOV(); */

			function getLOV() {
				var scrncode = $('#screenCode').val();

				console.log('scrncode is ' + scrncode);

				$.ajax({
					url: contextPath + 'getLOV',
					method: 'POST',
					dataType: "json",
					data: {screenCode: scrncode},
					success: function (response) {
						for (var i = 0; i < response.length; i++) {
							console.log(response[i]['ALGORITHM_QUERY'] + " for " + response[i]['FIELD_NAME']);

							var cat = response[i]['ALGORITHM_QUERY'].split('::')[0];
							var vals = response[i]['ALGORITHM_QUERY'].split('::')[1];

							if (cat == 'hardcoded' && vals != '') {
								vals = vals.split(',');
								var content = '<option value="">Select ' + response[i]['FIELD_LABEL'] + '</option>';
								for (var j = 0; j < vals.length; j++) {
									content += '<option value="' + vals[j].split(':')[0] + '">' + vals[j].split(':')[1] + '</option>';
								}

								$('.' + response[i]['FIELD_NAME']).html(content);
							}

							if (cat == 'query' && vals != '') {
								setOption(vals, response[i]['FIELD_NAME'], response[i]['FIELD_LABEL']);
							}

						}
					},
					error: function (error) {
						//console.error("Error getting table names:", error);
					}
				});
			}

			/* getValid(); */

			function getValid() {
				var scrncode = $('#screenCode').val();

				console.log('scrncode is ' + scrncode);

				$.ajax({
					url: contextPath + 'getValid',
					method: 'POST',
					dataType: "json",
					data: {screenCode: scrncode},
					success: function (response) {

						console.log('asif try 1');
						console.log('response.length : ' + response.length);

						for (var i = 0; i < response.length; i++) {
							console.log(response[i]['VALIDATION_LOGIC'] + " for " + response[i]['FIELD_NAME']);

							var typ = response[i]['VALIDATION_LOGIC'].split('::')[0];
							var rul = response[i]['VALIDATION_LOGIC'].split('::')[1];
							var len = response[i]['VALIDATION_LOGIC'].split('::')[2];

							if (typ == 'Text') {
								if (rul == 'Number') {
									$('.' + response[i]['FIELD_NAME']).addClass('num');
								}

								if (rul == 'Email') {
									$('.' + response[i]['FIELD_NAME']).addClass('mail');
								}

								if (len != 'X' && len > 0) {
									$('.' + response[i]['FIELD_NAME']).prop('maxlength', len);
								}
							} else if (typ == 'Date') {
								rules = rul.split(",");

								var min = '';
								var max = '';
								var ddates = [];

								for (var j = 0; j < rules.length; j++) {
									var rule = rules[j].split(":")[0];
									var value = rules[j].split(":")[1].split('|||')[0];
									switch (rule) {
										case 'mindt':
											min = chkToday(value);
											break;
										case 'maxdt':
											max = chkToday(value);
											break;
										case 'mindt+':
											min = differDay(chkToday(value), 'N');
											break;
										case 'maxdt-':
											max = differDay(chkToday(value), 'P');
											break;
										case 'not':
											ddates.push(chkToday(value));
											break;
									}

								}

								//alert(response[i]['FIELD_NAME']);
								var valid_info = min + '::' + max + '::' + ddates.join(',');
								$('#' + response[i]['FIELD_NAME']).attr('data-valid', valid_info);
								$('#' + response[i]['FIELD_NAME']).attr('data-check', rul);
								applyRange(min, max, ddates, response[i]['FIELD_NAME']);
							}



							/*
							if (cat == 'hardcoded' && vals != '') {
								vals = vals.split(',');
								var content = '<option value="">Select ' + response[i]['FIELD_LABEL'] + '</option>';
								for (var j = 0; j < vals.length; j++) {
									content += '<option value="' + vals[j].split(':')[0] + '">' + vals[j].split(':')[1] + '</option>';
								}
	
								$('.' + response[i]['FIELD_NAME']).html(content);
							}
	
							if (cat == 'query' && vals != '') {
								setOption(vals, response[i]['FIELD_NAME'], response[i]['FIELD_LABEL']);
							}
							*/

						}
					},
					error: function (error) {
						//console.error("Error getting table names:", error);
					}
				});
			}

			function setOption(vals, field, label) {
				$.ajax({
					url: contextPath + 'getVals',
					method: 'POST',
					dataType: "json",
					data: {vals: vals},
					success: function (response) {
						var content = '<option value="">Select ' + label + '</option>';
						for (var i = 0; i < response.length; i++) {
							content += '<option value="' + response[i]['VAL'] + '">' + response[i]['OPT'] + '</option>';
						}
						$('.' + field).html(content);
					},
					error: function (error) {
						//console.error("Error getting table names:", error);
					}
				});
			}

			function applyRange(min, max, ddates, cls) {

				if (min == '') {
					min = null;
				}

				if (max == '') {
					max = null;
				}

				$("." + cls).datepicker({
					dateFormat: "mm/dd/yy",
					minDate: min,
					maxDate: max,
					beforeShowDay: function (date) {
						var string = jQuery.datepicker.formatDate('mm/dd/yy', date);
						return [ddates.indexOf(string) == -1];
					}
				});

				$("." + cls).attr("autocomplete", "off");

			}

			function chkToday(str) {
				if (str == 'today') {
					const d = new Date();
					let year = d.getFullYear();
					let month = d.getMonth() + 1;
					let date = d.getDate();
					str = padDigits(month, 2) + "/" + padDigits(date, 2) + "/" + padDigits(year, 4);
				}

				console.log('str check ' + str);

				return str;
			}

			function padDigits(number, digits) {
				return Array(Math.max(digits - String(number).length + 1, 0)).join(0) + number;
			}

			function differDay(dt, diff) {
				var day = new Date(dt);

				var nd = new Date(day);
				if (diff == 'N') {
					nd.setDate(day.getDate() + 1);
				} else {
					nd.setDate(day.getDate() - 1);
				}

				let year = nd.getFullYear();
				let month = nd.getMonth() + 1;
				let date = nd.getDate();
				var str = padDigits(month, 2) + "/" + padDigits(date, 2) + "/" + padDigits(year, 4);
				return str;
			}

			$(document).on('blur', '.hasDatepicker', function () {
				var fld = $(this).attr('data-field');
				if ($(this).val() != '') {
					var mydate = $(this).val();
					if (!valDate(mydate)) {
						$(this).val('');
						//alert("Invalid Date");
						Swal.fire('Alert', 'Date is not valid', 'warning');
					} else {
						var newdt = padDigits(mydate.split("/")[0], 2) + "/" + padDigits(mydate.split("/")[1], 2) + "/" + mydate.split("/")[2];

						if (dateCheck(newdt, fld) != '') {
							$(this).val('');
							var msg = dateCheck(newdt, fld);
							Swal.fire('Alert', msg, 'warning');
							return;
						}

						if (checkAvailable(newdt, fld)) {
							$(this).val(newdt);
						} else {

							$(this).val('');

							var date_check = $('#' + fld).attr('data-check');

							date_rules = date_check.split(',');

							for (var i = 0; i < date_rules.length; i++) {

								if (!date_rules[i].includes('today')) {
									//console.log('here some specific : ' + date_rules[i]);

									if (date_rules[i].includes('not:')) {
										var getdt = date_rules[i].split("not:")[1].split("|||")[0];
										var getmsg = date_rules[i].split("not:")[1].split("|||")[1];
										if (newdt == getdt) {
											if (getmsg != '') {
												Swal.fire('Alert', getmsg, 'warning');
												return;
											}
										}
									}

									if (date_rules[i].includes('maxdt-:')) {
										var getdt = date_rules[i].split("maxdt-:")[1].split("|||")[0];
										var getmsg = date_rules[i].split("maxdt-:")[1].split("|||")[1];

										var d1 = new Date(newdt.split('/')[2], newdt.split('/')[0] - 1, newdt.split('/')[1]);
										var d2 = new Date(getdt.split('/')[2], getdt.split('/')[0] - 1, getdt.split('/')[1]);

										if (newdt == getdt || d1 > d2) {
											if (getmsg != '') {
												Swal.fire('Alert', getmsg, 'warning');
												return;
											}
										}
									}

									if (date_rules[i].includes('mindt+:')) {
										var getdt = date_rules[i].split("mindt+:")[1].split("|||")[0];
										var getmsg = date_rules[i].split("mindt+:")[1].split("|||")[1];

										var d1 = new Date(newdt.split('/')[2], newdt.split('/')[0] - 1, newdt.split('/')[1]);
										var d2 = new Date(getdt.split('/')[2], getdt.split('/')[0] - 1, getdt.split('/')[1]);

										if (newdt == getdt || d1 < d2) {
											if (getmsg != '') {
												Swal.fire('Alert', getmsg, 'warning');
												return;
											}
										}
									}

									if (date_rules[i].includes('maxdt:')) {
										var getdt = date_rules[i].split("maxdt:")[1].split("|||")[0];
										var getmsg = date_rules[i].split("maxdt:")[1].split("|||")[1];

										var d1 = new Date(newdt.split('/')[2], newdt.split('/')[0] - 1, newdt.split('/')[1]);
										var d2 = new Date(getdt.split('/')[2], getdt.split('/')[0] - 1, getdt.split('/')[1]);

										if (d1 > d2) {
											if (getmsg != '') {
												Swal.fire('Alert', getmsg, 'warning');
												return;
											}
										}
									}

									if (date_rules[i].includes('mindt:')) {
										var getdt = date_rules[i].split("mindt:")[1].split("|||")[0];
										var getmsg = date_rules[i].split("mindt:")[1].split("|||")[1];

										console.log('test alpha : ' + newdt);
										console.log('test beta : ' + getdt);

										var d1 = new Date(newdt.split('/')[2], newdt.split('/')[0] - 1, newdt.split('/')[1]);
										var d2 = new Date(getdt.split('/')[2], getdt.split('/')[0] - 1, getdt.split('/')[1]);

										if (d1 < d2) {
											if (getmsg != '') {
												Swal.fire('Alert', getmsg, 'warning');
												return;
											}
										}
									}


								}

							}

							//alert("Disabled Date Not Allowed");
							Swal.fire('Alert', 'You cannot enter this date ' + newdt, 'warning');
						}

					}
				}
			});

			function dateCheck(dt, fld) {
				var date_check = $('#' + fld).attr('data-check');
				var ret_msg = '';

				const d = new Date();
				let year = d.getFullYear();
				let month = d.getMonth() + 1;
				let date = d.getDate();
				var today = padDigits(month, 2) + "/" + padDigits(date, 2) + "/" + padDigits(year, 4);

				if (dt == today) {
					/*if(date_check.includes('not:today') || date_check.includes('maxdt-:today') || date_check.includes('mindt+:today')) {
						ret_msg = 'You cannot able to enter today date';
					}*/

					if (date_check.includes('not:today')) {

						//console.log('Test: ' + date_check.split('not:today')[1].split(',')[0].split('|||')[1]);

						if (date_check.split('not:today')[1].split(',')[0].split('|||')[1] != '') {
							ret_msg = date_check.split('not:today')[1].split(',')[0].split('|||')[1];
						} else {
							ret_msg = 'You cannot able to enter today date';
						}

					} else if (date_check.includes('maxdt-:today')) {

						if (date_check.split('maxdt-:today')[1].split(',')[0].split('|||')[1] != '') {
							ret_msg = date_check.split('maxdt-:today')[1].split(',')[0].split('|||')[1];
						} else {
							ret_msg = 'You cannot able to enter today date';
						}

					} else if (date_check.includes('mindt+:today')) {

						if (date_check.split('mindt+:today')[1].split(',')[0].split('|||')[1] != '') {
							ret_msg = date_check.split('mindt+:today')[1].split(',')[0].split('|||')[1];
						} else {
							ret_msg = 'You cannot able to enter today date';
						}

					}

				}

				var d1 = new Date(dt.split('/')[2], dt.split('/')[0] - 1, dt.split('/')[1]);

				if (d1 > d) {
					/*if (date_check.includes('maxdt-:today') || date_check.includes('maxdt:today')) {
						ret_msg = 'You cannot able to enter future date';
					}*/

					if (date_check.includes('maxdt-:today')) {

						if (date_check.split('maxdt-:today')[1].split(',')[0].split('|||')[1] != '') {
							ret_msg = date_check.split('maxdt-:today')[1].split(',')[0].split('|||')[1];
						} else {
							ret_msg = 'You cannot able to enter future date';
						}

					} else if (date_check.includes('maxdt:today')) {

						if (date_check.split('maxdt:today')[1].split(',')[0].split('|||')[1] != '') {
							ret_msg = date_check.split('maxdt:today')[1].split(',')[0].split('|||')[1];
						} else {
							ret_msg = 'You cannot able to enter future date';
						}

					}
				}

				if (d1 < d) {
					/*if (date_check.includes('mindt+:today') || date_check.includes('mindt:today')) {
						ret_msg = 'You cannot able to enter past date';
					}*/

					if (date_check.includes('mindt+:today')) {

						if (date_check.split('mindt+:today')[1].split(',')[0].split('|||')[1] != '') {
							ret_msg = date_check.split('mindt+:today')[1].split(',')[0].split('|||')[1];
						} else {
							ret_msg = 'You cannot able to enter past date';
						}

					} else if (date_check.includes('mindt:today')) {

						if (date_check.split('mindt:today')[1].split(',')[0].split('|||')[1] != '') {
							ret_msg = date_check.split('mindt:today')[1].split(',')[0].split('|||')[1];
						} else {
							ret_msg = 'You cannot able to enter past date';
						}

					}

				}

				return ret_msg;

			}

			function checkAvailable(dt, fld) {
				var valid_dt = $('#' + fld).attr('data-valid');
				var mindt = valid_dt.split('::')[0];
				var maxdt = valid_dt.split('::')[1];
				var ddates = valid_dt.split('::')[2].split(',');

				if (mindt != '') {
					var d1 = new Date(dt.split('/')[2], dt.split('/')[0] - 1, dt.split('/')[1]);
					var d2 = new Date(mindt.split('/')[2], mindt.split('/')[0] - 1, mindt.split('/')[1]);

					if (d1 < d2) {
						return false;
					}

				}

				if (maxdt != '') {
					var d1 = new Date(dt.split('/')[2], dt.split('/')[0] - 1, dt.split('/')[1]);
					var d2 = new Date(maxdt.split('/')[2], maxdt.split('/')[0] - 1, maxdt.split('/')[1]);

					if (d1 > d2) {
						return false;
					}

				}

				for (var i = 0; i < ddates.length; i++) {
					if (dt == ddates[i]) {
						return false;
					}
				}

				return true;

			}

			function valDate(mydate) {
				var valid = true;
				if (mydate.indexOf("/") == -1) {
					valid = false;
				}
				if (mydate.split('/').length != 3) {
					valid = false;
				}
				var mn = parseInt(mydate.split('/')[0]);
				var dt = parseInt(mydate.split('/')[1]);
				var yr = parseInt(mydate.split('/')[2]);
				if (mn > 12 || mn < 1) {
					valid = false;
				}
				if (mn == 1 || mn == 3 || mn == 5 || mn == 7 || mn == 8 || mn == 10 || mn == 12) {
					if (dt > 31 || dt < 1) {
						valid = false;
					}
				}
				if (mn == 4 || mn == 6 || mn == 9 || mn == 11) {
					if (dt > 30 || dt < 1) {
						valid = false;
					}
				}
				if (mn == 2) {
					if (yr % 4 == 0) {
						if (dt > 29 || dt < 1) {
							valid = false;
						}
					} else {
						if (dt > 28 || dt < 1) {
							valid = false;
						}
					}
				}
				if (yr > 2100 || yr < 2000) {
					valid = false;
				}
				return valid;
			}

		});

	/* 	
		function customSorter(a, b, aRow, bRow, column, dir) {
		      const emptyA = (a === null || a === undefined || a === "");
		      const emptyB = (b === null || b === undefined || b === "");

		      if (emptyA && emptyB) return 0;
		      if (emptyA) return dir === "asc" ? 1 : -1;
		      if (emptyB) return dir === "asc" ? -1 : 1;

		      if (typeof a === "boolean" && typeof b === "boolean") {
		        return a === b ? 0 : a ? 1 : -1;
		      }

		      if (!isNaN(a) && !isNaN(b)) {
		        return Number(a) - Number(b);
		      }

		      return String(a).localeCompare(String(b));
		    } 
	 	
	 	 function showCustomTooltip(e, cell, html) {
	 	    const tooltip = document.getElementById("custom-tooltip");
	 	    tooltip.innerHTML = html;
	 	    tooltip.style.display = "block";
	 	    tooltip.style.top = (e.clientY + 15) + "px";
	 	    tooltip.style.left = (e.clientX + 15) + "px";
	 	  }

	 	  function moveCustomTooltip(e) {
	 	    const tooltip = document.getElementById("custom-tooltip");
	 	    tooltip.style.top = (e.clientY + 15) + "px";
	 	    tooltip.style.left = (e.clientX + 15) + "px";
	 	  }

	 	  function hideCustomTooltip() {
	 	    const tooltip = document.getElementById("custom-tooltip");
	 	    tooltip.style.display = "none";
	 	  } */
	
		// Define Test Data
		var tabledata = [];
		
		var numRecords=12;
		tabledata = Array.from({ length: numRecords }, () => ({
			 bedDescription:"",
				bedType:"",
				bedStat:"",
				sbino:"",
				commitFirstName:"",
				commitLastName:"",
				commitMiddleName:"",
				commitSuffixName:"",
				availableDate:"",
				availableTime:"",
				bedNo:"",
				bedStatus:"",
		        })); 
		
	//	HousingfacilityTable(tabledata);
	//	function HousingfacilityTable(tabledata){
		//Define Table 
		var table = new Tabulator("#housing-table", {
			layout:"fitColumns",
			tooltips:true,
			addRowPos:"top",
			history:true,
			pagination:false,
			paginationSize:false,
			movableColumns:true,
			resizableRows:true,
			data:tabledata,
			height: "100%",
			initialSort:[
				{column:"name", dir:"asc"},
			],
			columns:[
				  {
						title: "id",
						field: "id",
						visible: false,
					},
					{
						title: 'upd',
						visible: false,
						field: "upd",
					},
					{
						title: 'rowid',
						visible: false,
						field: "rowid",
					},
				{
		//				title:"Bed",
						titleFormatter: (column) => setTitleDesc(column, 'Bed_Table', 'Bed'),
						headerTooltip:"Bed",
						field:"bedDescription",
						sorter: customSorter,
						cellMouseOver: function (e, cell) {
					          const data = cell.getRow().getData();
					          if (data.bedDescription) {
					              showCustomTooltip(e, cell, `${data.bedDescription}`);
					            }
					        },
					        cellMouseMove: moveCustomTooltip,
					        cellMouseOut: hideCustomTooltip,
						width:100,		
				},
				{
		//			title:"Bed Type" ,
					titleFormatter: (column) => setTitleDesc(column, 'BedType_Table', 'Bed Type'),
					headerTooltip:"Bed Type",
					field:"bedType",
					sorter: customSorter,
					cellMouseOver: function (e, cell) {
				          const data = cell.getRow().getData();
				          if (data.bedType) {
				              showCustomTooltip(e, cell, `${data.bedType}`);
				            }
				        },
				        cellMouseMove: moveCustomTooltip,
				        cellMouseOut: hideCustomTooltip,
				},
				{
					title:"Bed Status",
					titleFormatter: (column) => setTitleDesc(column, 'BedStatus_Table', 'Bed Status'),
					headerTooltip:"Bed Status",
					field:"bedStat",
					sorter: customSorter,
					cellMouseOver: function (e, cell) {
				          const data = cell.getRow().getData();
				          if (data.bedStat) {
				              showCustomTooltip(e, cell, `${data.bedStat}`);
				            }
				        },
				        cellMouseMove: moveCustomTooltip,
				        cellMouseOut: hideCustomTooltip,
					width:100
				},
				{
					title:"ID#",
					titleFormatter: (column) => setTitleDesc(column, 'ID_table', 'ID'),
					headerTooltip:"ID",
					field:"sbino",
					sorter: customSorter,
					cellMouseOver: function (e, cell) {
				          const data = cell.getRow().getData();
				          if (data.sbino) {
				              showCustomTooltip(e, cell, `${data.sbino}`);
				            }
				        },
				        cellMouseMove: moveCustomTooltip,
				        cellMouseOut: hideCustomTooltip,
					width:100
				},
				{
					title:"First Name",
					titleFormatter: (column) => setTitleDesc(column, 'FirstName_Table', 'First Name'),
					headerTooltip:"First Name",
					field:"commitFirstName",	
					sorter: customSorter,
					cellMouseOver: function (e, cell) {
				          const data = cell.getRow().getData();
				          if (data.commitFirstName) {
				              showCustomTooltip(e, cell, `${data.commitFirstName}`);
				            }
				        },
				        cellMouseMove: moveCustomTooltip,
				        cellMouseOut: hideCustomTooltip,
				},
				{
					title:"Last Name", 
					titleFormatter: (column) => setTitleDesc(column, 'LastName_Table', 'Last Name'),
					headerTooltip:"Last Name",
					field:"commitLastName",
					sorter: customSorter,
					cellMouseOver: function (e, cell) {
				          const data = cell.getRow().getData();
				          if (data.commitLastName) {
				              showCustomTooltip(e, cell, `${data.commitLastName}`);
				            }
				        },
				        cellMouseMove: moveCustomTooltip,
				        cellMouseOut: hideCustomTooltip,
				},
				{
					title:"MI",
					titleFormatter: (column) => setTitleDesc(column, 'MI_Table', 'MI'),
					headerTooltip:"MI",
					field:"commitMiddleName",
					sorter: customSorter,
					cellMouseOver: function (e, cell) {
				          const data = cell.getRow().getData();
				          if (data.commitMiddleName) {
				              showCustomTooltip(e, cell, `${data.commitMiddleName}`);
				            }
				        },
				        cellMouseMove: moveCustomTooltip,
				        cellMouseOut: hideCustomTooltip,
					width:80,
				},
				{
					title:"Suffix",
					titleFormatter: (column) => setTitleDesc(column, 'Suffix_Table', 'Suffix'),
					headerTooltip:"Suffix", 
					field:"commitSuffixName",
					sorter: customSorter,
					cellMouseOver: function (e, cell) {
				          const data = cell.getRow().getData();
				          if (data.commitSuffixName) {
				              showCustomTooltip(e, cell, `${data.commitSuffixName}`);
				            }
				        },
				        cellMouseMove: moveCustomTooltip,
				        cellMouseOut: hideCustomTooltip,
					width:100,
				},
				{
					title:"Avail. Date",
					titleFormatter: (column) => setTitleDesc(column, 'AvailDate_Table', 'Avail.Date'),
					headerTooltip:"Avail.Date", 
					field:"availableDate",
					sorter: customSorter,
					cellMouseOver: function (e, cell) {
				          const data = cell.getRow().getData();
				          if (data.availableDate) {
				              showCustomTooltip(e, cell, `${data.availableDate}`);
				            }
				        },
				        cellMouseMove: moveCustomTooltip,
				        cellMouseOut: hideCustomTooltip,
					width:120, sorter:"date",
				},
				{
					title:"Avail. Time",
					titleFormatter: (column) => setTitleDesc(column, 'AvailTime_Table', 'Avail.Time'),
					headerTooltip:"Avail.Time", 
					field:"availableTime", 
					sorter: customSorter,
					cellMouseOver: function (e, cell) {
				          const data = cell.getRow().getData();
				          if (data.availableTime) {
				              showCustomTooltip(e, cell, `${data.availableTime}`);
				            }
				        },
				        cellMouseMove: moveCustomTooltip,
				        cellMouseOut: hideCustomTooltip,
					width:80,
				}
			],
			   rowFormatter: function(row) {
				    var rowData = row.getData();  
		            var BedNo = rowData.bedNo || "default"; 
		            var eventClass ='BeddetailS' ;
		            var disableRow ='disabled-row';
		            var colorClass='color-'+rowData.bedStatus;
		            var rowElement = row.getElement(); 
		            rowElement.classList.add(disableRow);
		            rowElement.classList.add(eventClass);
		            rowElement.classList.add(colorClass);
		            rowElement.setAttribute('target', BedNo); 
		        }
		});
		
		table.on("dataLoaded", function() {
		    table.setHeight("calc(100vh - 450px)"); 
		});
		
		tabulatorRegistry["housing-table"] = {
				varName: "table",
				instance: table
			};
		
//		}
		
	</script>

 		<script type="text/javascript">
        $('#js-page-content').smartPanel();
    	
    </script>
    <div th:replace="~{fragments/script :: script}"></div>
    <div th:replace="~{fragments/msgBox :: msgBox}"></div>
</body>

	<!-- BEGIN Page Footer -->
		<!-- <div th:replace="~{fragments/footer :: footer}"></div> -->
	<!-- END Page Footer -->

</html>