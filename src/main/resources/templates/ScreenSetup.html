<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<meta charset="utf-8">
<title class="AdminSidebar">Screen Setup</title>
<div th:replace="~{fragments/head :: head}"></div>
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script>

	$(function () {

		var contextPath = /*[[@{/}]]*/ '';

		var row_content = $('#tab_bd').html();

		var screenTable = new Tabulator("#screendetail_table", {
			layout: "fitColumns",
			//data: tabledatascrndetail,
			height: '420px',
			printAsHtml: true,
			printStyled: true,
			rowFormatter: function (row) {
				if (row.getData().STATUS == "A") {
					row.getElement().style.color = "#1ab3a3";
				} else {
					row.getElement().style.color = "#fd2087";
				}
			},
			columns: [
				{
					title: "Screen#",
					field: "SCREEN_CODE",
					width: 100,
				},
				{
					title: "Screen Name",
					field: "SCREEN_NAME",
				},
				{
					title: "URL",
					field: "SCREEN_URL",
				},
				{
					title: "",
					field: "STATUS",
					visible: false,
				},
				{
					title: "",
					field: "INSERTED_USER_ID",
					visible: false,
				},
				{
					title: "",
					field: "UPDATED_USER_ID",
					visible: false,
				},
				{
					title: "",
					field: "INSERTED_DATE_TIME",
					visible: false,
				},
				{
					title: "",
					field: "UPDATED_DATE_TIME",
					visible: false,
				},
			]
		});

		setTimeout(function () {
			screenTable.setData("getAllScreens?filterStr=");
		}, 1000);

		screenTable.on("rowClick", function (e, row) {
			//alert("Row " + row.getData().SCREEN_CODE + " Clicked!!!!");
			//loadData(row.getData().ROLE_SEQ_NUM);

			var code = row.getData().SCREEN_CODE;
			var desc = row.getData().SCREEN_NAME;
			var url = row.getData().SCREEN_URL;
			var status = row.getData().STATUS;
			var insertedBy = row.getData().INSERTED_USER_ID;
			var insertedDateTime = formatDate(row.getData().INSERTED_DATE_TIME);
			var updatedBy = row.getData().UPDATED_USER_ID;
			var updatedDateTime = formatDate(row.getData().UPDATED_DATE_TIME);

			$("#screen-id").val(code);
			$("#screen-name").val(desc);
			$("#url-input").val(url);
			updationid = code;

			$('#customSwitch2').prop('checked', status === 'A');

			$("#insuserid").html(insertedBy);
			$("#insdate").html(insertedDateTime);
			$("#upduserid").html(updatedBy);
			$("#upddate").html(updatedDateTime);

			getAttr();

		});

		function formatDate(isoDate) {
			isoDate = isoDate.split("T")[0];
			const [year, month, day] = isoDate.split('-');
			return `${month}/${day}/${year}`;
		}

		function nullHandler(myval) {
			var return_val = '';
			if (myval != ' ' && myval != 'null') {
				return_val = myval;
			}
			return return_val;
		}

		function getAttr() {
			var screenCode = $('#screen-id').val();

			$('#fields').empty();

			$.ajax({
				type: "POST",
				url: contextPath + "getAttr",
				dataType: "json",
				data: {screenCode: screenCode},
				success: function (response) {
					//alert(response.length);
					if (response.length == 0) {
						return;
					}
					var test_content = "";
					for (var i = 0; i < response.length; i++) {
						var ide = "";
						var tag = "";
						var lbl = nullHandler(response[i]['FIELD_LABEL']);
						var nam = response[i]['FIELD_NAME'].split('--')[0];
						var must = response[i]['MANDATORY_FLAG'];
						var chk = response[i]['READ_ONLY_FLAG'];
						var key = response[i]['PRIMARY_KEY_FLAG'];
						var tbl = nullHandler(response[i]['TABLE_NAME']);
						var col = nullHandler(response[i]['COLUMN_NAME']);
						var lvl = response[i]['FIELD_LEVEL'];
						var lov = nullHandler(response[i]['ALGORITHM_QUERY']);
						var vld = nullHandler(response[i]['VALIDATION_LOGIC']);

						if (lvl == '0') {
							lvl = '';
						}

						var opt = "";
						//console.log($('#mydiv label').eq(i).prop('for'));

						var ide = i + 1;
						test_content += "<tr>";
						test_content += "<td class='align-middle seqfld'>" + ide + "</td>";
						test_content += "<td class='align-middle'><label class='form-label' for='" + nam + "1'>" + nam + "</label></td>";
						test_content += "<td class='align-middle'><input style='width:100px;' type='text' class='form-control attr_label' aria-label='" + nam + "1' name='" + nam + "1' id='" + nam + "1' value='" + lbl + "'></td>";

						if (must == 'Y') {
							test_content += "<td class='text-center align-middle'><input type='checkbox' checked class='mandatory' aria-label='Location1Mandatory' name='Location1Mandatory' id='Location1Mandatory'></td>";
						} else {
							test_content += "<td class='text-center align-middle'><input type='checkbox' class='mandatory' aria-label='Location1Mandatory' name='Location1Mandatory' id='Location1Mandatory'></td>";
						}

						if (chk == 'Y') {
							test_content += "<td class='text-center align-middle'><input type='checkbox' checked class='read-only' aria-label='Location1readOnly' name='Location1readOnly' id='Location1readOnly'></td>";
						} else {
							test_content += "<td class='text-center align-middle'><input type='checkbox' class='read-only' aria-label='Location1readOnly' name='Location1readOnly' id='Location1readOnly'></td>";
						}

						if (key == 'Y') {
							test_content += "<td class='text-center align-middle'><input type='checkbox' checked class='primary-key' aria-label='Location1primaryKey' name='Location1primaryKey' id='Location1primaryKey'></td>";
						} else {
							test_content += "<td class='text-center align-middle'><input type='checkbox' class='primary-key' aria-label='Location1primaryKey' name='Location1primaryKey' id='Location1primaryKey'></td>";
						}



						/*test_content += `<td class="text-center align-middle"><input type="hidden" class="updatable" value="N">`;
											test_content += `<a href="#" type="button" class="selectTbl btn btn-primary btn-sm btn-icon waves-effect waves-themed ml-2"`;
						test_content += `data-toggle="tooltip" data-placement="top" data-original-title="PickList" `;
						test_content += `"><i class="fal fa-plus"></i>`;
											test_content += `</a></td>`;*/

						//test_content += `<td><input type="text" class="form-control table_name" aria-label="Location1Column" name="Location1Column" id="Location1Column" value="` + tbl + `"></td>`;
						test_content += `<td class='align-middle'><input type="text" class="form-control table_name" aria-label="Location1Column" name="Location1Column" id="table_name` + ide + `" list="table-list" value="` + tbl + `"></td>`;

						test_content += `<td class='align-middle'><input type="text" class="form-control column_name" aria-label="Location1Column" name="Location1Column" list="column-list` + ide + `" id="column_name` + ide + `" value="` + col + `">`;
						test_content += `<datalist id="column-list` + ide + `"></datalist><input type="hidden" class="updatable" value="N"></td>`;
						test_content += `<td class='align-middle'><input type="text" class="form-control lvl_no" aria-label="Level_Number" name="lvl_no" id="lvl_no` + ide + `" value="` + lvl + `"></td>`;

						if (vld.split('::')[0] == 'hide') {
							test_content += `<td class='align-middle' colspan='2' style='text-align:center;font-weight:600;color:#700;'>Hidden Field<input value="` + vld + `" class="validationval" type="hidden" id="validationval_` + ide + `"><button class="validcls" style="display:none"></button><button class="lovcls" style="display:none"></button></td>`;
						} else {
							test_content += `<td class='align-middle'><button type="button" class="btn btn-primary btn-sm mr-1 validcls" id="validcls_` + ide + `" style="height: fit-content;">Validation</button><input value="` + vld + `" class="validationval" type="hidden" id="validationval_` + ide + `"></td>`;
							test_content += `<td class='align-middle'><button type="button" class="btn btn-primary btn-sm text-nowrap lovcls" id="lovcls_` + ide + `" style="height: fit-content;">LOV</button><input value="` + lov + `" class="lovval" type="hidden" id="lovval_` + ide + `"></td>`;
						}

						//if (vld.split('::')[0] == 'hide') {
						//test_content += ``;
						//} else if (vld.split('::')[0] == 'dropdown') {

						/*} else {
							test_content += `<td class='align-middle'><button type="button" class="btn btn-primary btn-sm text-nowrap lovcls" id="lovcls_` + ide + `" style="height: fit-content;pointer-events:none;">LOV</button><input value="` + lov + `" class="lovval" type="hidden" id="lovval_` + ide + `"></td>`;
						}*/
						//}

						test_content += "</tr>";


					}

					$('#fields').html(test_content);
					//buildTable();

				},
				error: function () {
					alert("json not found");
				}
			});
		}

		$(document.body).on('keyup', '#srch_field', function (e) {
			if (e.which == 13) {
				if ($(this).val() != "") {
					screenTable.setData("getAllScreens?filterStr=" + $(this).val());
				} else {
					screenTable.setData("getAllScreens?filterStr=");
				}
			}
		});
		
		/*$('#incl_inactive').on('click', function() {
			screenTable.setData("getAllScreens?filterStr=&sts=I");
		});*/

		$('#add_row').on('click', function () {
			var len = $('.dtpick').length;
			var test_content = row_content.split('test_xy').join('test_' + len);

			$('#tab_bd').append(test_content);

			$('.dtpick').datepicker({
				dateFormat: "mm/dd/yy", // Set the date format
				changeMonth: true,
				changeYear: true,
				yearRange: "1900:2050",
				showButtonPanel: true,  // Show the button panel
				onSelect: function () {
					$(this).datepicker("hide"); // Close the datepicker
				},
				beforeShow: function (input, inst) {
					setTimeout(() => {
						const buttonPane = $(inst.dpDiv).find(".ui-datepicker-buttonpane");
						if (buttonPane.find(".ui-datepicker-clear").length === 0) {
							$("<button>", {
								text: "Clear",
								class: "ui-datepicker-clear ui-state-default ui-priority-primary ui-corner-all",
								click: function () {
									$.datepicker._clearDate(input);
								}
							}).appendTo(buttonPane);
						}
					}, 1);
				}
			});
		});

		$(document.body).on('change', '.rule_opr', function () {
			var idx = $(this).index('.rule_opr');

			if ($(this).val().includes('today')) {
				$('.dtpick').eq(idx).val('');
				$('.dtpick').eq(idx).attr('disabled', true);
				$('.dtpick').eq(idx).attr('placeholder', 'Current Date');
			} else {
				$('.dtpick').eq(idx).removeAttr('disabled');
				$('.dtpick').eq(idx).attr('placeholder', 'mm/dd/yyyy');
			}
		});

		$(document.body).on('click', '.dt-remove', function () {
			$(this).parents('tr').remove();
		});

		$(document.body).on('click', '.validcls', function () {

			var idx = $('.validcls').index(this);
			$('.updatable').eq(idx).val('Y');

			var ide = $(this).attr('id');
			ide = ide.split('validcls_')[1];
			$('.leng').hide();
			$('.base_rule').hide();
			$('.dt_rule').hide();
			$('.dr2').hide();
			$('.dr0').prop('checked', false);
			$('.dr1').prop('checked', false);
			$('.dr2').val('');

			$('#field_typ').val('');
			$('#rule').val('');
			$('#leng').val('');

			if ($('#validationval_' + ide).val().trim() != '') {
				vld_content = $('#validationval_' + ide).val();

				var typ = vld_content.split('::')[0];
				var rul = vld_content.split('::')[1];
				var len = vld_content.split('::')[2];

				$('#field_typ').val(typ);

				if (typ == 'text') {

					var opt = '<option value="">Select Rule</option>';
					opt += '<option>Alphanumeric</option>';
					opt += '<option>Number</option>';
					opt += '<option>Email</option>';
					opt += '<option>Money</option>';
					$('#rule').html(opt);

					$('#rule').val(rul);
					$('#leng').val(len);
					$('.leng').show();
					$('.base_rule').show();
				} else if (typ == 'date') {
					if (rul != 'x') {
						setDateRule(rul);
					}
					$('.dt_rule').show();
				}

			}

			$('.dtpick').datepicker({
				dateFormat: "mm/dd/yy", // Set the date format
				changeMonth: true,
				changeYear: true,
				yearRange: "1900:2050",
				showButtonPanel: true,  // Show the button panel
				onSelect: function () {
					$(this).datepicker("hide"); // Close the datepicker
				},
				beforeShow: function (input, inst) {
					setTimeout(() => {
						const buttonPane = $(inst.dpDiv).find(".ui-datepicker-buttonpane");
						if (buttonPane.find(".ui-datepicker-clear").length === 0) {
							$("<button>", {
								text: "Clear",
								class: "ui-datepicker-clear ui-state-default ui-priority-primary ui-corner-all",
								click: function () {
									$.datepicker._clearDate(input);
								}
							}).appendTo(buttonPane);
						}
					}, 1);
				}
			});

			$('#cur_val_ide').val(ide);
			document.getElementById('validPopup').click();
		});

		function setDateRule(rul) {

			rules = rul.split(',');
			var content = '';
			for (var i = 0; i < rules.length; i++) {
				if (i == 0) {
					content += row_content;
				} else {
					var test_content = row_content.split('test_xy').join('test_' + i);
					content += test_content;
				}


			}

			$('#tab_bd').html(content);

			for (var i = 0; i < rules.length; i++) {
				//mindt:03/02/2024,maxdt:03/12/2024,not:today
				$('.rule_opr').eq(i).val('');

				//console.log('test a1 : ' + rules[i].split(':')[0]);

				if (rules[i].includes('today')) {
					$('.dtpick').eq(i).attr('disabled', true);
					$('.dtpick').eq(i).attr('placeholder', 'Current Date');
					$('.dtpick').eq(i).val('');

					if (rules[i].split(':')[0] != '' && rules[i].split(':')[0] != 'x') {
						$('.rule_opr').eq(i).val(rules[i].split('|||')[0]);
						$('.failmsg').eq(i).val(rules[i].split('|||')[1]);
					}

				} else {
					$('.dtpick').eq(i).removeAttr('disabled');
					$('.dtpick').eq(i).attr('placeholder', 'mm/dd/yyyy');
					$('.dtpick').eq(i).val(rules[i].split(':')[1].split('|||')[0]);

					if (rules[i].split(':')[0] != '' && rules[i].split(':')[0] != 'x') {
						$('.rule_opr').eq(i).val(rules[i].split(':')[0]);
						$('.failmsg').eq(i).val(rules[i].split(':')[1].split('|||')[1]);
					}
				}
			}

		}

		$('#field_typ').on('change', function () {
			var opt = '<option value="">Select Rule</option>';
			$('.leng').hide();
			$('.base_rule').hide();
			$('.dt_rule').hide();
			$('.dr2').hide();
			if ($(this).val() == 'text') {
				$('.leng').show();
				$('.base_rule').show();
				opt += '<option>Alphanumeric</option>';
				opt += '<option>Number</option>';
				opt += '<option>Email</option>';
				opt += '<option>Money</option>';

			} else if ($(this).val() == 'date') {
				$('.dt_rule').show();
				$('#tab_bd').empty();
				$('#add_row').trigger('click');
			}
			$('#rule').html(opt);
		});

		$('.dtpick').datepicker({
			dateFormat: "mm/dd/yy", // Set the date format
			changeMonth: true,
			changeYear: true,
			yearRange: "1900:2050",
			showButtonPanel: true,  // Show the button panel
			onSelect: function () {
				$(this).datepicker("hide"); // Close the datepicker
			},
			beforeShow: function (input, inst) {
				setTimeout(() => {
					const buttonPane = $(inst.dpDiv).find(".ui-datepicker-buttonpane");
					if (buttonPane.find(".ui-datepicker-clear").length === 0) {
						$("<button>", {
							text: "Clear",
							class: "ui-datepicker-clear ui-state-default ui-priority-primary ui-corner-all",
							click: function () {
								$.datepicker._clearDate(input);
							}
						}).appendTo(buttonPane);
					}
				}, 1);
			}
		});

		$('#savLOV').on('click', function () {
			var ide = $('#current_ide').val();
			var category = $('input[name="category"]:checked').val();
			var content = $('#lov_comment').val();
			$('#lovval_' + ide).val(category + '::' + content.split("'").join("[q]"));
			var field_name = $('#lovval_' + ide).parents('tr').find('td').eq(1).text();
			var screen_code = $('#screen-id').val();
			var algorithm = $('#lovval_' + ide).val();
			$('.close').trigger('click');
			$('.modal-backdrop').hide();
			savLOVtoDB(field_name, screen_code, algorithm);
		});

		function savLOVtoDB(field_name, screen, algorithm) {
			//alert(field_name);
			//alert(screen);
			//alert(algorithm);
			field_name = field_name + '--' + screen;
			//return;
			loader(1);
			$.ajax({
				url: contextPath + 'savLOV',
				method: 'POST',
				dataType: "json",
				data: {field_name: field_name, screen: screen, algorithm: algorithm},
				success: function (response) {
					//Swal.fire('Success', 'Data Saved', 'success');
					loader(0);
					message('S', 0, 0);
				},
				complete: function () {
					//Swal.fire('Success', 'Data Saved', 'success');
					loader(0);
					message('S', 0, 0);
				},
				error: function (error) {
					//console.error("Error getting table names:", error);
				}
			});
		}

		$('#savValid').on('click', function () {
			var ide = $('#cur_val_ide').val();
			var typ = $('#field_typ').val();
			var rul = $('#rule').val();
			var len = $('#leng').val();

			if (typ == 'date') {

				var leng = $('.rule_tab').length;
				var rules = [];
				for (var i = 0; i < leng; i++) {
					if ($('.rule_opr').eq(i).val() != '') {
						if ($('.rule_opr').eq(i).val().includes('today')) {
							rules.push($('.rule_opr').eq(i).val() + "|||" + $('.failmsg').eq(i).val());
						} else {
							rules.push($('.rule_opr').eq(i).val() + ":" + $('.dtpick').eq(i).val() + "|||" + $('.failmsg').eq(i).val());
						}
					}
				}

				rul = rules.toString();

				//alert(rul);

			}

			if (typ == '') {
				typ = 'x';
			}

			if (rul == '') {
				rul = 'x';
			}

			if (len == '') {
				len = 'x';
			}

			console.log(typ + '::' + rul + '::' + len);

			$('#validationval_' + ide).val(typ + '::' + rul + '::' + len);

			var field_name = $('#validationval_' + ide).parents('tr').find('td').eq(1).text();
			var screen_code = $('#screen-id').val();
			var validation_rule = $('#validationval_' + ide).val();

			$('.close').trigger('click');
			$('.modal-backdrop').hide();
			savValidToDB(field_name, screen_code, validation_rule);
		});

		function savValidToDB(field_name, screen, validation_rule) {
			//alert(field_name);
			//alert(screen);
			//alert(algorithm);
			field_name = field_name + '--' + screen;
			//return;
			loader(1);
			$.ajax({
				url: contextPath + 'savValid',
				method: 'POST',
				dataType: "json",
				data: {field_name: field_name, screen: screen, validation_rule: validation_rule},
				success: function (response) {
					//Swal.fire('Success', 'Data Saved', 'success');
					loader(0);
					message('S', 0, 0);
				},
				complete: function () {
					//Swal.fire('Success', 'Data Saved', 'success');
					loader(0);
					message('S', 0, 0);
				},
				error: function (error) {
					//console.error("Error getting table names:", error);
				}
			});
		}

		setTable();

		function setTable() {
			$.ajax({
				url: contextPath + 'getAllTable',
				method: 'POST',
				success: function (response) {
					var content = '';
					for (var i = 0; i < response.length; i++) {
						content += '<option>' + response[i]['NAME'] + '</option>';
					}
					$('#table-list').html(content);

				},
				error: function (error) {
					//console.error("Error getting table names:", error);
				}
			});
		}

		$(document.body).on('keyup', '.lvl_no', function (e) {
			var idx = $('.lvl_no').index(this);
			$('.updatable').eq(idx).val('Y');
		});

		$(document.body).on('keyup', '.attr_label', function (e) {
			var idx = $('.attr_label').index(this);
			$('.updatable').eq(idx).val('Y');
		});

		$(document.body).on('change', '.table_name', function (e) {
			var tbl = $(this).val();
			var ide = $(this).attr('id').split('table_name')[1];

			var idx = $('.table_name').index(this);
			$('.updatable').eq(idx).val('Y');

			$.ajax({
				url: contextPath + 'getTblCol',
				method: 'POST',
				data: {tbl: tbl},
				success: function (response) {
					var content = '';
					for (var i = 0; i < response.length; i++) {
						content += '<option>' + response[i]['COLUMN_NAME'] + '</option>';
					}
					$('#column-list' + ide).html(content);
					$('#column_name' + ide).val('');

				},
				error: function (error) {
					//console.error("Error getting table names:", error);
				}
			});

		});

		$(document.body).on('mousedown', '.column_name', function (e) {
			var ide = $(this).attr('id').split('column_name')[1];
			var tbl = $('#table_name' + ide).val();
			if ($('#column-list' + ide).html() == "" && tbl != "") {
				$.ajax({
					url: contextPath + 'getTblCol',
					method: 'POST',
					data: {tbl: tbl},
					success: function (response) {
						var content = '';
						for (var i = 0; i < response.length; i++) {
							content += '<option>' + response[i]['COLUMN_NAME'] + '</option>';
						}
						$('#column-list' + ide).html(content);
					},
					error: function (error) {
						//console.error("Error getting table names:", error);
					}
				});
			}
		});

		$(document.body).on('change', '.column_name', function (e) {
			var idx = $('.column_name').index(this);
			$('.updatable').eq(idx).val('Y');
		});

		function readFile(input) {
			let file = input;

			let reader = new FileReader();

			reader.readAsText(file);

			reader.onload = function () {
				var content = reader.result;
				$('#mydiv').html(content);

				/*alert($('#fields').text());
				
				if($('#fields').text().trim() == 'No data available in table') {
					$('#refresh_btn').trigger('click');
				}*/
			};

			reader.onerror = function () {
				console.log(reader.error);
			};

		}

		$(document.body).on('change', '.mandatory', function () {
			var idx = $('.mandatory').index(this);
			//alert(idx);
			$('.updatable').eq(idx).val('Y');
			$('.read-only').eq(idx).prop('checked', false);
		});

		$(document.body).on('change', '.read-only', function () {
			var idx = $('.read-only').index(this);
			//alert(idx);
			$('.updatable').eq(idx).val('Y');
			$('.mandatory').eq(idx).prop('checked', false);
		});

		$(document.body).on('change', '.primary-key', function () {
			var idx = $('.primary-key').index(this);
			//alert(idx);
			$('.updatable').eq(idx).val('Y');
		});

		$(document.body).on('click', '.lovcls', function () {
			var idx = $('.lovcls').index(this);
			//alert(idx);
			$('.updatable').eq(idx).val('Y');

			var ide = $(this).attr('id');
			ide = ide.split('lovcls_')[1];

			$('#chk_hardcoded').trigger('click');
			$('#lov_comment').val('');

			if ($('#lovval_' + ide).val().trim() != '') {
				lov_content = $('#lovval_' + ide).val();
				var category = lov_content.split('::')[0];
				var content = lov_content.split('::')[1];
				content = content.split("[q]").join("'");
				$('#chk_' + category).trigger('click');
				$('#lov_comment').val(content);
			}

			$('#current_ide').val(ide);
			//$('#lovPopup').trigger('click');

			document.getElementById('lovPopup').click();
		});

		$('#backToPage').on('click', function () {
			var url = $('#url-input').val();
			if (url.trim() != '') {
				window.open(url, '_blank');
			}
		});

		$('#refresh_btn').on('click', function () {

			/*for(var i=0,j=1;i<$('.rawField').length;i++,j++) {
				test_content = "";
				test_content += "<tr style='background:#c6f7d4;'>";
				test_content += "<td class='align-middle'>" + j + "</td>";
				test_content += "<td class='align-middle'><label class='form-label'>" + $('.rawField').eq(i).attr('data-fld') + "</label></td>";	
				test_content += "<td class='align-middle'><label class='form-label'>" + $('.rawField').eq(i).attr('data-lbl') + "</label></td>";
				test_content += "<td class='text-center align-middle'><input type='checkbox' class='mandatory' aria-label='Location1Mandatory' name='Location1Mandatory' id='Location1Mandatory'></td>";
				test_content += "<td class='text-center align-middle'><input type='checkbox' class='read-only' aria-label='Location1readOnly' name='Location1readOnly' id='Location1readOnly'></td>";
				test_content += "<td class='text-center align-middle'><input type='checkbox' class='primary-key' aria-label='Location1primaryKey' name='Location1primaryKey' id='Location1primaryKey'></td>";
				test_content += "<td><input type='hidden' class='updatable' value='Y'></td><td></td><td></td><td></td><td></td>";
				test_content += "</tr>";
						
				$('#fields').append(test_content);
			}
			
			return;*/

			var exist_flds = [];
			var new_flds = [];

			for (var a = 0; a < $('#fields tr').length; a++) {
				exist_flds.push("[" + $('#fields tr').eq(a).children('td').eq(1).text() + "]");
			}

			exist_flds = exist_flds.join(",");

			console.log('exist_flds : ' + exist_flds);

			var test_content = "";
			var j = 0;

			console.log('rawField length : ' + $('.rawField').length);

			for (var i = 0; i < $('.rawField').length; i++) {
				test_content = "";
				var ide = "";
				var lbl = "";
				var tag = "";
				var nam = "";
				var must = "";
				var chk = "";
				var opt = "";
				var valid = "";
				var allow_type = "";
				//console.log($('#mydiv label').eq(i).prop('for'));
				//if ($('#mydiv label').eq(i).attr('forx') == '1') {
				//ide = $('.permissible').eq(i).attr('specific');
				console.log('id is ' + ide);
				//allow_type = $('.permissible').eq(i).attr('allow-type');

				//if (allow_type != 'not') {
					
				allow_type = $('.rawField').eq(i).attr('data-typ');	
				if(allow_type == null || allow_type == undefined) {
					allow_type = '';
				}
				valid = allow_type + "::x::x";
				nam = ide;
				tag = $('.rawField').eq(i).prop('tagName');

				if (tag == 'TH') {
					lbl = $('#mydiv .rawField').eq(i).text().replace(/\s+/g, " ");
				} else {
					lbl = $('#mydiv .rawField').eq(i).attr('label-name');
				}

				ide = $('.rawField').eq(i).attr('data-fld');
				lbl = $('.rawField').eq(i).attr('data-lbl');
				//console.log($('#' + ide).prop('name'));
				/*if ($('#' + ide).prop('name') != '') {
					//nam = splitCamel($('#'+ide).prop('name'));
					nam = $('#' + ide).prop('name');
					valid = $('#' + ide).attr('data-typ') + "::x::x";
				}*/

				must = '<input type="checkbox" class="mandatory">';
				chk = '<input type="checkbox" class="read-only">';

				/*if ($('#' + ide).attr('readonly')) {
							chk = '<input type="checkbox" checked>';
				} else {
							chk = '<input type="checkbox">';
				}
	
						if ($('#mydiv label').eq(i).find('span').hasClass('mandatory')) {
							must = '<input type="checkbox" checked>';
				} else {
							must = '<input type="checkbox">';
				}*/


				/*console.log(tag);
				if (tag.toString().toLowerCase() == 'select') {
					opt = $('#' + ide).text().trim().replace(/[_\W]+/g, ",").toString();
				}*/

				if (!exist_flds.includes("[" + ide + "]")) {
					j++;

					if (!new_flds.includes(ide)) {
						new_flds.push(ide);

						/*if (exist_flds.length == 0) {
	test_content += "<tr>";
} else {
	test_content += "<tr style='background:#c6f7d4;'>";
}*/

						test_content += "<tr>";
						test_content += "<td class='align-middle seqfld'>" + j + "</td>";
						test_content += "<td class='align-middle'><label class='form-label' for='" + ide + "1'>" + ide + "</label></td>";
						test_content += "<td class='align-middle'><input style='width:100px;' type='text' class='form-control attr_label' aria-label='" + nam + "1' name='" + nam + "1' id='" + nam + "1' value='" + lbl + "'></td>";
						test_content += "<td class='text-center align-middle'><input type='checkbox' class='mandatory' aria-label='Location1Mandatory' name='Location1Mandatory' id='Location1Mandatory'></td>";
						test_content += "<td class='text-center align-middle'><input type='checkbox' class='read-only' aria-label='Location1readOnly' name='Location1readOnly' id='Location1readOnly'></td>";
						test_content += "<td class='text-center align-middle'><input type='checkbox' class='primary-key' aria-label='Location1primaryKey' name='Location1primaryKey' id='Location1primaryKey'></td>";

						/*test_content += `<td class="text-center align-middle"><input type="hidden" class="updatable" value="Y">`;
										test_content += `<a href="#" type="button" class="selectTbl btn btn-primary btn-sm btn-icon waves-effect waves-themed ml-2"`;
						test_content += `data-toggle="tooltip" data-placement="top" data-original-title="PickList" `;
						test_content += `"><i class="fal fa-plus"></i>`;
										test_content += `</a></td>`;*/

						//test_content += `<td><input type="text" readonly class="form-control table_name" aria-label="Location1Column" name="Location1Column" id="Location1Column" value=""></td>`;
						//test_content += `<td><input type="text" readonly class="form-control column_name" aria-label="Location1Column" name="Location1Column" id="Location1Column" value=""></td>`;

						test_content += `<td class='align-middle'><input type="text" class="form-control table_name" aria-label="Location1Column" name="Location1Column" id="table_name` + ide + `" list="table-list"></td>`;

						test_content += `<td class='align-middle'><input type="text" class="form-control column_name" aria-label="Location1Column" name="Location1Column" list="column-list` + ide + `" id="column_name` + ide + `">`;
						test_content += `<datalist id="column-list` + ide + `"></datalist><input type="hidden" class="updatable" value="Y"></td>`;

						test_content += `<td class='align-middle'><input type="text" class="form-control lvl_no" aria-label="Level_Number" name="lvl_no" id="lvl_no` + ide + `"></td>`;

						if (valid == 'hide::x::x') {
							test_content += `<td class='align-middle' colspan='2' style='text-align:center;font-weight:600;color:#700;'>Hidden Field<input class="validationval" value="` + valid + `" type="hidden" id="validationval_` + ide + `"><button class="validcls" style="display:none"></button><button class="lovcls" style="display:none"></button></td>`;
						} else {
							test_content += `<td class='align-middle'><button type="button" class="btn btn-primary btn-sm mr-1 validcls" id="validcls_` + ide + `" style="height: fit-content;">Validation</button><input class="validationval" value="` + valid + `" type="hidden" id="validationval_` + ide + `"></td>`;
							test_content += `<td class='align-middle'><button type="button" class="btn btn-primary btn-sm text-nowrap lovcls" id="lovcls_` + ide + `" style="height: fit-content;">LOV</button><input class="lovval" type="hidden" id="lovval_` + ide + `"></td>`;
						}

						//if (valid == 'hide::x::x') {
						//test_content == ``;
						//} else if (valid == 'dropdown::x::x') {
						//test_content += `<td class='align-middle'><button type="button" class="btn btn-primary btn-sm text-nowrap lovcls" id="lovcls_` + ide + `" style="height: fit-content;">LOV</button><input class="lovval" type="hidden" id="lovval_` + ide + `"></td>`;
						/*} else {
							test_content += `<td class='align-middle'><button type="button" class="btn btn-primary btn-sm text-nowrap lovcls" id="lovcls_` + ide + `" style="height: fit-content;pointer-events:none;">LOV</button><input class="lovval" type="hidden" id="lovval_` + ide + `"></td>`;*/
						//}

						test_content += "</tr>";

						$('#fields').append(test_content);
					}
				} else {
					j++;
				}

				//}


				//}
			}

			for (var a = 0; a < $('#fields tr').length; a++) {
				$('#fields tr').eq(a).children('td').eq(0).text(a + 1);
			}
			//$('#mydiv').empty();

		});

		/*Asif*/
		var existingDropzone = Dropzone.forElement("#filedrop");

		if (existingDropzone) {
			existingDropzone.destroy(); // Destroy the existing Dropzone instance
		}
		// Initialize Dropzone
		Dropzone.autoDiscover = false; // Prevent Dropzone from automatically attaching to all elements with class 'dropzone'

		var myDropzone = new Dropzone('#filedrop', {
			url: contextPath + 'upload', // Specify the URL where files should be uploaded
			autoProcessQueue: false, // Disable auto-uploading
			maxFiles: 1, // Set maximum number of files to 1 for single file upload
			acceptedFiles: '.html', // Specify accepted file types

			init: function () {
				this.on('addedfile', function (file) {
					// Update UI when a file is added
					console.log('File added:', file);
					readFile(file);
					var cancelLink = document.createElement('a');
					cancelLink.className = 'dz-cancel';
					cancelLink.href = 'javascript:;';
					cancelLink.innerText = 'Cancel';

					var previewElement = file.previewElement;
					previewElement.appendChild(cancelLink);

					cancelLink.addEventListener('click', function () {
						myDropzone.removeFile(file);
					});
				});

				this.on('removedfile', function (file) {
					// Update UI when a file is removed
					console.log('File removed:', file);
				});
			}
		});

		$('#flush_data').on('click', function () {
			loader(1);
			var screenCode = $('#screen-id').val();
			$.ajax({
				method: 'POST',
				dataType: "json",
				url: contextPath + "delAttr",
				data: {screenCode: screenCode},
				success: function (response) {
					//alert('Data Saved');
					//Swal.fire('Success', 'Data Saved', 'success');
					loader(0);
					$('.updatable').val('N');
					$('#fields').empty();
					message('CUS', 'Deleted Successfully', 0);
				},
				error: function () {
					//alert("json not found");
					loader(0);
					$('.updatable').val('N');
					$('#fields').empty();
					message('CUS', 'Deleted Successfully', 0);
				}
			});
		});

		function reset_scrn_dtls() {
			if ($('#srch_field').val() != "") {
				screenTable.setData("getAllScreens?filterStr=" + $('#srch_field').val());
			} else {
				screenTable.setData("getAllScreens?filterStr=");
			}
		}
		
		function clear_fields() {
			$('#screen-id').val('');
			$('#screen-name').val('');
			$('#url-input').val('');
			$('#customSwitch2').prop('checked',true);
			$('#insdate').text('');
			$('#insuserid').text('');
			$('#upddate').text('');
			$('#upduserid').text('');
			myDropzone.removeAllFiles(true);
			$('#fields').empty();
			$('#mydiv').empty();
		}
		
		$('#clr').on('click', function() {
			clear_fields();
			$('#srch_field').val('');
			reset_scrn_dtls();
		});
		
		$('#add').on('click', function() {
			clear_fields();
		});

		$('#save').on('click', function () {
			var screenCode = $('#screen-id').val();
			var screenName = $('#screen-name').val();
			var screenUrl = $('#url-input').val();
			
			if(screenCode == '') {
				message('CUW','Screen# is mandatory',0);
				$('#screen-id').focus();
				return;
			}
			
			if(screenName == '') {
				message('CUW','Screen Name is mandatory',0);
				$('#screen-name').focus();
				return;
			}
			
			if(screenUrl == '') {
				message('CUW','URL is mandatory',0);
				$('#url-input').focus();
				return;
			}
			
			var screenStatus = '';
			if ($('#customSwitch2').prop('checked')) {
				screenStatus = 'A';
			} else {
				screenStatus = 'I';
			}
			loader(1);
			$.ajax({
				url: contextPath + 'savScreen',
				method: 'POST',
				dataType: "json",
				data: {screenCode: screenCode, screenName: screenName, screenUrl: screenUrl, screenStatus: screenStatus},
				success: function (response) {
					//Swal.fire('Success', 'Data Saved', 'success');
					reset_scrn_dtls();
					loader(0);
					message('S', 0, 0);
					//msgTable.setData("messageData");
					//alert('success');
				},
				complete: function () {
					//Swal.fire('Success', 'Data Saved', 'success');
					reset_scrn_dtls();
					loader(0);
					message('S', 0, 0);
					//alert('complete');
					//msgTable.setData("messageData");
				},
				error: function (error) {
					//alert("Error getting table names:", error);
				}
			});
		});

		$('#save_data').on('click', function () {
			var nam = [];
			var fld = [];
			var lbl = [];
			var must = [];
			var ro = [];
			var key = [];
			var upd = [];
			var tbl = [];
			var col = [];
			var lvl = [];
			var lov = [];
			var vld = [];

			for (var i = 0; i < $('#fields tr').length; i++) {

				if ($('.updatable').eq(i).val() == 'Y') {
					nam.push($('#fields tr').eq(i).children('td').eq(0).text());
					fld.push($('#fields tr').eq(i).children('td').eq(1).text() + '--' + $('#screen-id').val());

					if ($('#fields tr').eq(i).children('td').eq(2).find('.attr_label').val() != '') {
						lbl.push($('#fields tr').eq(i).children('td').eq(2).find('.attr_label').val());
					} else {
						lbl.push('e');
					}

					if ($('#fields tr').eq(i).children('td').eq(3).find('.mandatory').prop('checked')) {
						must.push('Y');
					} else {
						must.push('N');
					}

					if ($('#fields tr').eq(i).children('td').eq(4).find('.read-only').prop('checked')) {
						ro.push('Y');
					} else {
						ro.push('N');
					}

					if ($('#fields tr').eq(i).children('td').eq(5).find('.primary-key').prop('checked')) {
						key.push('Y');
					} else {
						key.push('N');
					}

					upd.push($('.updatable').eq(i).val());

					if ($('#fields tr').eq(i).children('td').eq(6).find('.table_name').val() != '') {
						tbl.push($('#fields tr').eq(i).children('td').eq(6).find('.table_name').val());
					} else {
						tbl.push('e');
					}

					if ($('#fields tr').eq(i).children('td').eq(7).find('.column_name').val() != '') {
						col.push($('#fields tr').eq(i).children('td').eq(7).find('.column_name').val());
					} else {
						col.push('e');
					}

					if ($('#fields tr').eq(i).children('td').eq(8).find('.lvl_no').val() != '') {
						lvl.push($('#fields tr').eq(i).children('td').eq(8).find('.lvl_no').val());
					} else {
						lvl.push('0');
					}

					if ($('#fields tr').eq(i).children('td').eq(9).find('.validationval').val() != '') {
						vld.push($('#fields tr').eq(i).children('td').eq(9).find('.validationval').val());
					} else {
						vld.push('e');
					}

					if ($('#fields tr').eq(i).children('td').eq(10).find('.lovval').val() != '') {
						lov.push($('#fields tr').eq(i).children('td').eq(10).find('.lovval').val());
					} else {
						lov.push('e');
					}

				}

			}

			fld = fld.join("!@#!");
			lbl = lbl.join("!@#!");
			must = must.join("!@#!");
			ro = ro.join("!@#!");
			key = key.join("!@#!");
			upd = upd.join("!@#!");
			tbl = tbl.join("!@#!");
			col = col.join("!@#!");
			lvl = lvl.join("!@#!");
			lov = lov.join("!@#!");
			vld = vld.join("!@#!");
			var screenCode = $('#screen-id').val();

			loader(1);
			$.ajax({
				type: "POST",
				url: contextPath + "saveAttr",
				data: {field: fld, label: lbl, mandatory: must, readonly: ro, key: key, updatable: upd, screenCode: screenCode, tableName: tbl, columnName: col, level: lvl, lov: lov, vld: vld},
				success: function (response) {
					//alert('Data Saved');
					//Swal.fire('Success', 'Data Saved', 'success');
					loader(0);
					message('S', 0, 0);
					$('.updatable').val('N');
				},
				error: function () {
					alert("json not found");
				}
			});

		});

		$('#exit').on('click', function () {
			message('B', 0, function () {
				history.back();
			});
		});

	});

</script>

<body class="mod-bg-1 mod-nav-link">
	<div th:replace="~{fragments/header :: header}"></div>
	<div th:replace="~{fragments/navmenus :: navmenus}"></div>
	<!-- BEGIN Page Wrapper -->
	<div class="page-wrapper">
		<div class="page-inner">
			<!-- BEGIN Left Aside -->
			<div th:replace="~{fragments/sidebar :: sidebar}"></div>
			<!-- END Left Aside -->
			<div class="page-content-wrapper">
				<!-- BEGIN Page Header -->
				<!-- END Page Header -->
				<!-- BEGIN Page Content -->
				<!-- the #js-page-content id is needed for some plugins to initialize -->
				<main id="js-page-content" role="main" class="page-content">
					<!-- <ol class="breadcrumb page-breadcrumb">
                            <li class="breadcrumb-item"><a href="javascript:void(0);">SmartAdmin</a></li>
                            <li class="breadcrumb-item">category_1</li>
                            <li class="breadcrumb-item">category_2</li>
                            <li class="breadcrumb-item active">Page Titile</li>
                            <li class="position-absolute pos-top pos-right d-none d-sm-block"><span class="js-get-date"></span></li>
                        </ol> -->
					<div class="subheader mb-1">
						<h1 class="subheader-title">
							<div th:replace="~{fragments/toggleMenu :: toggleMenu}"></div>
							<i class='subheader-icon fal fa-window'></i>SCREEN SETUP</span>
						</h1>

						<div class="frame-wrap">
							<div class="btn-group">
								<div class="mr-2">
									<div class="input-append date position-relative w-100">
										<input class="span2 form-control" size="16" type="text"
											placeholder="Today's Date" value="" aria-label="todaysDate"
											name="todaysDate" id="exampledate" readonly disabled>
										<span class="add-on"></span>
									</div>
								</div>
							</div>
							<a href="javascript:void(0);"
								class="btn btn-primary btn-sm btn-icon waves-effect waves-themed" data-toggle="tooltip"
								data-placement="top" data-original-title="Add" id="add"> <i class="fal fa-plus"></i>
							</a> <a href="javascript:void(0);"
								class="btn btn-warning btn-sm btn-icon waves-effect waves-themed" data-toggle="tooltip"
								data-placement="top" data-original-title="Print"> <i class="fal fa-print"></i>
							</a> <a href="javascript:void(0);"
								class="btn btn-secondary btn-sm btn-icon waves-effect waves-themed"
								data-toggle="tooltip" data-placement="top" data-original-title="Clear" id="clr"> <i
									class="fal fa-times"></i>
							</a> <a href="javascript:void(0);"
								class="btn btn-success btn-sm btn-icon waves-effect waves-themed" data-toggle="tooltip"
								data-placement="top" data-original-title="OK/Save" id="save"> <i
									class="fal fa-save"></i>
							</a> <a href="javascript:void(0);"
								class="btn btn-danger btn-sm btn-icon waves-effect waves-themed" data-toggle="tooltip"
								data-placement="top" data-original-title="Cancel/Exit" id="exit"> <i
									class="fal fa-sign-out"></i>
							</a>
						</div>

					</div>


					<div class="row">

						<div class="col-lg-4 col-xl-4 pr-0">
							<h6 class="m-0 text-center headerBlock" style="font-weight: 600;">Screen Details</h6>

							<div class="panel panelContentBlock p-1 mb-1">
								<!-- datatable start -->
								<div class="d-flex mb-1">
									<div class="form-group">
										<div class="input-group">
											<div class="input-group-prepend">
												<button class="btn btn-primary btn-sm" type="button"><i
														class="fal fa-search"></i></button>
											</div>
											<input id="srch_field" style="height: 30px;" type="text"
												class="form-control" placeholder="Search"
												aria-label="Example text with button addon"
												aria-describedby="button-addon4">
										</div>
									</div>
									<button type="button" class="btn btn-primary btn-sm ml-2" id="incl_inactive">Include
										Inactive</button>
									<input type="hidden" id="incl_incode" value="">
									<input type="hidden" id="role_access_sets">
								</div>

								<div id="screendetail_table"></div>

								<!-- datatable end -->
								<table class="table table-hover table-clean mb-0 mt-1">
									<tbody>
										<tr>
											<td style="text-align: -webkit-right;"><span style="height:15px; width:15px"
													class="rounded-circle d-block bg-success-900"></span> </td>
											<td class="color-success-900">Status : Active</td>
											<td style="text-align: -webkit-right;"><span style="height:15px; width:15px"
													class="rounded-circle d-block bg-danger-900"></span> </td>
											<td class="color-danger-900">Status : Inactive</td>
										</tr>
									</tbody>
								</table>
							</div>


						</div>
						<div class="col-lg-8 col-xl-8">
							<h6 class="m-0 text-center headerBlock" style="font-weight: 600;">Screen Setup</h6>
							<div class="panel mb-2" style="padding:10px;">
								<div class="panel-container show">
									<div class="panel-content px-1 py-0">
										<table class="d-flex">
											<tbody>
												<tr>
													<td class="pl-0" style="width: 200px;"><label for="Security"
															class="form-label mr-2 mb-0 text-nowrap text-nowrap">Inserted
															Date:</label><span id="insdate"></span></td>
													<td style="width: 200px;"><label for="Security"
															class="form-label mr-2 mb-0 text-nowrap text-nowrap">Inserted
															By:</label><span id="insuserid"></span></td>
													<td style="width: 200px;"><label for="Security"
															class="form-label mr-2 mb-0 text-nowrap text-nowrap">Last
															Updated:</label><span id="upddate"></span></td>
													<td style="width: 200px;"><label for="Security"
															class="form-label mr-2 mb-0 text-nowrap text-nowrap">Updated
															By:</label><span id="upduserid"></span></td>
												</tr>
											</tbody>
										</table>
										<form>
											<div class="form-group row">
												<div class="col-12 col-lg-2">
													<label class="form-label">Screen# <span
															class="text-danger">*</span></label> <input type="text"
														class="form-control" min="1" id="screen-id">
													<div id="screen-id-error" class="text-danger"></div>
												</div>
												<div class="col-12 col-lg-9">
													<label class="form-label">Screen Name <span
															class="text-danger">*</span></label> <input type="text"
														class="form-control" id="screen-name">
													<div id="screen-name-error" class="text-danger"></div>
												</div>
												<div class="col-12 col-lg-1">
													<label class="form-label">Status</label>
													<div class="frame-wrap">
														<div class="demo">
															<div class="custom-control custom-switch">
																<input type="checkbox" class="custom-control-input"
																	id="customSwitch2" checked=""> <label
																	class="custom-control-label"
																	for="customSwitch2"></label>
															</div>
														</div>

													</div>
												</div>
											</div>
											<div class="form-group row">
												<div class="col-10 col-lg-8">
													<label class="form-label">URL <span
															class="text-danger">*</span></label>
													<input type="text" class="form-control" id="url-input">
													<div id="url-input-error" class="text-danger"></div>
												</div>
												<div class="col-12 col-lg-4">
													<label class="form-label">Icon</label>
													<div class="card mb-g rounded-top">
														<div class="row no-gutters row-grid">
															<div class="col-12">
																<div
																	class="d-flex flex-column align-items-center justify-content-center p-4">
																	<img id="previewImage"
																		class="rounded-circle shadow-2 img-thumbnail"
																		alt="" height="50" width="50"><br>
																	<div class="input-group" style="font-size: 11px;">
																		<div class="custom-file">
																			<input type="file" class="custom-file-input"
																				id="iconFile">
																			<label class="custom-file-label"
																				for="iconFile"
																				aria-describedby="inputGroupFileAddon02"><span>Choose
																					File</span></label>
																		</div>
																		<div class="input-group-append">
																			<span class="input-group-text"
																				id="inputGroupFileAddon02"
																				style="font-size: 11px;">Upload</span>
																		</div>
																	</div>
																	<span id="icon-error" class="text">Your Icon will be
																		previewed here</span>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>
										</form>
									</div>
								</div>
							</div>

							<!--Area of Work-->

							<div class="panel">
								<div class="panel-content">
									<ul class="nav nav-tabs" role="tablist">
										<li class="nav-item"><a class="nav-link active" data-toggle="tab"
												href="#Demographic_Info" role="tab">Template</a></li>
										<li class="nav-item"><a class="nav-link" data-toggle="tab"
												href="#Address_Information" role="tab">Screen Attributes</a></li>
									</ul>
									<div class="tab-content p-3">
										<div class="tab-pane fade show active" id="Demographic_Info" role="tabpanel">
											<div class="panel">
												<div class="panel-container show">
													<div class="panel-content">
														<!--<div th:replace="~{fragments/formheader :: formheader}"></div>-->
														<form action="/OmnetTest/upload" id="filedrop"
															class="dropzone needsclick" style="min-height: 7rem;">
															<div class="dz-message needsclick">
																<i class="fal fa-cloud-upload text-muted mb-3"></i> <br>
																<span class="text-uppercase">Drop files here or click to
																	upload.</span>
																<br>
																<span class="fs-sm text-muted">This is just a demo
																	dropzone. Selected files are <strong>not</strong>
																	actually uploaded.</span>
															</div>
														</form>

													</div>
												</div>
											</div>
										</div>
										<div class="tab-pane fade" id="Address_Information" role="tabpanel">
											<!--<div class="d-flex justify-content-end">
												<button type="button" class="btn btn-primary btn-sm mr-2"
													data-toggle="modal"
													data-target="#validationmodal">Validation</button>
												<button type="button" class="btn btn-primary btn-sm" data-toggle="modal"
													data-target="#algorithmmodal">Algorithm</button>
											</div>-->

											<div class="modal fade" id="algorithmmodal" tabindex="-1" role="dialog"
												aria-hidden="true">
												<div class="modal-dialog modal-dialog-centered" role="document">
													<div class="modal-content">
														<div class="modal-header">
															<h4 class="modal-title">
																Basic Modals
																<small class="m-0 text-muted">
																	Below is a static modal example
																</small>
															</h4>
															<button type="button" class="close" data-dismiss="modal"
																aria-label="Close">
																<span aria-hidden="true"><i
																		class="fal fa-times"></i></span>
															</button>
														</div>
														<div class="modal-body">
															...
														</div>
														<div class="modal-footer">
															<button type="button" class="btn btn-secondary"
																data-dismiss="modal">Close</button>
															<button type="button" class="btn btn-primary">Save
																changes</button>
														</div>
													</div>
												</div>
											</div>
											<div class="d-flex justify-content-end" style="padding-bottom:10px;">
												<button type="button" id="flush_data"
													class="btn btn-primary btn-sm mr-2"
													style="height: fit-content;">Delete Fields</button>
												<button type="button" id="save_data" class="btn btn-primary btn-sm mr-2"
													style="height: fit-content;">Save</button>
												<button type="button" id="backToPage"
													class="btn btn-primary btn-sm mr-2"
													style="height: fit-content;">Back to Page</button>
												<button type="button" class="btn btn-primary btn-sm"
													style="height: fit-content;" id="refresh_btn">Refresh</button>
											</div>
											<table id="screendetails12"
												class="table table-bordered table-hover table-striped w-100">
												<thead class="bg-primary-600">
													<th>ID</th>
													<th class="text-nowrap">ScreenFields</th>
													<th data-orderable="false">Label</th>
													<th data-orderable="false">Mandatory</th>
													<th data-orderable="false">ReadOnly</th>
													<th data-orderable="false">PrimaryKey</th>
													<th data-orderable="false" class="text-nowrap">Table</th>
													<th data-orderable="false" class="text-nowrap">Column</th>
													<th data-orderable="false" class="text-nowrap">Level</th>
													<th data-orderable="false"></th>
													<th data-orderable="false"></th>
												</thead>
												<tbody id="fields">
												</tbody>
											</table>
											<datalist id="table-list">
											</datalist>
										</div>
									</div>

								</div>

							</div>

						</div>
					</div>

				</main>
				<!-- this overlay is activated only when mobile menu is triggered -->
				<div class="page-content-overlay" data-action="toggle" data-class="mobile-nav-on"></div>
				<!-- END Page Content -->
				<!-- BEGIN Page Footer -->
				<div th:replace="~{fragments/footer :: footer}"></div>
				<!-- END Page Footer -->
				<!-- BEGIN Shortcuts -->
				<!-- modal shortcut -->
				<div class="modal fade modal-backdrop-transparent" id="modal-shortcut" tabindex="-1" role="dialog"
					aria-labelledby="modal-shortcut" aria-hidden="true">
					<div class="modal-dialog modal-dialog-top modal-transparent" role="document">
						<div class="modal-content">
							<div class="modal-body">
								<ul class="app-list w-auto h-auto p-0 text-left">
									<li><a href="intel_introduction.html" class="app-list-item text-white border-0 m-0">
											<div class="icon-stack">
												<i class="base base-7 icon-stack-3x opacity-100 color-primary-500 "></i>
												<i class="base base-7 icon-stack-2x opacity-100 color-primary-300 "></i>
												<i class="fal fa-home icon-stack-1x opacity-100 color-white"></i>
											</div> <span class="app-list-name"> Home </span>
										</a></li>
									<li><a href="page_inbox_general.html" class="app-list-item text-white border-0 m-0">
											<div class="icon-stack">
												<i class="base base-7 icon-stack-3x opacity-100 color-success-500 "></i>
												<i class="base base-7 icon-stack-2x opacity-100 color-success-300 "></i>
												<i class="ni ni-envelope icon-stack-1x text-white"></i>
											</div> <span class="app-list-name"> Inbox </span>
										</a></li>
									<li><a href="intel_introduction.html" class="app-list-item text-white border-0 m-0">
											<div class="icon-stack">
												<i class="base base-7 icon-stack-2x opacity-100 color-primary-300 "></i>
												<i class="fal fa-plus icon-stack-1x opacity-100 color-white"></i>
											</div> <span class="app-list-name"> Add More </span>
										</a></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
				<!-- END Shortcuts -->
			</div>
		</div>
	</div>
	<!-- END Page Wrapper -->
	<!-- BEGIN Quick Menu -->
	<!-- to add more items, please make sure to change the variable '$menu-items: number;' in your _page-components-shortcut.scss -->
	<nav class="shortcut-menu d-none d-sm-block"> <input type="checkbox" class="menu-open" name="menu-open"
			id="menu_open" />
		<label for="menu_open" class="menu-open-button "> <span class="app-shortcut-icon d-block"></span>
		</label> <a href="#" class="menu-item btn" data-toggle="tooltip" data-placement="left" title="Scroll Top"> <i
				class="fal fa-arrow-up"></i>
		</a> <a href="page_login-alt.html" class="menu-item btn" data-toggle="tooltip" data-placement="left"
			title="Logout"> <i class="fal fa-sign-out"></i>
		</a> <a href="#" class="menu-item btn" data-action="app-fullscreen" data-toggle="tooltip" data-placement="left"
			title="Full Screen">
			<i class="fal fa-expand"></i>
		</a> <a href="#" class="menu-item btn" data-action="app-print" data-toggle="tooltip" data-placement="left"
			title="Print page"> <i class="fal fa-print"></i>
		</a> <a href="#" class="menu-item btn" data-action="app-voice" data-toggle="tooltip" data-placement="left"
			title="Voice command">
			<i class="fal fa-microphone"></i>
		</a>
	</nav>
	<!-- END Quick Menu -->
	<!-- BEGIN Messenger -->
	<div class="modal fade js-modal-messenger modal-backdrop-transparent" tabindex="-1" role="dialog"
		aria-hidden="true">
		<div class="modal-dialog modal-dialog-right">
			<div class="modal-content h-100">
				<div class="dropdown-header bg-trans-gradient d-flex align-items-center w-100">
					<div class="d-flex flex-row align-items-center mt-1 mb-1 color-white">
						<span class="mr-2"> <span class="rounded-circle profile-image d-block"
								style="background-image: url('img/demo/avatars/avatar-d.png'); background-size: cover;"></span>
						</span>
						<div class="info-card-text">
							<a href="javascript:void(0);" class="fs-lg text-truncate text-truncate-lg text-white"
								data-toggle="dropdown" aria-expanded="false"> Tracey Chang
								<i class="fal fa-angle-down d-inline-block ml-1 text-white fs-md"></i>
							</a>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="#">Send Email</a> <a class="dropdown-item"
									href="#">Create Appointment</a> <a class="dropdown-item" href="#">Block User</a>
							</div>
							<span class="text-truncate text-truncate-md opacity-80">IT
								Director</span>
						</div>
					</div>
					<button type="button" class="close text-white position-absolute pos-top pos-right p-2 m-1 mr-2"
						data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true"><i class="fal fa-times"></i></span>
					</button>
				</div>
				<div class="modal-body p-0 h-100 d-flex">
					<!-- BEGIN msgr-list -->
					<div
						class="msgr-list d-flex flex-column bg-faded border-faded border-top-0 border-right-0 border-bottom-0 position-absolute pos-top pos-bottom">
						<div>
							<div
								class="height-4 width-3 h3 m-0 d-flex justify-content-center flex-column color-primary-500 pl-3 mt-2">
								<i class="fal fa-search"></i>
							</div>
							<input type="text" class="form-control bg-white" id="msgr_listfilter_input"
								placeholder="Filter contacts" aria-label="FriendSearch"
								data-listfilter="#js-msgr-listfilter">
						</div>
						<div class="flex-1 h-100 custom-scroll">
							<div class="w-100">
								<ul id="js-msgr-listfilter" class="list-unstyled m-0">
									<li><a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="tracey chang online">
											<div class="d-table-cell align-middle status status-success status-sm ">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image: url('img/demo/avatars/avatar-d.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													Tracey Chang <small class="d-block font-italic text-success fs-xs">
														Online </small>
												</div>
											</div>
										</a></li>
									<li><a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="oliver kopyuv online">
											<div class="d-table-cell align-middle status status-success status-sm ">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image: url('img/demo/avatars/avatar-b.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													Oliver Kopyuv <small class="d-block font-italic text-success fs-xs">
														Online </small>
												</div>
											</div>
										</a></li>
									<li><a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="dr john cook phd away">
											<div class="d-table-cell align-middle status status-warning status-sm ">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image: url('img/demo/avatars/avatar-e.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													Dr. John Cook PhD <small class="d-block font-italic fs-xs">
														Away </small>
												</div>
											</div>
										</a></li>
									<li><a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="ali amdaney online">
											<div class="d-table-cell align-middle status status-success status-sm ">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image: url('img/demo/avatars/avatar-g.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													Ali Amdaney <small class="d-block font-italic fs-xs text-success">
														Online </small>
												</div>
											</div>
										</a></li>
									<li><a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="sarah mcbrook online">
											<div class="d-table-cell align-middle status status-success status-sm">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image: url('img/demo/avatars/avatar-h.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													Sarah McBrook <small class="d-block font-italic fs-xs text-success">
														Online </small>
												</div>
											</div>
										</a></li>
									<li><a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="ali amdaney offline">
											<div class="d-table-cell align-middle status status-sm">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image: url('img/demo/avatars/avatar-a.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													oliver.kopyuv@gotbootstrap.com <small
														class="d-block font-italic fs-xs"> Offline </small>
												</div>
											</div>
										</a></li>
									<li><a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="ali amdaney busy">
											<div class="d-table-cell align-middle status status-danger status-sm">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image: url('img/demo/avatars/avatar-j.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													oliver.kopyuv@gotbootstrap.com <small
														class="d-block font-italic fs-xs text-danger">
														Busy </small>
												</div>
											</div>
										</a></li>
									<li><a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="ali amdaney offline">
											<div class="d-table-cell align-middle status status-sm">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image: url('img/demo/avatars/avatar-c.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													oliver.kopyuv@gotbootstrap.com <small
														class="d-block font-italic fs-xs"> Offline </small>
												</div>
											</div>
										</a></li>
									<li><a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="ali amdaney inactive">
											<div class="d-table-cell align-middle">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image: url('img/demo/avatars/avatar-m.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													+714651347790 <small class="d-block font-italic fs-xs opacity-50">
														Missed Call </small>
												</div>
											</div>
										</a></li>
								</ul>
								<div class="filter-message js-filter-message"></div>
							</div>
						</div>
						<div>
							<a class="fs-xl d-flex align-items-center p-3"> <i class="fal fa-cogs"></i>
							</a>
						</div>
					</div>
					<!-- END msgr-list -->
					<!-- BEGIN msgr -->
					<div class="msgr d-flex h-100 flex-column bg-white">
						<!-- BEGIN custom-scroll -->
						<div class="custom-scroll flex-1 h-100">
							<div id="chat_container" class="w-100 p-4">
								<!-- start .chat-segment -->
								<div class="chat-segment">
									<div class="time-stamp text-center mb-2 fw-400">Jun 19</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-sent">
									<div class="chat-message">
										<p>Hey Ching, did you get my files?</p>
									</div>
									<div class="text-right fw-300 text-muted mt-1 fs-xs">
										3:00 pm</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-get">
									<div class="chat-message">
										<p>Hi</p>
										<p>Sorry going through a busy time in office. Yes I
											analyzed the solution.</p>
										<p>It will require some resource, which I could not
											manage.</p>
									</div>
									<div class="fw-300 text-muted mt-1 fs-xs">3:24 pm</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-sent chat-start">
									<div class="chat-message">
										<p>Okay</p>
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-sent chat-end">
									<div class="chat-message">
										<p>Sending you some dough today, you can allocate the
											resources to this project.</p>
									</div>
									<div class="text-right fw-300 text-muted mt-1 fs-xs">
										3:26 pm</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-get chat-start">
									<div class="chat-message">
										<p>Perfect. Thanks a lot!</p>
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-get">
									<div class="chat-message">
										<p>I will have them ready by tonight.</p>
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-get chat-end">
									<div class="chat-message">
										<p>Cheers</p>
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment for timestamp -->
								<div class="chat-segment">
									<div class="time-stamp text-center mb-2 fw-400">Jun 20</div>
								</div>
								<!--  end .chat-segment for timestamp -->
							</div>
						</div>
						<!-- END custom-scroll  -->
						<!-- BEGIN msgr__chatinput -->
						<div class="d-flex flex-column">
							<div
								class="border-faded border-right-0 border-bottom-0 border-left-0 flex-1 mr-3 ml-3 position-relative shadow-top">
								<div class="pt-3 pb-1 pr-0 pl-0 rounded-0" tabindex="-1">
									<div id="msgr_input" contenteditable="true"
										data-placeholder="Type your message here..."
										class="height-10 form-content-editable"></div>
								</div>
							</div>
							<div class="height-8 px-3 d-flex flex-row align-items-center flex-wrap flex-shrink-0">
								<a href="javascript:void(0);" class="btn btn-icon fs-xl width-1 mr-1"
									data-toggle="tooltip" data-original-title="More options" data-placement="top"> <i
										class="fal fa-ellipsis-v-alt color-fusion-300"></i>
								</a> <a href="javascript:void(0);" class="btn btn-icon fs-xl mr-1" data-toggle="tooltip"
									data-original-title="Attach files" data-placement="top"> <i
										class="fal fa-paperclip color-fusion-300"></i>
								</a> <a href="javascript:void(0);" class="btn btn-icon fs-xl mr-1" data-toggle="tooltip"
									data-original-title="Insert photo" data-placement="top"> <i
										class="fal fa-camera color-fusion-300"></i>
								</a>
								<div class="ml-auto">
									<a href="javascript:void(0);" class="btn btn-info">Send</a>
								</div>
							</div>
						</div>
						<!-- END msgr__chatinput -->
					</div>
					<!-- END msgr -->
				</div>
			</div>
		</div>
	</div>
	<!-- END Messenger -->
	<!-- BEGIN Page Settings -->
	<div class="modal fade js-modal-settings modal-backdrop-transparent" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog modal-dialog-right modal-md">
			<div class="modal-content">
				<div class="dropdown-header bg-trans-gradient d-flex justify-content-center align-items-center w-100">
					<h4 class="m-0 text-center color-white">
						Layout Settings <small class="mb-0 opacity-80">User
							Interface Settings</small>
					</h4>
					<button type="button" class="close text-white position-absolute pos-top pos-right p-2 m-1 mr-2"
						data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true"><i class="fal fa-times"></i></span>
					</button>
				</div>
				<div class="modal-body p-0">
					<div class="settings-panel">
						<div class="mt-4 d-table w-100 px-5">
							<div class="d-table-cell align-middle">
								<h5 class="p-0">App Layout</h5>
							</div>
						</div>
						<div class="list" id="fh">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="header-function-fixed"></a> <span class="onoffswitch-title">Fixed
								Header</span> <span class="onoffswitch-title-desc">header is in a fixed at
								all times</span>
						</div>
						<div class="list" id="nff">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="nav-function-fixed"></a> <span class="onoffswitch-title">Fixed
								Navigation</span> <span class="onoffswitch-title-desc">left panel is fixed</span>
						</div>
						<div class="list" id="nfm">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="nav-function-minify"></a> <span class="onoffswitch-title">Minify
								Navigation</span> <span class="onoffswitch-title-desc">Skew nav to maximize
								space</span>
						</div>
						<div class="list" id="nfh">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="nav-function-hidden"></a> <span class="onoffswitch-title">Hide
								Navigation</span> <span class="onoffswitch-title-desc">roll mouse on edge to
								reveal</span>
						</div>
						<div class="list" id="nft">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="nav-function-top"></a> <span class="onoffswitch-title">Top Navigation</span>
							<span class="onoffswitch-title-desc">Relocate left pane to top</span>
						</div>
						<div class="list" id="mmb">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-main-boxed"></a> <span class="onoffswitch-title">Boxed Layout</span>
							<span class="onoffswitch-title-desc">Encapsulates to a
								container</span>
						</div>
						<div class="expanded">
							<ul class="">
								<li>
									<div class="bg-fusion-50" data-action="toggle" data-class="mod-bg-1"></div>
								</li>
								<li>
									<div class="bg-warning-200" data-action="toggle" data-class="mod-bg-2"></div>
								</li>
								<li>
									<div class="bg-primary-200" data-action="toggle" data-class="mod-bg-3"></div>
								</li>
								<li>
									<div class="bg-success-300" data-action="toggle" data-class="mod-bg-4"></div>
								</li>
							</ul>
							<div class="list" id="mbgf">
								<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
									data-class="mod-fixed-bg"></a> <span class="onoffswitch-title">Fixed
									Background</span>
							</div>
						</div>
						<!-- <div class="mt-4 d-table w-100 px-5">
                            <div class="d-table-cell align-middle">
                                <h5 class="p-0">
                                    Mobile Menu
                                </h5>
                            </div>
                        </div>
                        <div class="list" id="nmp">
                            <a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
                                data-class="nav-mobile-push"></a>
                            <span class="onoffswitch-title">Push Content</span>
                            <span class="onoffswitch-title-desc">Content pushed on menu reveal</span>
                        </div>
                        <div class="list" id="nmno">
                            <a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
                                data-class="nav-mobile-no-overlay"></a>
                            <span class="onoffswitch-title">No Overlay</span>
                            <span class="onoffswitch-title-desc">Removes mesh on menu reveal</span>
                        </div>
                        <div class="list" id="sldo">
                            <a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
                                data-class="nav-mobile-slide-out"></a>
                            <span class="onoffswitch-title">Off-Canvas <sup>(beta)</sup></span>
                            <span class="onoffswitch-title-desc">Content overlaps menu</span>
                        </div> -->
						<div class="mt-4 d-table w-100 px-5">
							<div class="d-table-cell align-middle">
								<h5 class="p-0">Accessibility</h5>
							</div>
						</div>
						<div class="list" id="mbf">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-bigger-font"></a> <span class="onoffswitch-title">Bigger Content
								Font</span> <span class="onoffswitch-title-desc">content fonts are bigger
								for readability</span>
						</div>
						<div class="list" id="mhc">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-high-contrast"></a> <span class="onoffswitch-title">High Contrast Text
								(WCAG 2 AA)</span>
							<span class="onoffswitch-title-desc">4.5:1 text contrast
								ratio</span>
						</div>
						<div class="list" id="mcb">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-color-blind"></a> <span class="onoffswitch-title">Daltonism
								<sup>(beta)</sup>
							</span> <span class="onoffswitch-title-desc">color vision
								deficiency</span>
						</div>
						<div class="list" id="mpc">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-pace-custom"></a> <span class="onoffswitch-title">Preloader
								Inside</span> <span class="onoffswitch-title-desc">preloader will be inside
								content</span>
						</div>
						<div class="mt-4 d-table w-100 px-5">
							<div class="d-table-cell align-middle">
								<h5 class="p-0">Global Modifications</h5>
							</div>
						</div>
						<div class="list" id="mcbg">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-clean-page-bg"></a> <span class="onoffswitch-title">Clean Page
								Background</span> <span class="onoffswitch-title-desc">adds more whitespace</span>
						</div>
						<div class="list" id="mhni">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-hide-nav-icons"></a> <span class="onoffswitch-title">Hide Navigation
								Icons</span> <span class="onoffswitch-title-desc">invisible navigation
								icons</span>
						</div>
						<div class="list" id="dan">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-disable-animation"></a> <span class="onoffswitch-title">Disable CSS
								Animation</span> <span class="onoffswitch-title-desc">Disables CSS based
								animations</span>
						</div>
						<div class="list" id="mhic">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-hide-info-card"></a> <span class="onoffswitch-title">Hide Info
								Card</span> <span class="onoffswitch-title-desc">Hides info card from left
								panel</span>
						</div>
						<div class="list" id="mlph">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-lean-subheader"></a> <span class="onoffswitch-title">Lean
								Subheader</span> <span class="onoffswitch-title-desc">distinguished page header</span>
						</div>
						<div class="list" id="mnl">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-nav-link"></a> <span class="onoffswitch-title">Hierarchical
								Navigation</span> <span class="onoffswitch-title-desc">Clear breakdown of nav
								links</span>
						</div>
						<div class="list mt-1">
							<span class="onoffswitch-title">Global Font Size <small>(RESETS
									ON REFRESH)</small>
							</span>
							<div class="btn-group btn-group-sm btn-group-toggle my-2" data-toggle="buttons">
								<label class="btn btn-default btn-sm" data-action="toggle-swap"
									data-class="root-text-sm" data-target="html"> <input type="radio"
										name="changeFrontSize"> SM </label> <label class="btn btn-default btn-sm"
									data-action="toggle-swap" data-class="root-text" data-target="html"> <input
										type="radio" name="changeFrontSize" checked=""> MD </label> <label
									class="btn btn-default btn-sm" data-action="toggle-swap" data-class="root-text-lg"
									data-target="html"> <input type="radio" name="changeFrontSize"> LG </label> <label
									class="btn btn-default btn-sm" data-action="toggle-swap" data-class="root-text-xl"
									data-target="html"> <input type="radio" name="changeFrontSize"> XL </label>
							</div>
							<span class="onoffswitch-title-desc d-block mb-g">Change
								<strong>root</strong> font size to effect rem values
							</span>
						</div>
						<div class="mt-2 d-table w-100 pl-5 pr-3">
							<div class="d-table-cell align-middle">
								<h5 class="p-0">
									Theme colors <small>(overlays base css)</small>
								</h5>
								<!-- <div class="fs-xs text-muted p-2 alert alert-warning mt-3 mb-0">
                                    <i class="fal fa-exclamation-triangle text-warning mr-2"></i>Due to network latency
                                    and CPU utilization, you may experience a brief flickering effect on page load which
                                    may show the intial applied theme for a split second. Setting the prefered
                                    style/theme in the header will prevent this from happening.
                                </div> -->
							</div>
						</div>
						<div class="expanded theme-colors pl-5 pr-3">
							<ul class="m-0">
								<li><a href="#" id="myapp-0" data-action="theme-update" data-themesave data-theme=""
										data-toggle="tooltip" data-placement="top" title="Wisteria (base css)"
										data-original-title="Wisteria (base css)"></a></li>
								<li><a href="#" id="myapp-1" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-1.css" data-toggle="tooltip"
										data-placement="top" title="Tapestry" data-original-title="Tapestry"></a></li>
								<li><a href="#" id="myapp-2" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-2.css" data-toggle="tooltip"
										data-placement="top" title="Atlantis" data-original-title="Atlantis"></a></li>
								<li><a href="#" id="myapp-3" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-3.css" data-toggle="tooltip"
										data-placement="top" title="Indigo" data-original-title="Indigo"></a></li>
								<li><a href="#" id="myapp-4" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-4.css" data-toggle="tooltip"
										data-placement="top" title="Dodger Blue" data-original-title="Dodger Blue"></a>
								</li>
								<li><a href="#" id="myapp-5" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-5.css" data-toggle="tooltip"
										data-placement="top" title="Tradewind" data-original-title="Tradewind"></a></li>
								<li><a href="#" id="myapp-6" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-6.css" data-toggle="tooltip"
										data-placement="top" title="Cranberry" data-original-title="Cranberry"></a></li>
								<li><a href="#" id="myapp-7" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-7.css" data-toggle="tooltip"
										data-placement="top" title="Oslo Gray" data-original-title="Oslo Gray"></a></li>
								<li><a href="#" id="myapp-8" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-8.css" data-toggle="tooltip"
										data-placement="top" title="Chetwode Blue"
										data-original-title="Chetwode Blue"></a></li>
								<li><a href="#" id="myapp-9" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-9.css" data-toggle="tooltip"
										data-placement="top" title="Apricot" data-original-title="Apricot"></a></li>
								<li><a href="#" id="myapp-10" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-10.css" data-toggle="tooltip"
										data-placement="top" title="Blue Smoke" data-original-title="Blue Smoke"></a>
								</li>
								<li><a href="#" id="myapp-11" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-11.css" data-toggle="tooltip"
										data-placement="top" title="Green Smoke" data-original-title="Green Smoke"></a>
								</li>
								<li><a href="#" id="myapp-12" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-12.css" data-toggle="tooltip"
										data-placement="top" title="Wild Blue Yonder"
										data-original-title="Wild Blue Yonder"></a></li>
								<li><a href="#" id="myapp-13" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-13.css" data-toggle="tooltip"
										data-placement="top" title="Emerald" data-original-title="Emerald"></a></li>
							</ul>
						</div>
						<hr class="mb-0 mt-4">
						<div class="pl-5 pr-3 py-3 bg-faded">
							<div class="row no-gutters">
								<div class="col-6 pr-1">
									<a href="#" class="btn btn-outline-danger fw-500 btn-block"
										data-action="app-reset">Reset Settings</a>
								</div>
								<div class="col-6 pl-1">
									<a href="#" class="btn btn-danger fw-500 btn-block"
										data-action="factory-reset">Factory Reset</a>
								</div>
							</div>
						</div>
					</div>
					<span id="saving"></span>
				</div>
			</div>
		</div>
	</div>

	<div style="display:none;" id="mydiv"></div>

	<a href="#" data-toggle="modal" data-target="#LOVmodal" style="display:none;" id="lovPopup"></a>

	<div class="modal fade" id="LOVmodal" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered" role="document">
			<div class="modal-content">
				<div class="modal-header" style="padding-bottom:0;">
					<h4 class="modal-title">
						Set List of Values
					</h4>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true"><i class="fal fa-times"></i></span>
					</button>
				</div>
				<div class="modal-body">
					<input type="radio" id="chk_hardcoded" name="category" value="hardcoded"
						style="position:relative;top:2px;">
					  <label for="chk_hardcoded">Static</label>&nbsp;&nbsp;
					<input type="radio" id="chk_query" name="category" value="query" style="position:relative;top:2px;">
					  <label for="chk_query">Query</label>&nbsp;&nbsp;
					<input type="radio" id="chk_json" name="category" value="json" style="position:relative;top:2px;">
					  <label for="chk_json">JSON</label>
					<!--<label for="ResidenceCategoryComments" class="form-label">Comments</label>-->
					<textarea class="form-control" id="lov_comment" rows="5" name="Comments" aria-label="Comments"
						value="" spellcheck="false"></textarea>
					<input type="hidden" id="current_ide">
				</div>
				<div class="modal-footer">
					<button id="savLOV" type="button" class="btn btn-primary">Save changes</button>
				</div>
			</div>
		</div>
	</div>

	<a href="#" data-toggle="modal" data-target="#Validmodal" style="display:none;" id="validPopup"></a>

	<div class="modal fade" id="Validmodal" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered" role="document">
			<div class="modal-content">
				<div class="modal-header" style="padding-bottom:0;">
					<h4 class="modal-title">
						Set Validation
					</h4>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true"><i class="fal fa-times"></i></span>
					</button>
				</div>
				<div class="modal-body">
					<label for="field_typ">Field Type</label>
					<select class="form-control" id="field_typ" style="height:30px;">
						<option value="">Select Field Type</option>
						<option value="text">Text</option>
						<!--<option value="dropdown">Dropdown</option>-->
						<!--<option value="checkbox">Checkbox</option>
						<option value="radiobutton">RadioButton</option>-->
						<option value="date">Date</option>
					</select>
					<!--<input type="text" class="form-control" id="field_typ" disabled>-->

					<label class="base_rule" for="rule" style="margin-top:5px;">Rule</label>
					<select class="form-control base_rule" id="rule" style="height:30px;">
						<option value="">Select Rule</option>
					</select>

					<label class="leng" for="rule" style="display:none;margin-top:5px;">Length</label>
					<input type="number" class="leng form-control" id="leng" style="display:none;">

					<label style="display:none;" class="dt_rule" for="rule"><br>Date Rule</label>
					<button type="button" class="dt_rule btn btn-primary btn-sm"
						style="height: fit-content;float:right;position: relative;top:7px;" id="add_row">Add</button>
					<br>
					<!--<input style="display:none;" type="checkbox" class="dt_rule dr1" id="NoPast"> <label for="NoPast" style="display:none;" class="dt_rule">No Past Date</label><br>
						<input style="display:none;" type="checkbox" class="dt_rule dr1" id="NoFuture"> <label for="NoFuture" style="display:none;" class="dt_rule">No Future Date</label><br>
						<input style="display:none;" type="checkbox" class="dt_rule dr0" id="DtRange"> <label for="DtRange" style="display:none;" class="dt_rule">Date Range</label><br>-->
					<table class="dt_rule table table-bordered table-hover table-striped w-100">
						<thead class="bg-primary-600">
							<tr>
								<th>Operator</th>
								<!--<th>Today</th>-->
								<th>Value</th>
								<th>Fail Message</th>
								<th></th>
							</tr>
						</thead>

						<tbody id="tab_bd">

							<tr class="rule_tab">
								<td>
									<select class="rule_opr form-control">
										<option value="">Select</option>
										<option value="maxdt-">&lt;</option>
										<option value="mindt+">&gt;</option>
										<option value="maxdt">&lt;=</option>
										<option value="mindt">&gt;=</option>
										<option value="not">!=</option>
										<option value="maxdt-:today">&lt; Today</option>
										<option value="mindt+:today">&gt; Today</option>
										<option value="maxdt:today">&lt;= Today</option>
										<option value="mindt:today">&gt;= Today</option>
										<option value="not:today">!= Today</option>
									</select>
								</td>
								<td>
									<div class="input-append position-relative">
										<input id="test_xy" class="dtpick form-control" type="text"
											aria-label="dateofbirth" placeholder="mm/dd/yyyy" name="dateofbirth"
											autocomplete="off">
										<!--<span class="add-on"><i
												class="fal fa-calendar-alt position-absolute"></i></span>-->
									</div>

									<!--<input type="text" class="datepick-ui form-control">-->

								</td>
								<td style="width:30%;">
									<input type="text" class="form-control failmsg">
								</td>
								<td style="text-align: center;">
									<!--<select class="rule_logic form-control">
										<option value=""></option>
										<option value="AND">AND</option>
										<option value="OR">OR</option>
									</select>-->
									<button type="button"
										class="btn btn-primary btn-sm waves-effect waves-themed dt-remove">Remove</button>
								</td>
							</tr>

						</tbody>

					</table>

					<input type="hidden" id="cur_val_ide">
				</div>
				<div class="modal-footer">
					<button id="savValid" type="button" class="btn btn-primary">Save changes</button>
				</div>
			</div>
		</div>
	</div>

	<!-- END Page Settings -->

	<style>
		.headerBlock {
			background: #7a59ad;
			color: #fff;
			padding: 5px;
			border: 1px solid #ccc;
			margin-left: 5px;
			margin-right: 5px;
		}

		.panelContentBlock {
			border: 1px solid #7a58ac;
			border-radius: 5px !important;
		}

		.dataTables_scroll {
			border: 1px solid #7a59ad;
		}

		#usersetupdetails_filter .form-control {
			height: 31px;
		}

		#usersetupdetails_wrapper .row:first-child {
			margin-bottom: 0 !important;
		}

		#ScreenAccess_wrapper .row:first-child {
			margin-bottom: 0 !important;
		}
	</style>

	<script src="js/vendors.bundle.js"></script>
	<script src="js/app.bundle.js"></script>
	<div th:replace="~{fragments/script :: script}"></div>
	<div th:replace="~{fragments/msgBox :: msgBox}"></div>
</body>

</html>