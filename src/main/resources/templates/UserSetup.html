<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<meta charset="utf-8">
<title class="AdminSidebar">User Setup</title>
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/default.min.css" />
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/alertify.min.css" />
<script src="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/alertify.min.js"></script>

<script src="http://code.jquery.com/jquery-latest.js"></script>
<script src="js/bootstrap.min.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<style>
	.ajs-header {
		background: #b469e3 !important;
		color: #fff !important;
	}

	.ajs-dialog {
		width: 300px;
	}
</style>
<div th:replace="~{fragments/head :: head}"></div>
<style>
	.mb-3,
	.my-3 {
		margin-bottom: 0rem !important;
	}
</style>

<script>
	$(function () {
		var currentPage = 1;
		var pageSize = 50;
		var opt_letter = "";
		var srch_key = false;
		var total_row = 0;

		var table = new Tabulator("#example-table", {
			height: 311,
			headerSort: false,
			rowFormatter: function (row) {
				if (row.getData().user_status == "A") {
					row.getElement().style.color = "#1ab3a3";
				} else {
					row.getElement().style.color = "#fd2087";
				}
			},
			//ajaxURL: "loadUserData", // Your API endpoint
			progressiveLoad: "scroll",
			progressiveLoadScrollMargin: 400,
			virtualDom: true,
			layout: "fitColumns",
			/*ajaxParams: {
				page: currentPage // Current page
			},*/
			columns: [
				{title: "User ID", field: "user_id", formatter: "html", headerSort: true},
				{title: "LastName/FirstName", field: "user_fl_name", formatter: "html", headerSort: true},
				{title: "Title", field: "job_title", formatter: "html", headerSort: true},
			],
		});

		var visible = 50;
		var init_height = 300;
		var last_page = 0;
		var last_top = 0;
		fetchData(1, '', '');

		function fetchData(page, opt, key) {
			//alert('loadUserData?page=' + page + '&opt=' + opt + '&key=' + key);
			return fetch('loadUserData?page=' + page + '&opt=' + opt + '&key=' + key)
				.then(response => response.json())
				.then(data => {
					// Update the table with new data
					last_page = data.last_page;
					if (page == 1) {
						visible = 50;
						last_top = 0;
						table.setData(data.data);
						if (data.total < 50) {
							visible = data.total;
						}
						$("#usersetupdetails_info").text("Showing " + visible.toLocaleString() + " of " + data.total.toLocaleString() + " entries");
					} else {
						table.addData(data.data);
						visible += 50;
						//init_height+=400;
						if (visible > data.total) {
							visible = data.total;
						}
						$("#usersetupdetails_info").text("Showing " + visible.toLocaleString() + " of " + data.total.toLocaleString() + " entries");
					}
					total_row = data.total;
				});
		}

		table.on("scrollVertical", function (top) {
			//console.log("here top is " + top);
			//if(top > init_height) {
			//var rownum = (currentPage - 1) * 50;
			//if (rownum < total_row) {
			//console.log("currentPage is " + currentPage);
			//console.log("last_page is " + last_page);	
			//console.log("type currentPage is " + typeof(currentPage));
			//console.log("type last_page is " + typeof(last_page));
			if (top > last_top) {
				if (currentPage <= last_page) {
					currentPage++; // Increment the page number
					if (opt_letter != "") {
						fetchData(currentPage, opt_letter, ''); // Fetch the next set of data
					} else if (srch_key) {
						fetchData(currentPage, '', $('#srch_field').val()); // Fetch the next set of data
					} else {
						fetchData(currentPage, '', ''); // Fetch the next set of data	
					}
				}
				last_top = top;
			}

			//}

			//}
		});

		table.on("rowClick", function (e, row) {
			//alert("Row " + row.getData().user_name + " Clicked!!!!");
			loadData(row.getData().user_id);
		});

		function nullHandler(x) {
			if (x == null) {
				x = '';
			}
			return x;
		}

		$('#customSwitch2').on('change', function () {
			if ($(this).prop('checked')) {
				$('#customSwitchVal').val('A');
			} else {
				$('#customSwitchVal').val('I');
			}
		});

		function loadData(ide) {

			//console.log('test 005 : ' + ide);

			$.ajax({
				type: "POST",
				url: contextPath + "getUsers",
				dataType: "json",
				data: {userid: ide.toUpperCase()},
				success: function (response) {
					$('#userName').val(response[0]['userId']);
					//$('#userFullName').val(nullHandler(response[0]['userLastName']) + " " + nullHandler(response[0]['userFirstName']) + " " + nullHandler(response[0]['userMidName']) + " " + nullHandler(response[0]['userSuffixName']));
					$('#userLName').val(nullHandler(response[0]['userLastName']));
					$('#userFName').val(nullHandler(response[0]['userFirstName']));
					$('#userMName').val(nullHandler(response[0]['userMidName']));
					$('#userSName').val(nullHandler(response[0]['userSuffixName']));

					if (response[0]['userStatus'] == 'A') {
						$('#customSwitch2').prop('checked', true);
						$('#customSwitchVal').val('A');
					} else {
						$('#customSwitch2').prop('checked', false);
						$('#customSwitchVal').val('I');
					}

					$('#userEmail').val(response[0]['userEmailAddress']);
					$('#userPhone').val(response[0]['userPhone1']);
					//$('#userCaseload').val(response[0]['userCaseloadType']);
					//alert(response[0]['primaryInstNum']);
					//alert(response[0]['primaryInstNum'].length);
					$('#primaryInst').val(response[0]['primaryInstNum']);

					$('#userDistOff').val(response[0]['userDistrictOffice']);
					$('#userUnitNum').val(response[0]['userUnitNum']);

					$('#userTitle').val(response[0]['jobTitle']);
					$('#userParOfcrNum').val(response[0]['usersParOfcrNum']);
					$('#userPrimaryMenu').val(response[0]['userPrimaryMenu']);
					$('#userEmpId').val(response[0]['userEmployeeId']);

					$('#insdate').text(change_dt_format(response[0]['insertedDateTime']));
					$('#insuserid').text(response[0]['insertedUserId']);
					$('#upddate').text(change_dt_format(response[0]['updatedDateTime']));
					$('#upduserid').text(response[0]['updatedUserId']);
					table_role.setData("getUserRoles?user=" + response[0]['userId']);
					table_location.setData("getUserLocation?user=" + response[0]['userId']);
					$('#do_inst').val('');
					$('#undo_inst').val('');
					$('#do_role').val('');
					$('#undo_role').val('');
					$('#upd_indicate').val('Y');
				},
				error: function () {
					alert("json not found");
				}
			});
		}

		function change_dt_format(dt) {
			dt = dt.split(" ")[0];
			var yr = dt.split("-")[0];
			var mn = dt.split("-")[1];
			var dat = dt.split("-")[2];

			return mn + "/" + dat + "/" + yr;
		}

		$(document.body).on('click', '.word_btnx', function () {
			$('#srch_field').val('');
			var myval = $(this).attr('data-val');
			var content = "";
			//alert(myval);
			//table.setData("tabulardata?word=" + myval);
			//visible = 50;
			opt_letter = myval;
			srch_key = false;
			currentPage = 1;
			fetchData(1, myval, '');
		});

		$(document.body).on('keyup', '#srch_field', function (e) {
			if (e.which == 13) {
				if ($(this).val() != "") {
					//table.setData("loadDataByKey?key=" + $(this).val());
					opt_letter = "";
					srch_key = true;
					//visible = 50;
					currentPage = 1;
					fetchData(1, '', $(this).val());
				}
			}
		});

		function nullCheck(x) {
			if (x == null) {
				x = '';
			}
			return x;
		}

		$('#save').on('click', function () {

			if ($('#userName').val() == '') {
				alert_msg('Please enter user id');
				return;
			}

			/*if ($('#userName').val().length != 8) {
				alert_msg('User id should be 8 characters');
				return;
			}*/

			if ($('#userLName').val() == '') {
				alert_msg('Please enter user last name');
				return;
			}

			if ($('#userFName').val() == '') {
				alert_msg('Please enter user first name');
				return;
			}

			/*if ($('#userFName').val() == '') {
				alert_msg('Please enter user First name');
				return;
			}*/

			if ($('#userEmail').val() == '') {
				alert_msg('Please enter email id');
				return;
			}

			if (!validateEmail($('#userEmail').val())) {
				alert_msg('Email id is not valid');
				return;
			}

			if ($('#primaryInst').val() == '') {
				alert_msg('Pleae select primary intitution');
				return;
			}

			if ($('#userTitle').val() == '') {
				alert_msg('Please select title');
				return;
			}

			if ($('#userPhone').val() != '' && $('#userPhone').val().length != 10) {
				alert_msg('Mobile number should be 10 digits');
				return;
			}

			/*var full_name = $('#userFullName').val().trim();
			var split_name = full_name.split(' ');
			$('#userLName').val(nullCheck(split_name[0]));
			$('#userFName').val(nullCheck(split_name[1]));
			$('#userMName').val(nullCheck(split_name[2]));
			$('#userSName').val(nullCheck(split_name[3]));*/

			$('#userName').val($('#userName').val().toUpperCase());
			var userid = $('#userName').val();
			
			$('#insFlag').val('N');
			
			if ($('#upd_indicate').val() == '') {
				$.ajax({
					type: "POST",
					url: contextPath + "checkUserExist",
					dataType: "json",
					data: {user: userid},
					success: function (response) {
						if(response[0]['CNT'] == '0') {
							$('#insFlag').val('Y');
							save_area();
						} else {
							message('USE', 0, 0);	
						}

					},
					error: function () {
						//alert("json not found");
						message('E', 0, 0);
					}
				});

			} else {
				//alert('update part');
				save_area();
			}

			/*$.ajax({
				type: "POST",
				url: "/saveUser",
				data: $('#topForm').serialize(),
				success: function (response) {
					alert_success('Data Saved');
					getUsers();
				},
				error: function () {
					alert("json not found");
				}
			});*/
		});

		function save_area() {
			$.ajax({
				type: "PUT",
				url: contextPath + "addUser",
				data: $('#topForm').serialize(),
				success: function (response) {
					//alert_success('Data Saved');
					if ($('#do_inst').val() != '' || $('#undo_inst').val() || $('#do_role').val() != '' || $('#undo_role').val() != '') {
						saveInstRole($('#do_inst').val(), $('#undo_inst').val(), $('#do_role').val(), $('#undo_role').val());
					} else {
						message('S', 0, 0);
						setTimeout(function () {
							//console.log('007 : ' + $('#userName').val());
							loadData($('#userName').val());
						}, 1000);
					}
				},
				error: function () {
					message('E', 0, 0);
					//alert("json not found");
				}
			});
		}

		function changeBx2Comma(x) {
			if (x.includes("][")) {
				x = x.split('][').join(',');
			}
			if (x.includes("[")) {
				x = x.split('[').join('').split(']').join('');
			}
			return x;
		}

		function saveInstRole(do_i, un_i, do_r, un_r) {

			do_i = changeBx2Comma(do_i);
			un_i = changeBx2Comma(un_i);
			do_r = changeBx2Comma(do_r);
			un_r = changeBx2Comma(un_r);

			$.ajax({
				type: "POST",
				url: contextPath + "saveInstRole",
				data: {do_i: do_i, un_i: un_i, do_r: do_r, un_r: un_r, userid: $('#userName').val()},
				success: function (response) {
					$('#do_inst').val('');
					$('#undo_inst').val('');
					$('#do_role').val('');
					$('#undo_role').val('');
					message('S', 0, 0);
					setTimeout(function () {
						loadData($('#userName').val());
						table_role.setData("getUserRoles?user=" + $('#userName').val());
						table_location.setData("getUserLocation?user=" + $('#userName').val());
					}, 1000);
				},
				error: function () {
					message('E', 0, 0);
					//alert("json not found");
				}
			});

			/*alert('do_i is ' + do_i);
			alert('un_i is ' + un_i);
			alert('do_r is ' + do_r);
			alert('un_r is ' + un_r);*/
		}

		$('#add,#clr').on('click', function () {
			message('U', 0, function () {
				$('.usr_stp_fld').val('');
				$('#customSwitch2').prop('checked', true);
				$('#customSwitchVal').val('A');
				$('.top_fld').html('');
				$('#userName').focus();
				table_location.setData("getUserLocation?user=''");
				table_role.setData("getUserRoles?user=''");
				$('#upd_indicate').val('');
			});
		});

		$('#exit').on('click', function () {
			message('B', 0, function () {
				history.back();
			});
		});

		loadUserLocation();

		function loadUserLocation() {
			$.ajax({
				type: "POST",
				url: contextPath + "getUserLocation",
				dataType: "json",
				success: function (response) {
					var content = "<option value=''>select</option>";
					for (var i = 0; i < response.length; i++) {
						content += "<option value='" + response[i]['INST_NUM'] + "'>" + response[i]['INST_NAME'] + "</option>";
					}
					$('#primaryInst').html(content);
				},
				error: function () {
					alert("json not found");
				}
			});
		}

		loadUserTitle();

		function loadUserTitle() {
			$.ajax({
				type: "POST",
				url: contextPath + "getUserTitle",
				dataType: "json",
				success: function (response) {
					var content = "<option value=''>select</option>";
					for (var i = 0; i < response.length; i++) {
						content += "<option value='" + response[i]['TITLE'] + "'>" + response[i]['TITLE_DESC'] + "</option>";
					}
					$('#userTitle').html(content);
				},
				error: function () {
					alert("json not found");
				}
			});
		}

		var alert_msg = function (msg) {
			//Swal.fire('Required', msg, 'warning');
			message('CUW', msg, 0);
			/*alertify.dialog('alert').set({
				transitionOff: true,
				closableByDimmer: false,
				message: msg
			}).show().set({title: "OMNET - Message"});*/
		}

		var alert_success = function (msg) {
			//Swal.fire('Success', msg, 'success');
			message('CUS', msg, 0);
		}

		function validateEmail(email) {
			const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
			return emailRegex.test(email);
		}

		$('#inclInactive').on('click', function () {

		});

		$(document.body).on('change', '.role_sel', function () {
			//alert($(this).attr('data-val'));
			var seq = $(this).attr('data-val');
			if ($(this).prop('checked')) {
				var x = $('#do_role').val() + '[' + seq + ']';
				$('#do_role').val(x);
				if ($('#undo_role').val().includes('[' + seq + ']')) {
					$('#undo_role').val($('#undo_role').val().split('[' + seq + ']').join(''));
				}
				//alert('do');
			} else {
				var y = $('#undo_role').val() + '[' + seq + ']';
				$('#undo_role').val(y);
				if ($('#do_role').val().includes('[' + seq + ']')) {
					$('#do_role').val($('#do_role').val().split('[' + seq + ']').join(''));
				}
				//alert('undo');
			}
		});

		$(document.body).on('change', '.inst_sel', function () {
			//alert($(this).attr('data-val'));
			var seq = $(this).attr('data-val');
			if ($(this).prop('checked')) {
				var x = $('#do_inst').val() + '[' + seq + ']';
				$('#do_inst').val(x);
				if ($('#undo_inst').val().includes('[' + seq + ']')) {
					$('#undo_inst').val($('#undo_inst').val().split('[' + seq + ']').join(''));
				}
				//alert('do');
			} else {
				var y = $('#undo_inst').val() + '[' + seq + ']';
				$('#undo_inst').val(y);
				if ($('#do_inst').val().includes('[' + seq + ']')) {
					$('#do_inst').val($('#do_inst').val().split('[' + seq + ']').join(''));
				}
				//alert('undo');
			}
		});

	});

	function isNumber(evt) {
		evt = (evt) ? evt : window.event;
		var charCode = (evt.which) ? evt.which : evt.keyCode;
		if (charCode > 31 && (charCode < 48 || charCode > 57)) {
			return false;
		}
		return true;
	}
</script>

<body class="mod-bg-1 mod-nav-link">
<div th:replace="~{fragments/header :: header}"></div>
<div th:replace="~{fragments/navmenus :: navmenus}"></div>
	<!-- BEGIN Page Wrapper -->
	<div class="page-wrapper">
		<div class="page-inner">
			<!-- BEGIN Left Aside -->
			<div th:replace="~{fragments/sidebar :: sidebar}"></div>
			<!-- END Left Aside -->
			<div class="page-content-wrapper">
				<!-- BEGIN Page Header -->
				<!-- END Page Header -->
				<!-- BEGIN Page Content -->
				<!-- the #js-page-content id is needed for some plugins to initialize -->
				<main id="js-page-content" role="main" class="page-content">
					<!-- <ol class="breadcrumb page-breadcrumb">
                            <li class="breadcrumb-item"><a href="javascript:void(0);">SmartAdmin</a></li>
                            <li class="breadcrumb-item">category_1</li>
                            <li class="breadcrumb-item">category_2</li>
                            <li class="breadcrumb-item active">Page Titile</li>
                            <li class="position-absolute pos-top pos-right d-none d-sm-block"><span class="js-get-date"></span></li>
                        </ol> -->
					<div class="subheader">
						<h1 class="subheader-title">
						<div th:replace="~{fragments/toggleMenu :: toggleMenu}"></div>
							<i class='subheader-icon fal fa-window'></i>USER SETUP</span>
						</h1>

						<div class="frame-wrap">
							<a href="javascript:void(0);"
								class="btn btn-primary btn-sm btn-icon waves-effect waves-themed" data-toggle="tooltip"
								data-placement="top" data-original-title="Add" id="add"> <i class="fal fa-plus"></i>
							</a> <a href="javascript:void(0);"
								class="btn btn-warning btn-sm btn-icon waves-effect waves-themed" data-toggle="tooltip"
								data-placement="top" data-original-title="Print"> <i class="fal fa-print"></i>
							</a> <a href="javascript:void(0);"
								class="btn btn-secondary btn-sm btn-icon waves-effect waves-themed"
								data-toggle="tooltip" data-placement="top" data-original-title="Clear" id="clr"> <i
									class="fal fa-times"></i>
							</a> <a href="javascript:void(0);"
								class="btn btn-success btn-sm btn-icon waves-effect waves-themed" data-toggle="tooltip"
								data-placement="top" data-original-title="OK/Save" id="save"> <i
									class="fal fa-save"></i>
							</a> <a href="#" id="exit" class="btn btn-danger btn-sm btn-icon waves-effect waves-themed"
								data-toggle="tooltip" data-placement="top" data-original-title="Cancel/Exit"> <i
									class="fal fa-sign-out"></i>
							</a>
						</div>

					</div>


					<div class="row">
						<div class="col-lg-4 col-xl-4">
							<h6 class="mx-0 mb-0 text-nowrap headerBlock text-center" style="font-weight: 600;">User
								Details</h6>
							<div class="panel panelContentBlock p-1 mb-1">
								<div class="panel-content">
									<button type="button" data-val="Opt1"
										class="word_btnx btn btn-sm btn-primary waves-effect waves-themed">A→D</button>
									<button type="button" data-val="Opt2"
										class="word_btnx btn btn-sm btn-primary waves-effect waves-themed">E→H</button>
									<button type="button" data-val="Opt3"
										class="word_btnx btn btn-sm btn-primary waves-effect waves-themed">I→L</button>
									<button type="button" data-val="Opt4"
										class="word_btnx btn btn-sm btn-primary waves-effect waves-themed">M→P</button>
									<button type="button" data-val="Opt5"
										class="word_btnx btn btn-sm btn-primary waves-effect waves-themed">Q→T</button>
									<button type="button" data-val="Opt6"
										class="word_btnx btn btn-sm btn-primary waves-effect waves-themed">U→Z</button>
									<div id="usersetupdetails_filter" class="dataTables_filter mt-2 d-flex">
										<div style="background: #886ab5;color: #fff; border-radius: 5px 0px 0px 5px;"
											class="input-group-text d-inline-flex width-3 align-items-center justify-content-center border-bottom-right-radius-0 border-top-right-radius-0 border-right-0">
											<i class="fal fa-search"></i>
										</div><input id="srch_field" type="search"
											style="position: relative;top:0px;left:0px; height: 30px;width:100px;"
											class="form-control border-top-left-radius-0 border-bottom-left-radius-0 ml-0 width-lg shadow-inset-1"
											placeholder="Search" aria-controls="usersetupdetails">
										<button id="inclInactive" class="btn btn-sm btn-primary ml-2">Include
											Inactive</button>
									</div>
									<div id="example-table" class="mt-2"></div>
									<div class="dataTables_info" id="usersetupdetails_info" role="status"
										aria-live="polite" style="color:#000;padding:5px;padding-top: 15px;">Showing 0
										entries
									</div>

									<!-- datatable start -->
									<div class="mb-2" id="userdetail-table"></div>


									<!--<table id="usersetupdetails" class="table table-bordered table-striped w-100">
										<thead class="bg-primary-600">
											<tr>

												<th>UserName</th>
												<th>Last/First Name</th>
												<th>Title</th>
											</tr>
										</thead>
										<tbody id="myusers">
											<tr th:id="${user.userName}"
												th:class="${user.userStatus == 'A' ? 'userlist color-success-400' : 'userlist color-danger-400'}"
												th:each="user : ${listUsers}">
												<td th:text="${user.userName}"></td>
												<td><span th:text="${user.userLastName}"></span> <span
														th:text="${user.userFirstName}"></span></td>
												<td th:text="${user.jobTitle}"></td>
											</tr>
										</tbody>

									</table>-->
									<!-- datatable end -->
								</div>

								<table class="table table-hover table-clean mb-0">
									<tbody>
										<tr>
											<td style="text-align: -webkit-right;"><span style="height:15px; width:15px"
													class="rounded-circle d-block bg-success-600"></span> </td>
											<td class="color-success-600">Status : Active</td>
											<td style="text-align: -webkit-right;"><span style="height:15px; width:15px"
													class="rounded-circle d-block bg-danger-600"></span> </td>
											<td class="color-danger-600">Status : Inactive</td>
										</tr>

									</tbody>
								</table>
							</div>

						</div>

						<div class="col-lg-8 col-xl-8">
							<h6 class="mx-0 mb-0 text-nowrap headerBlock text-center" style="font-weight: 600;">User
								Setup</h6>
							<div class="panel panelContentBlock p-1 mb-1">
								<table>
									<tbody>
										<tr>
											<td class="pl-2">
												<label for="insdate"
													class="form-label mr-2 mb-0 text-nowrap text-nowrap">Inserted
													Date:</label>
												<span class="top_fld" id="insdate" style="margin-right: 50px;"></span>
											</td>
											<td>
												<label for="insuserid"
													class="form-label mr-2 mb-0 text-nowrap text-nowrap">Inserted
													By:</label>
												<span class="top_fld" id="insuserid" style="margin-right: 50px;"></span>
											</td>
											<td>
												<label for="upddate"
													class="form-label mr-2 mb-0 text-nowrap text-nowrap">Last
													Updated:</label>
												<span class="top_fld" id="upddate" style="margin-right: 50px;"></span>
											</td>
											<td>
												<label for="upduserid"
													class="form-label mr-2 mb-0 text-nowrap text-nowrap">Updated
													By:</label>
												<span class="top_fld" id="upduserid" style="margin-right: 50px;"></span>
											</td>
										</tr>
									</tbody>
								</table>
								<div class="panel-container show">
									<div class="panel-content p-2">
										<form id="topForm">
											<div class="form-group row">
												<!-- 	<div class="col-12 col-lg-2">
													<label class="form-label">User ID<span
                                                            class="text-danger">*</span> </label>
													<input type="text" class="form-control" disabled>
												</div> -->
												<div class="col-12 col-lg-3 d-flex align-items-center">
													<label class="form-label mr-2 mb-0 text-nowrap text-nowrap"
														for="userName">User Id<span class="text-danger">*</span>
													</label> <input type="text" maxlength="8"
														class="form-control usr_stp_fld" name="userId" id="userName"
														aria-label="userName" value="">
												</div>
												<div class="col-12 col-lg-3 d-flex align-items-center pl-0">
													<label class="form-label mr-2 mb-0 text-nowrap text-nowrap"
														for="name">Last Name<span class="text-danger">*</span>
													</label>
													<input type="hidden" id="do_inst" name="doInst" />
													<input type="hidden" id="undo_inst" name="undoInst" />
													<input type="hidden" id="do_role" name="doRole" />
													<input type="hidden" id="undo_role" name="undoRole" />
													<input type="hidden" id="upd_indicate" value="" />
													<input type="hidden" id="insFlag" name="insFlag">
													<input type="hidden" class="form-control usr_stp_fld"
														name="userFullName" id="userFullName" aria-label="userLName">
													<input type="text" class="form-control usr_stp_fld"
														name="userLastName" id="userLName" aria-label="userLName">
													<!--<input type="hidden" class="form-control usr_stp_fld"
															placeholder="First Name" name="userFirstName" id="userFName"
															aria-label="userFName">
														<input type="hidden" class="form-control usr_stp_fld"
															placeholder="Mi" name="userMidName" id="userMName"
															aria-label="userMName">
														<input type="hidden" class="form-control usr_stp_fld"
															placeholder="Suffix" name="userSuffixName" id="userSName"
															aria-label="userSName">-->

												</div>
												<div class="col-12 col-lg-3 d-flex align-items-center pl-0">
													<label class="form-label mr-2 mb-0 text-nowrap text-nowrap"
														for="mobile">First Name<span
															class="text-danger">*</span></label> <input type="text"
														class="form-control usr_stp_fld" name="userFirstName"
														id="userFName">
												</div>
												<div class="col-12 col-lg-1 d-flex align-items-center pl-0">
													<label class="form-label mr-2 mb-0 text-nowrap text-nowrap"
														for="caseloadtype">MI</label>
													<input type="text" class="form-control usr_stp_fld" id="userMName"
														name="userMidName">
												</div>
												<div class="col-12 col-lg-2 pl-0 d-flex align-items-center">
													<label class="form-label mr-2 mb-0 text-nowrap text-nowrap"
														for="primaryWlocation">Suffix</label>
													<input type="text" class="form-control usr_stp_fld"
														name="userSuffixName" id="userSName">
												</div>
												<div class="col-12 col-lg-5 d-flex align-items-center mt-2">
													<label class="form-label mr-2 mb-0 text-nowrap text-nowrap"
														for="emailId">Email Id<span class="text-danger">*</span>
													</label> <input type="email" class="form-control usr_stp_fld"
														name="userEmailAddress" id="userEmail">

													<label class="form-label mx-2 mb-0 text-nowrap text-nowrap"
														for="status">Status</label>
													<div class="frame-wrap">
														<div class="demo">
															<div class="custom-control custom-switch"
																style="margin: 0 !important;">
																<input type="checkbox" class="custom-control-input"
																	name="customSwitch2" id="customSwitch2" checked="">
																<label class="custom-control-label"
																	for="customSwitch2"></label>
																<input type="hidden" value="A" id="customSwitchVal"
																	th:name="userStatus">
															</div>
														</div>

													</div>
												</div>
												<div class="col-12 col-lg-2 d-flex align-items-center mt-2 pl-0">
													<label class="form-label mr-2 mb-0 text-nowrap text-nowrap"
														for="mobile">Mobile</label> <input type="text"
														class="form-control usr_stp_fld" name="userPhone1"
														id="userPhone" onkeypress="return isNumber(event)"
														maxlength="10">
												</div>
												<div class="col-12 col-lg-5 d-flex align-items-center mt-2 pl-0">
													<label class="form-label mr-2 mb-0 text-nowrap text-nowrap"
														for="caseloadtype">Caseload
														Type</label>
													<select class="custom-select form-control usr_stp_fld"
														id="userCaseload" name="userCaseload">
														<option selected="" value="0">select</option>
														<option value="1">One</option>
														<option value="2">Two</option>
														<option value="3">Three</option>
													</select>
												</div>
											</div>
											<div class="form-group row">
												<div class="col-12 col-lg-5 d-flex align-items-center mt-2">
													<label class="form-label mr-2 mb-0 text-nowrap text-nowrap"
														for="primaryWlocation">Primary Work
														Location<span class="text-danger">*</span> </label> <select
														class="custom-select form-control usr_stp_fld"
														name="primaryInstNum" id="primaryInst">
														<option selected="">select</option>
														<option value="03">SCI</option>
														<option value="04">DCIF</option>
														<option value="05">BMC</option>
													</select>
												</div>
												<div class="col-12 col-lg-4 d-flex align-items-center mt-2 pl-0">
													<label class="form-label mr-2 mb-0 text-nowrap text-nowrap"
														for="DistricOff" style="min-width: 90px;">District
														Office#</label>
													<input type="number" class="form-control usr_stp_fld"
														id="userDistOff" name="userDistOff">
												</div>
												<div class="col-12 col-lg-3 d-flex align-items-center mt-2 pl-0">
													<label class="form-label mr-2 mb-0 text-nowrap text-nowrap"
														for="unit" style="min-width: 75px;">Unit#</label> <input
														type="number" class="form-control usr_stp_fld"
														name="userUnitNum" id="userUnitNum">
												</div>
												<div class="col-12 col-lg-5 d-flex align-items-center mt-2">
													<label class="form-label mr-2 mb-0 text-nowrap text-nowrap"
														for="userLevel" style="min-width: 140px;">User Level</label>
													<select class="custom-select form-control">
														<option selected="">select</option>
														<option value="1">One</option>
														<option value="2">Two</option>
														<option value="3">Three</option>
													</select>
												</div>

												<div class="col-12 col-lg-4 d-flex align-items-center mt-2 pl-0">
													<label class="form-label mr-2 mb-0 text-nowrap text-nowrap"
														for="title" style="min-width: 90px;">Title<span
															class="text-danger">*</span>
													</label> <select class="custom-select form-control usr_stp_fld"
														name="jobTitle" id="userTitle">
														<option value="">Select</option>
														<option value="ofcr">Officer</option>
														<option value="docr">Doctor</option>
														<option value="secu">Security</option>
													</select>
												</div>
												<div class="col-12 col-lg-3 d-flex align-items-center mt-2 pl-0">
													<label class="form-label mr-2 mb-0 text-nowrap text-nowrap"
														for="ofcrNum" style="min-width: 75px;">Ofcr Num</label> <input
														type="text" class="form-control usr_stp_fld" id="userParOfcrNum"
														name="parOfcrNum">
												</div>
												<div class="col-12 col-lg-5 d-flex align-items-center mt-2">
													<label class="form-label mr-2 mb-0 text-nowrap text-nowrap"
														for="supervisorName" style="min-width: 140px;">Supervisor
														Name</label>
													<div class="input-group">
														<input type="text" class="form-control usr_stp_fld"
															placeholder="" id="lastName" name="lastName"
															style="border-radius: 5px;">
														<!--<input type="text" class="form-control usr_stp_fld"
															aria-label="Person name" placeholder="First Name"
															id="firstName" name="firstName">
														<input type="text" class="form-control usr_stp_fld"
															aria-label="Person name" placeholder="Mi" name="Mi" id="Mi">
														<input type="text"
															style="border-top-right-radius: 4px; border-bottom-right-radius: 4px;"
															class="form-control usr_stp_fld" aria-label="Person name"
															placeholder="Suffix" name="Suffix" id="Suffix">-->
														<div class="">
															<a href="#"
																class="btn btn-primary btn-sm p-1 ml-2 btn js-waves-off"
																data-toggle="tooltip" data-placement="top"
																data-original-title="Choose List"
																data-class="nav-function-hidden">
																<i class="fa fa-list"></i>
															</a>
														</div>
													</div>
												</div>
												<div class="col-12 col-lg-4 d-flex align-items-center mt-2 pl-0">
													<label class="form-label mr-2 mb-0 text-nowrap text-nowrap"
														for="primaryMenu" style="min-width: 90px;">Primary menu</label>
													<select class="custom-select form-control usr_stp_fld"
														id="userPrimaryMenu" name="userPrimaryMenu">
														<option selected="" value="">select</option>
														<option value="1">One</option>
														<option value="2">Two</option>
														<option value="3">Three</option>
													</select>
												</div>
												<div class="col-12 col-lg-3 d-flex align-items-center mt-2 pl-0">
													<label class="form-label mr-2 mb-0 text-nowrap text-nowrap"
														for="employeId" style="min-width: 75px;">Employee Id</label>
													<div class="input-group input-group-multi-transition">
														<input type="text" class="form-control usr_stp_fld"
															style="border-top-right-radius: 4px; border-bottom-right-radius: 4px;"
															id="userEmpId" name="userEmpId">
														<div class="input-group-append">
															<a href="#"
																style="    border-top-left-radius: 4px; border-bottom-left-radius: 4px;"
																class="btn btn-primary btn-sm p-1 ml-2 btn js-waves-off"
																data-toggle="tooltip" data-placement="top"
																data-original-title="Choose List"
																data-class="nav-function-hidden">
																<i class="fa fa-list"></i>
															</a>
														</div>
													</div>
												</div>
											</div>
										</form>
									</div>
								</div>
							</div>
							<div class="panel panelContentBlock p-1 mb-1">
								<div class="row">
									<div class="col-lg-6 col-xl-6 pr-0">
										<h6 class="mx-0 mb-0 text-nowrap headerBlock text-center"
											style="font-weight: 600;">User Accessible Work Location</h6>
										<div class="panel-container show">
											<div class="panel-content p-1">
												<!-- datatable start -->
												<div id="worklocation-table"></div>
												<!--<table id="userInstitution" class="table table-bordered table-striped">
														<thead class="bg-primary-600">
															<tr>
																<th>Location Name</th>
																<th style="width: 1px;">Access</th>
															</tr>
														</thead>
														<tbody>
															<tr>
																<td><input type="text" name="" id="" class="form-control">
																</td>
																<td><input type="checkbox" name="" id=""></td>
															</tr>
															<tr>
																<td><input type="text" class="form-control"></td>
																<td><input type="checkbox" name="" id=""></td>
															</tr>
															<tr>
																<td><input type="text" class="form-control"></td>
																<td><input type="checkbox" name="" id=""></td>
															</tr>
															<tr>
																<td><input type="text" class="form-control"></td>
																<td><input type="checkbox" name="" id=""></td>
															</tr>
															<tr>
																<td><input type="text" class="form-control"></td>
																<td><input type="checkbox" name="" id=""></td>
															</tr>
															<tr>
																<td><input type="text" class="form-control"></td>
																<td><input type="checkbox" name="" id=""></td>
															</tr>
															<tr>
																<td><input type="text" class="form-control"></td>
																<td><input type="checkbox" name="" id=""></td>
															</tr>
															<tr>
																<td><input type="text" class="form-control"></td>
																<td><input type="checkbox" name="" id=""></td>
															</tr>
															<tr>
																<td><input type="text" class="form-control"></td>
																<td><input type="checkbox" name="" id=""></td>
															</tr>
															<tr>
																<td><input type="text" class="form-control"></td>
																<td><input type="checkbox" name="" id=""></td>
															</tr>
														</tbody>
	
													</table>-->
												<!-- datatable end -->
											</div>
										</div>
									</div>
									<div class="col-lg-6 col-xl-6 pl-2">
										<h6 class="mx-0 mb-0 text-nowrap headerBlock text-center"
											style="font-weight: 600;">User Role</h6>
										<div class="panel-container show">
											<div class="panel-content p-1">
												<!-- datatable start -->
												<div id="userrole-table"></div>
												<!--<table id="userroledetails"
														class="table table-bordered table-striped w-100">
														<thead class="bg-primary-600">
															<tr>
																<th></th>
																<th>Role#</th>
																<th>Role</th>
																<th>Active date</th>
																<th>End date</th>
															</tr>
														</thead>
														<tbody>
															<tr>
																<td><input type="checkbox" name="" id=""></td>
																<td>415</td>
																<td>ADA Officer</td>
																<td><input class="form-control" id="example-date"
																		type="date" name="date" value="2023-07-23"></td>
																<td><input class="form-control" id="example-date"
																		type="date" name="date" value="2023-07-23"></td>
															</tr>
															<tr>
																<td><input type="checkbox" name="" id=""></td>
																<td>415</td>
																<td>ADA Officer</td>
																<td><input class="form-control" id="example-date"
																		type="date" name="date" value="2023-07-23"></td>
																<td><input class="form-control" id="example-date"
																		type="date" name="date" value="2023-07-23"></td>
															</tr>
															<tr>
																<td><input type="checkbox" name="" id=""></td>
																<td>415</td>
																<td>ADA Officer</td>
																<td><input class="form-control" id="example-date"
																		type="date" name="date" value="2023-07-23"></td>
																<td><input class="form-control" id="example-date"
																		type="date" name="date" value="2023-07-23"></td>
															</tr>
															<tr>
																<td><input type="checkbox" name="" id=""></td>
																<td>415</td>
																<td>ADA Officer</td>
																<td><input class="form-control" id="example-date"
																		type="date" name="date" value="2023-07-23"></td>
																<td><input class="form-control" id="example-date"
																		type="date" name="date" value="2023-07-23"></td>
															</tr>
															<tr>
																<td><input type="checkbox" name="" id=""></td>
																<td>415</td>
																<td>ADA Officer</td>
																<td><input class="form-control" id="example-date"
																		type="date" name="date" value="2023-07-23"></td>
																<td><input class="form-control" id="example-date"
																		type="date" name="date" value="2023-07-23"></td>
															</tr>
															<tr>
																<td><input type="checkbox" name="" id=""></td>
																<td>415</td>
																<td>ADA Officer</td>
																<td><input class="form-control" id="example-date"
																		type="date" name="date" value="2023-07-23"></td>
																<td><input class="form-control" id="example-date"
																		type="date" name="date" value="2023-07-23"></td>
															</tr>
															<tr>
																<td><input type="checkbox" name="" id=""></td>
																<td>415</td>
																<td>ADA Officer</td>
																<td><input class="form-control" id="example-date"
																		type="date" name="date" value="2023-07-23"></td>
																<td><input class="form-control" id="example-date"
																		type="date" name="date" value="2023-07-23"></td>
															</tr>
															<tr>
																<td><input type="checkbox" name="" id=""></td>
																<td>415</td>
																<td>ADA Officer</td>
																<td><input class="form-control" id="example-date"
																		type="date" name="date" value="2023-07-23"></td>
																<td><input class="form-control" id="example-date"
																		type="date" name="date" value="2023-07-23"></td>
															</tr>
															<tr>
																<td><input type="checkbox" name="" id=""></td>
																<td>415</td>
																<td>ADA Officer</td>
																<td><input class="form-control" id="example-date"
																		type="date" name="date" value="2023-07-23"></td>
																<td><input class="form-control" id="example-date"
																		type="date" name="date" value="2023-07-23"></td>
															</tr>
															<tr>
																<td><input type="checkbox" name="" id=""></td>
																<td>415</td>
																<td>ADA Officer</td>
																<td><input class="form-control" id="example-date"
																		type="date" name="date" value="2023-07-23"></td>
																<td><input class="form-control" id="example-date"
																		type="date" name="date" value="2023-07-23"></td>
															</tr>
														</tbody>
	
													</table>-->
												<!-- datatable end -->
											</div>
										</div>
									</div>

								</div>
							</div>
						</div>
					</div>
				</main>
				<!-- this overlay is activated only when mobile menu is triggered -->
				<div class="page-content-overlay" data-action="toggle" data-class="mobile-nav-on"></div>
				<!-- END Page Content -->
				<!-- BEGIN Page Footer -->
				<div th:replace="~{fragments/footer :: footer}"></div>
				<!-- END Page Footer -->
				<!-- BEGIN Shortcuts -->
				<!-- modal shortcut -->
				<div class="modal fade modal-backdrop-transparent" id="modal-shortcut" tabindex="-1" role="dialog"
					aria-labelledby="modal-shortcut" aria-hidden="true">
					<div class="modal-dialog modal-dialog-top modal-transparent" role="document">
						<div class="modal-content">
							<div class="modal-body">
								<ul class="app-list w-auto h-auto p-0 text-left">
									<li><a href="intel_introduction.html" class="app-list-item text-white border-0 m-0">
											<div class="icon-stack">
												<i class="base base-7 icon-stack-3x opacity-100 color-primary-500 "></i>
												<i class="base base-7 icon-stack-2x opacity-100 color-primary-300 "></i>
												<i class="fal fa-home icon-stack-1x opacity-100 color-white"></i>
											</div> <span class="app-list-name"> Home </span>
										</a></li>
									<li><a href="page_inbox_general.html" class="app-list-item text-white border-0 m-0">
											<div class="icon-stack">
												<i class="base base-7 icon-stack-3x opacity-100 color-success-500 "></i>
												<i class="base base-7 icon-stack-2x opacity-100 color-success-300 "></i>
												<i class="ni ni-envelope icon-stack-1x text-white"></i>
											</div> <span class="app-list-name"> Inbox </span>
										</a></li>
									<li><a href="intel_introduction.html" class="app-list-item text-white border-0 m-0">
											<div class="icon-stack">
												<i class="base base-7 icon-stack-2x opacity-100 color-primary-300 "></i>
												<i class="fal fa-plus icon-stack-1x opacity-100 color-white"></i>
											</div> <span class="app-list-name"> Add More </span>
										</a></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
				<!-- END Shortcuts -->
			</div>
		</div>
	</div>
	<!-- END Page Wrapper -->
	<!-- BEGIN Quick Menu -->
	<!-- to add more items, please make sure to change the variable '$menu-items: number;' in your _page-components-shortcut.scss -->
	<nav class="shortcut-menu d-none d-sm-block"> <input type="checkbox" class="menu-open" name="menu-open"
			id="menu_open" />
		<label for="menu_open" class="menu-open-button "> <span class="app-shortcut-icon d-block"></span>
		</label> <a href="#" class="menu-item btn" data-toggle="tooltip" data-placement="left" title="Scroll Top"> <i
				class="fal fa-arrow-up"></i>
		</a> <a href="page_login-alt.html" class="menu-item btn" data-toggle="tooltip" data-placement="left"
			title="Logout"> <i class="fal fa-sign-out"></i>
		</a> <a href="#" class="menu-item btn" data-action="app-fullscreen" data-toggle="tooltip" data-placement="left"
			title="Full Screen">
			<i class="fal fa-expand"></i>
		</a> <a href="#" class="menu-item btn" data-action="app-print" data-toggle="tooltip" data-placement="left"
			title="Print page"> <i class="fal fa-print"></i>
		</a> <a href="#" class="menu-item btn" data-action="app-voice" data-toggle="tooltip" data-placement="left"
			title="Voice command">
			<i class="fal fa-microphone"></i>
		</a>
	</nav>
	<!-- END Quick Menu -->
	<!-- BEGIN Messenger -->
	<div class="modal fade js-modal-messenger modal-backdrop-transparent" tabindex="-1" role="dialog"
		aria-hidden="true">
		<div class="modal-dialog modal-dialog-right">
			<div class="modal-content h-100">
				<div class="dropdown-header bg-trans-gradient d-flex align-items-center w-100">
					<div class="d-flex flex-row align-items-center mt-1 mb-1 color-white">
						<span class="mr-2"> <span class="rounded-circle profile-image d-block"
								style="background-image: url('img/demo/avatars/avatar-d.png'); background-size: cover;"></span>
						</span>
						<div class="info-card-text">
							<a href="javascript:void(0);" class="fs-lg text-truncate text-truncate-lg text-white"
								data-toggle="dropdown" aria-expanded="false"> Tracey Chang
								<i class="fal fa-angle-down d-inline-block ml-1 text-white fs-md"></i>
							</a>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="#">Send Email</a> <a class="dropdown-item"
									href="#">Create Appointment</a> <a class="dropdown-item" href="#">Block User</a>
							</div>
							<span class="text-truncate text-truncate-md opacity-80">IT
								Director</span>
						</div>
					</div>
					<button type="button" class="close text-white position-absolute pos-top pos-right p-2 m-1 mr-2"
						data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true"><i class="fal fa-times"></i></span>
					</button>
				</div>
				<div class="modal-body p-0 h-100 d-flex">
					<!-- BEGIN msgr-list -->
					<div
						class="msgr-list d-flex flex-column bg-faded border-faded border-top-0 border-right-0 border-bottom-0 position-absolute pos-top pos-bottom">
						<div>
							<div
								class="height-4 width-3 h3 m-0 d-flex justify-content-center flex-column color-primary-500 pl-3 mt-2">
								<i class="fal fa-search"></i>
							</div>
							<input type="text" class="form-control bg-white" id="msgr_listfilter_input"
								placeholder="Filter contacts" aria-label="FriendSearch"
								data-listfilter="#js-msgr-listfilter">
						</div>
						<div class="flex-1 h-100 custom-scroll">
							<div class="w-100">
								<ul id="js-msgr-listfilter" class="list-unstyled m-0">
									<li><a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="tracey chang online">
											<div class="d-table-cell align-middle status status-success status-sm ">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image: url('img/demo/avatars/avatar-d.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													Tracey Chang <small class="d-block font-italic text-success fs-xs">
														Online </small>
												</div>
											</div>
										</a></li>
									<li><a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="oliver kopyuv online">
											<div class="d-table-cell align-middle status status-success status-sm ">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image: url('img/demo/avatars/avatar-b.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													Oliver Kopyuv <small class="d-block font-italic text-success fs-xs">
														Online </small>
												</div>
											</div>
										</a></li>
									<li><a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="dr john cook phd away">
											<div class="d-table-cell align-middle status status-warning status-sm ">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image: url('img/demo/avatars/avatar-e.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													Dr. John Cook PhD <small class="d-block font-italic fs-xs">
														Away </small>
												</div>
											</div>
										</a></li>
									<li><a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="ali amdaney online">
											<div class="d-table-cell align-middle status status-success status-sm ">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image: url('img/demo/avatars/avatar-g.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													Ali Amdaney <small class="d-block font-italic fs-xs text-success">
														Online </small>
												</div>
											</div>
										</a></li>
									<li><a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="sarah mcbrook online">
											<div class="d-table-cell align-middle status status-success status-sm">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image: url('img/demo/avatars/avatar-h.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													Sarah McBrook <small class="d-block font-italic fs-xs text-success">
														Online </small>
												</div>
											</div>
										</a></li>
									<li><a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="ali amdaney offline">
											<div class="d-table-cell align-middle status status-sm">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image: url('img/demo/avatars/avatar-a.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													oliver.kopyuv@gotbootstrap.com <small
														class="d-block font-italic fs-xs"> Offline </small>
												</div>
											</div>
										</a></li>
									<li><a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="ali amdaney busy">
											<div class="d-table-cell align-middle status status-danger status-sm">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image: url('img/demo/avatars/avatar-j.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													oliver.kopyuv@gotbootstrap.com <small
														class="d-block font-italic fs-xs text-danger">
														Busy </small>
												</div>
											</div>
										</a></li>
									<li><a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="ali amdaney offline">
											<div class="d-table-cell align-middle status status-sm">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image: url('img/demo/avatars/avatar-c.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													oliver.kopyuv@gotbootstrap.com <small
														class="d-block font-italic fs-xs"> Offline </small>
												</div>
											</div>
										</a></li>
									<li><a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="ali amdaney inactive">
											<div class="d-table-cell align-middle">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image: url('img/demo/avatars/avatar-m.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													+714651347790 <small class="d-block font-italic fs-xs opacity-50">
														Missed Call </small>
												</div>
											</div>
										</a></li>
								</ul>
								<div class="filter-message js-filter-message"></div>
							</div>
						</div>
						<div>
							<a class="fs-xl d-flex align-items-center p-3"> <i class="fal fa-cogs"></i>
							</a>
						</div>
					</div>
					<!-- END msgr-list -->
					<!-- BEGIN msgr -->
					<div class="msgr d-flex h-100 flex-column bg-white">
						<!-- BEGIN custom-scroll -->
						<div class="custom-scroll flex-1 h-100">
							<div id="chat_container" class="w-100 p-4">
								<!-- start .chat-segment -->
								<div class="chat-segment">
									<div class="time-stamp text-center mb-2 fw-400">Jun 19</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-sent">
									<div class="chat-message">
										<p>Hey Ching, did you get my files?</p>
									</div>
									<div class="text-right fw-300 text-muted mt-1 fs-xs">
										3:00 pm</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-get">
									<div class="chat-message">
										<p>Hi</p>
										<p>Sorry going through a busy time in office. Yes I
											analyzed the solution.</p>
										<p>It will require some resource, which I could not
											manage.</p>
									</div>
									<div class="fw-300 text-muted mt-1 fs-xs">3:24 pm</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-sent chat-start">
									<div class="chat-message">
										<p>Okay</p>
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-sent chat-end">
									<div class="chat-message">
										<p>Sending you some dough today, you can allocate the
											resources to this project.</p>
									</div>
									<div class="text-right fw-300 text-muted mt-1 fs-xs">
										3:26 pm</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-get chat-start">
									<div class="chat-message">
										<p>Perfect. Thanks a lot!</p>
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-get">
									<div class="chat-message">
										<p>I will have them ready by tonight.</p>
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-get chat-end">
									<div class="chat-message">
										<p>Cheers</p>
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment for timestamp -->
								<div class="chat-segment">
									<div class="time-stamp text-center mb-2 fw-400">Jun 20</div>
								</div>
								<!--  end .chat-segment for timestamp -->
							</div>
						</div>
						<!-- END custom-scroll  -->
						<!-- BEGIN msgr__chatinput -->
						<div class="d-flex flex-column">
							<div
								class="border-faded border-right-0 border-bottom-0 border-left-0 flex-1 mr-3 ml-3 position-relative shadow-top">
								<div class="pt-3 pb-1 pr-0 pl-0 rounded-0" tabindex="-1">
									<div id="msgr_input" contenteditable="true"
										data-placeholder="Type your message here..."
										class="height-10 form-content-editable"></div>
								</div>
							</div>
							<div class="height-8 px-3 d-flex flex-row align-items-center flex-wrap flex-shrink-0">
								<a href="javascript:void(0);" class="btn btn-icon fs-xl width-1 mr-1"
									data-toggle="tooltip" data-original-title="More options" data-placement="top"> <i
										class="fal fa-ellipsis-v-alt color-fusion-300"></i>
								</a> <a href="javascript:void(0);" class="btn btn-icon fs-xl mr-1" data-toggle="tooltip"
									data-original-title="Attach files" data-placement="top"> <i
										class="fal fa-paperclip color-fusion-300"></i>
								</a> <a href="javascript:void(0);" class="btn btn-icon fs-xl mr-1" data-toggle="tooltip"
									data-original-title="Insert photo" data-placement="top"> <i
										class="fal fa-camera color-fusion-300"></i>
								</a>
								<div class="ml-auto">
									<a href="javascript:void(0);" class="btn btn-info">Send</a>
								</div>
							</div>
						</div>
						<!-- END msgr__chatinput -->
					</div>
					<!-- END msgr -->
				</div>
			</div>
		</div>
	</div>
	<!-- END Messenger -->
	<!-- BEGIN Page Settings -->
	<div class="modal fade js-modal-settings modal-backdrop-transparent" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog modal-dialog-right modal-md">
			<div class="modal-content">
				<div class="dropdown-header bg-trans-gradient d-flex justify-content-center align-items-center w-100">
					<h4 class="m-0 text-center color-white">
						Layout Settings <small class="mb-0 opacity-80">User
							Interface Settings</small>
					</h4>
					<button type="button" class="close text-white position-absolute pos-top pos-right p-2 m-1 mr-2"
						data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true"><i class="fal fa-times"></i></span>
					</button>
				</div>
				<div class="modal-body p-0">
					<div class="settings-panel">
						<div class="mt-4 d-table w-100 px-5">
							<div class="d-table-cell align-middle">
								<h5 class="p-0">App Layout</h5>
							</div>
						</div>
						<div class="list" id="fh">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="header-function-fixed"></a> <span class="onoffswitch-title">Fixed
								Header</span> <span class="onoffswitch-title-desc">header is in a fixed at
								all times</span>
						</div>
						<div class="list" id="nff">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="nav-function-fixed"></a> <span class="onoffswitch-title">Fixed
								Navigation</span> <span class="onoffswitch-title-desc">left panel is fixed</span>
						</div>
						<div class="list" id="nfm">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="nav-function-minify"></a> <span class="onoffswitch-title">Minify
								Navigation</span> <span class="onoffswitch-title-desc">Skew nav to maximize
								space</span>
						</div>
						<div class="list" id="nfh">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="nav-function-hidden"></a> <span class="onoffswitch-title">Hide
								Navigation</span> <span class="onoffswitch-title-desc">roll mouse on edge to
								reveal</span>
						</div>
						<div class="list" id="nft">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="nav-function-top"></a> <span class="onoffswitch-title">Top Navigation</span>
							<span class="onoffswitch-title-desc">Relocate left pane to top</span>
						</div>
						<div class="list" id="mmb">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-main-boxed"></a> <span class="onoffswitch-title">Boxed Layout</span>
							<span class="onoffswitch-title-desc">Encapsulates to a
								container</span>
						</div>
						<div class="expanded">
							<ul class="">
								<li>
									<div class="bg-fusion-50" data-action="toggle" data-class="mod-bg-1"></div>
								</li>
								<li>
									<div class="bg-warning-200" data-action="toggle" data-class="mod-bg-2"></div>
								</li>
								<li>
									<div class="bg-primary-200" data-action="toggle" data-class="mod-bg-3"></div>
								</li>
								<li>
									<div class="bg-success-300" data-action="toggle" data-class="mod-bg-4"></div>
								</li>
							</ul>
							<div class="list" id="mbgf">
								<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
									data-class="mod-fixed-bg"></a> <span class="onoffswitch-title">Fixed
									Background</span>
							</div>
						</div>
						<!-- <div class="mt-4 d-table w-100 px-5">
                            <div class="d-table-cell align-middle">
                                <h5 class="p-0">
                                    Mobile Menu
                                </h5>
                            </div>
                        </div>
                        <div class="list" id="nmp">
                            <a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
                                data-class="nav-mobile-push"></a>
                            <span class="onoffswitch-title">Push Content</span>
                            <span class="onoffswitch-title-desc">Content pushed on menu reveal</span>
                        </div>
                        <div class="list" id="nmno">
                            <a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
                                data-class="nav-mobile-no-overlay"></a>
                            <span class="onoffswitch-title">No Overlay</span>
                            <span class="onoffswitch-title-desc">Removes mesh on menu reveal</span>
                        </div>
                        <div class="list" id="sldo">
                            <a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
                                data-class="nav-mobile-slide-out"></a>
                            <span class="onoffswitch-title">Off-Canvas <sup>(beta)</sup></span>
                            <span class="onoffswitch-title-desc">Content overlaps menu</span>
                        </div> -->
						<div class="mt-4 d-table w-100 px-5">
							<div class="d-table-cell align-middle">
								<h5 class="p-0">Accessibility</h5>
							</div>
						</div>
						<div class="list" id="mbf">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-bigger-font"></a> <span class="onoffswitch-title">Bigger Content
								Font</span> <span class="onoffswitch-title-desc">content fonts are bigger
								for readability</span>
						</div>
						<div class="list" id="mhc">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-high-contrast"></a> <span class="onoffswitch-title">High Contrast Text
								(WCAG 2 AA)</span>
							<span class="onoffswitch-title-desc">4.5:1 text contrast
								ratio</span>
						</div>
						<div class="list" id="mcb">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-color-blind"></a> <span class="onoffswitch-title">Daltonism
								<sup>(beta)</sup>
							</span> <span class="onoffswitch-title-desc">color vision
								deficiency</span>
						</div>
						<div class="list" id="mpc">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-pace-custom"></a> <span class="onoffswitch-title">Preloader
								Inside</span> <span class="onoffswitch-title-desc">preloader will be inside
								content</span>
						</div>
						<div class="mt-4 d-table w-100 px-5">
							<div class="d-table-cell align-middle">
								<h5 class="p-0">Global Modifications</h5>
							</div>
						</div>
						<div class="list" id="mcbg">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-clean-page-bg"></a> <span class="onoffswitch-title">Clean Page
								Background</span> <span class="onoffswitch-title-desc">adds more whitespace</span>
						</div>
						<div class="list" id="mhni">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-hide-nav-icons"></a> <span class="onoffswitch-title">Hide Navigation
								Icons</span> <span class="onoffswitch-title-desc">invisible navigation
								icons</span>
						</div>
						<div class="list" id="dan">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-disable-animation"></a> <span class="onoffswitch-title">Disable CSS
								Animation</span> <span class="onoffswitch-title-desc">Disables CSS based
								animations</span>
						</div>
						<div class="list" id="mhic">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-hide-info-card"></a> <span class="onoffswitch-title">Hide Info
								Card</span> <span class="onoffswitch-title-desc">Hides info card from left
								panel</span>
						</div>
						<div class="list" id="mlph">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-lean-subheader"></a> <span class="onoffswitch-title">Lean
								Subheader</span> <span class="onoffswitch-title-desc">distinguished page header</span>
						</div>
						<div class="list" id="mnl">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-nav-link"></a> <span class="onoffswitch-title">Hierarchical
								Navigation</span> <span class="onoffswitch-title-desc">Clear breakdown of nav
								links</span>
						</div>
						<div class="list mt-1">
							<span class="onoffswitch-title">Global Font Size <small>(RESETS
									ON REFRESH)</small>
							</span>
							<div class="btn-group btn-group-sm btn-group-toggle my-2" data-toggle="buttons">
								<label class="btn btn-default btn-sm" data-action="toggle-swap"
									data-class="root-text-sm" data-target="html"> <input type="radio"
										name="changeFrontSize"> SM </label> <label class="btn btn-default btn-sm"
									data-action="toggle-swap" data-class="root-text" data-target="html"> <input
										type="radio" name="changeFrontSize" checked=""> MD </label> <label
									class="btn btn-default btn-sm" data-action="toggle-swap" data-class="root-text-lg"
									data-target="html"> <input type="radio" name="changeFrontSize"> LG </label> <label
									class="btn btn-default btn-sm" data-action="toggle-swap" data-class="root-text-xl"
									data-target="html"> <input type="radio" name="changeFrontSize"> XL </label>
							</div>
							<span class="onoffswitch-title-desc d-block mb-g">Change
								<strong>root</strong> font size to effect rem values
							</span>
						</div>
						<div class="mt-2 d-table w-100 pl-5 pr-3">
							<div class="d-table-cell align-middle">
								<h5 class="p-0">
									Theme colors <small>(overlays base css)</small>
								</h5>
								<!-- <div class="fs-xs text-muted p-2 alert alert-warning mt-3 mb-0">
                                    <i class="fal fa-exclamation-triangle text-warning mr-2"></i>Due to network latency
                                    and CPU utilization, you may experience a brief flickering effect on page load which
                                    may show the intial applied theme for a split second. Setting the prefered
                                    style/theme in the header will prevent this from happening.
                                </div> -->
							</div>
						</div>
						<div class="expanded theme-colors pl-5 pr-3">
							<ul class="m-0">
								<li><a href="#" id="myapp-0" data-action="theme-update" data-themesave data-theme=""
										data-toggle="tooltip" data-placement="top" title="Wisteria (base css)"
										data-original-title="Wisteria (base css)"></a></li>
								<li><a href="#" id="myapp-1" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-1.css" data-toggle="tooltip"
										data-placement="top" title="Tapestry" data-original-title="Tapestry"></a></li>
								<li><a href="#" id="myapp-2" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-2.css" data-toggle="tooltip"
										data-placement="top" title="Atlantis" data-original-title="Atlantis"></a></li>
								<li><a href="#" id="myapp-3" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-3.css" data-toggle="tooltip"
										data-placement="top" title="Indigo" data-original-title="Indigo"></a></li>
								<li><a href="#" id="myapp-4" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-4.css" data-toggle="tooltip"
										data-placement="top" title="Dodger Blue" data-original-title="Dodger Blue"></a>
								</li>
								<li><a href="#" id="myapp-5" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-5.css" data-toggle="tooltip"
										data-placement="top" title="Tradewind" data-original-title="Tradewind"></a></li>
								<li><a href="#" id="myapp-6" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-6.css" data-toggle="tooltip"
										data-placement="top" title="Cranberry" data-original-title="Cranberry"></a></li>
								<li><a href="#" id="myapp-7" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-7.css" data-toggle="tooltip"
										data-placement="top" title="Oslo Gray" data-original-title="Oslo Gray"></a></li>
								<li><a href="#" id="myapp-8" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-8.css" data-toggle="tooltip"
										data-placement="top" title="Chetwode Blue"
										data-original-title="Chetwode Blue"></a></li>
								<li><a href="#" id="myapp-9" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-9.css" data-toggle="tooltip"
										data-placement="top" title="Apricot" data-original-title="Apricot"></a></li>
								<li><a href="#" id="myapp-10" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-10.css" data-toggle="tooltip"
										data-placement="top" title="Blue Smoke" data-original-title="Blue Smoke"></a>
								</li>
								<li><a href="#" id="myapp-11" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-11.css" data-toggle="tooltip"
										data-placement="top" title="Green Smoke" data-original-title="Green Smoke"></a>
								</li>
								<li><a href="#" id="myapp-12" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-12.css" data-toggle="tooltip"
										data-placement="top" title="Wild Blue Yonder"
										data-original-title="Wild Blue Yonder"></a></li>
								<li><a href="#" id="myapp-13" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-13.css" data-toggle="tooltip"
										data-placement="top" title="Emerald" data-original-title="Emerald"></a></li>
							</ul>
						</div>
						<hr class="mb-0 mt-4">
						<div class="pl-5 pr-3 py-3 bg-faded">
							<div class="row no-gutters">
								<div class="col-6 pr-1">
									<a href="#" class="btn btn-outline-danger fw-500 btn-block"
										data-action="app-reset">Reset Settings</a>
								</div>
								<div class="col-6 pl-1">
									<a href="#" class="btn btn-danger fw-500 btn-block"
										data-action="factory-reset">Factory Reset</a>
								</div>
							</div>
						</div>
					</div>
					<span id="saving"></span>
				</div>
			</div>
		</div>
	</div>
	<!-- END Page Settings -->

	<div th:replace="~{fragments/script :: script}"></div>
	<script>
		$(document).ready(function () {

			/*<![CDATA[*/
			var contextPath = /*[[@{/}]]*/ '';
			/*]]>*/

			// initialize datatable
			$('#usersetupdetails').dataTable({
				scrollCollapse: true,
				scrollY: '47vh',
				paging: false,
				responsive: true,
				searching: true,
				lengthChange: false,
				dom: '<"toolbar">frtip'

			});
			document.querySelector('div.toolbar').innerHTML = '<button type="button" data-val="a,b,c,d" class="word_btn btn btn-sm btn-primary waves-effect waves-themed">A→D</button> <button type="button" data-val="e,f,g,h" class="word_btn btn btn-sm btn-primary waves-effect waves-themed">E→H</button> <button type="button" data-val="i,j,k,l" class="word_btn btn btn-sm btn-primary waves-effect waves-themed">I→L</button> <button type="button" data-val="m,n,o,p" class="word_btn btn btn-sm btn-primary waves-effect waves-themed">M→P</button> <button type="button" data-val="q,r,s,t" class="word_btn btn btn-sm btn-primary waves-effect waves-themed">Q→T</button> <button type="button" data-val="u,v,w,x,y,z" class="word_btn btn btn-sm btn-primary waves-effect waves-themed">U→Z</button><br><br>';

			function buildTable() {
				$('#usersetupdetails').dataTable({
					scrollCollapse: true,
					scrollY: '47vh',
					paging: false,
					responsive: true,
					searching: true,
					lengthChange: false,
					dom: '<"toolbar">frtip'

				});
			}

			/*$('input[type="search"]').attr('id', 'mysrch');
			$('#mysrch').attr('type', 'text');

			$(document.body).on('keyup', '#mysrch', function (e) {
				if (e.which == 13) {
					var myval = $(this).val();
					var content = "";
					$('#myusers').html('<tr class="odd"><td valign="top" colspan="3" class="dataTables_empty">Data Loading...</td></tr>');
					$.ajax({
						type: "POST",
						url: contextPath + "getUserbyKey",
						dataType: "json",
						data: {key: myval},
						success: function (response) {
							if (response.length == 0) {
								$('#myusers').html('<tr class="odd"><td valign="top" colspan="3" class="dataTables_empty">No records to display</td></tr>');
								return;
							}

							for (var i = 0; i < response.length; i++) {
								console.log("here i is " + i);
								var cls = "";
								if (response[i]['USER_STATUS'] == 'A') {
									cls = "userlist color-success-400";
								} else {
									cls = "userlist color-danger-400";
								}
								content += "<tr id='" + response[i]['USER_NAME'] + "' class='" + cls + "'>";
								content += "<td>" + response[i]['USER_NAME'] + "</td>";
								content += "<td>" + response[i]['USER_FIRST_NAME'] + " " + response[i]['USER_LAST_NAME'] + "</td>";
								content += "<td>" + response[i]['JOB_TITLE'] + "</td>";
								content += "</tr>";
							}
							$('#myusers').html(content);
						},
						error: function () {
							alert("json not found");
						}
					});
				}
			});*/

			$(document.body).on('click', '.word_btn', function () {
				$('#mysrch').val('');
				var myval = $(this).attr('data-val');
				var content = "";
				$('#myusers').html('<tr class="odd"><td valign="top" colspan="3" class="dataTables_empty">Data Loading...</td></tr>');
				$.ajax({
					type: "POST",
					url: contextPath + "getUserbyName",
					dataType: "json",
					data: {word: myval},
					success: function (response) {
						if (response.length == 0) {
							$('#myusers').html('<tr class="odd"><td valign="top" colspan="3" class="dataTables_empty">No records to display</td></tr>');
							return;
						}

						for (var i = 0; i < response.length; i++) {
							console.log("here i is " + i);
							var cls = "";
							if (response[i]['USER_STATUS'] == 'A') {
								cls = "userlist color-success-400";
							} else {
								cls = "userlist color-danger-400";
							}
							content += "<tr id='" + response[i]['USER_NAME'] + "' class='" + cls + "'>";
							content += "<td>" + response[i]['USER_NAME'] + "</td>";
							content += "<td>" + response[i]['USER_FIRST_NAME'] + " " + response[i]['USER_LAST_NAME'] + "</td>";
							content += "<td>" + response[i]['JOB_TITLE'] + "</td>";
							content += "</tr>";
						}
						$('#myusers').html(content);
					},
					error: function () {
						alert("json not found");
					}
				});

			});

			$(document.body).on('click', '.userlist', function () {
				var ide = $(this).attr('id');

				$.ajax({
					type: "POST",
					url: contextPath + "getUsers",
					dataType: "json",
					data: {userid: ide},
					success: function (response) {
						$('#userName').val(response[0]['userName']);
						$('#userLName').val(response[0]['userLastName']);
						$('#userFName').val(response[0]['userFirstName']);
						$('#userMName').val(response[0]['userMidName']);
						$('#userSName').val(response[0]['userSuffixName']);

						if (response[0]['userStatus'] == 'A') {
							$('#customSwitch2').prop('checked', true);
							$('#customSwitchVal').val('A');
						} else {
							$('#customSwitch2').prop('checked', false);
							$('#customSwitchVal').val('I');
						}

						$('#userEmail').val(response[0]['userEmailAddress']);
						$('#userPhone').val(response[0]['userPhone1']);
						$('#userCaseload').val(response[0]['userCaseloadType']);
						$('#primaryInst').val(response[0]['primaryInstNum']);

						$('#userDistOff').val(response[0]['userDistrictOffice']);
						$('#userUnitNum').val(response[0]['userUnitNum']);

						$('#userTitle').val(response[0]['jobTitle']);
						$('#userParOfcrNum').val(response[0]['usersParOfcrNum']);
						$('#userPrimaryMenu').val(response[0]['userPrimaryMenu']);
						$('#userEmpId').val(response[0]['userEmployeeId']);

						$('#insdate').text(response[0]['insertedDateTime']);
						$('#insuserid').text(response[0]['insertedUserId']);
						$('#upddate').text(response[0]['updatedDateTime']);
						$('#upduserid').text(response[0]['updatedUserId']);

					},
					error: function () {
						alert("json not found");
					}
				});
			});

			/*$('#clr').on('click', function () {
				Swal.fire(
					'Good job!',
					'You clicked the button!',
					'warning'
				)
			});*/

			function getUsers() {
				$.ajax({
					type: "POST",
					url: contextPath + "getAllUsers",
					dataType: "json",
					data: [],
					success: function (response) {
						var content = "";
						for (var i = 0; i < response.length; i++) {
							if (response[i]['userStatus'] == 'A') {
								content += '<tr id="' + response[i]['userName'] + '" class="userlist color-success-400">';
							} else {
								content += '<tr id="' + response[i]['userName'] + '" class="userlist color-danger-400">';
							}

							content += '<td>' + response[i]['userName'] + '</td>';
							content += '<td>' + response[i]['userLastName'] + ' ' + response[i]['userFirstName'] + '</td>';

							content += '<td>' + response[i]['jobTitle'] + '</td>';
							content += '</tr>';
						}

						$('#myusers').html(content);
						//buildTable();

					},
					error: function () {
						alert("json not found");
					}
				});
			}
		});

		$(document).ready(function () {

			// initialize datatable
			$('#userInstitution').dataTable({
				scrollCollapse: true,
				scrollY: '27vh',
				responsive: false,
				lengthChange: false,
				searching: false,
				paging: false,
				info: false,

			});

		});
		$(document).ready(function () {

			// initialize datatable
			$('#userroledetails').dataTable({
				scrollCollapse: true,
				scrollY: '27vh',
				responsive: false,
				lengthChange: false,
				searching: false,
				paging: false,
				info: false,

			});

		});
	</script>

	<script>
		$(document)
			.ready(
				function () {
					$(function () {
						$('.select2').select2();

						$(".select2-placeholder-multiple").select2(
							{
								placeholder: "Select State"
							});
						$(".js-hide-search").select2({
							minimumResultsForSearch: 1 / 0
						});
						$(".js-max-length").select2({
							maximumSelectionLength: 2,
							placeholder: "Select maximum 2 items"
						});
						$(".select2-placeholder").select2({
							placeholder: "Select a state",
							allowClear: true
						});

						$(".js-select2-icons").select2({
							minimumResultsForSearch: 1 / 0,
							templateResult: icon,
							templateSelection: icon,
							escapeMarkup: function (elm) {
								return elm
							}
						});

						function icon(elm) {
							elm.element;
							return elm.id ? "<i class='"
								+ $(elm.element).data("icon")
								+ " mr-2'></i>" + elm.text
								: elm.text
						}

						$(".js-data-example-ajax")
							.select2(
								{
									ajax: {
										url: "https://api.github.com/search/repositories",
										dataType: 'json',
										delay: 250,
										data: function (
											params) {
											return {
												q: params.term, // search term
												page: params.page
											};
										},
										processResults: function (
											data,
											params) {
											// parse the results into the format expected by Select2
											// since we are using custom formatting functions we do not need to
											// alter the remote JSON data, except to indicate that infinite
											// scrolling can be used
											params.page = params.page || 1;

											return {
												results: data.items,
												pagination: {
													more: (params.page * 30) < data.total_count
												}
											};
										},
										cache: true
									},
									placeholder: 'Search for a repository',
									escapeMarkup: function (
										markup) {
										return markup;
									}, // let our custom formatter work
									minimumInputLength: 1,
									templateResult: formatRepo,
									templateSelection: formatRepoSelection
								});

						function formatRepo(repo) {
							if (repo.loading) {
								return repo.text;
							}

							var markup = "<div class='select2-result-repository clearfix d-flex'>"
								+ "<div class='select2-result-repository__avatar mr-2'><img src='" + repo.owner.avatar_url + "' class='width-2 height-2 mt-1 rounded' /></div>"
								+ "<div class='select2-result-repository__meta'>"
								+ "<div class='select2-result-repository__title fs-lg fw-500'>"
								+ repo.full_name + "</div>";

							if (repo.description) {
								markup += "<div class='select2-result-repository__description fs-xs opacity-80 mb-1'>"
									+ repo.description
									+ "</div>";
							}

							markup += "<div class='select2-result-repository__statistics d-flex fs-sm'>"
								+ "<div class='select2-result-repository__forks mr-2'><i class='fal fa-lightbulb'></i> "
								+ repo.forks_count
								+ " Forks</div>"
								+ "<div class='select2-result-repository__stargazers mr-2'><i class='fal fa-star'></i> "
								+ repo.stargazers_count
								+ " Stars</div>"
								+ "<div class='select2-result-repository__watchers mr-2'><i class='fal fa-eye'></i> "
								+ repo.watchers_count
								+ " Watchers</div>"
								+ "</div>"
								+ "</div></div>";

							return markup;
						}

						function formatRepoSelection(repo) {
							return repo.full_name || repo.text;
						}

					});
				});

		//Define Table
		var table_location = new Tabulator("#worklocation-table", {
			layout: "fitColumns",
			//data: tabledataworklocation,
			height: '270px',
			printAsHtml: true,
			printStyled: true,
			columns: [
				{
					title: "Location Name",
					field: "INST_NAME",
				},
				{
					title: "Access",
					field: "STATUS",
					formatter: (cell) => {
						const value = cell.getValue();
						var inst_num = cell.getRow().getData().INST_NUM;
						//alert(value);
						if (value == 'A') {
							return `
		                    <input type="checkbox" class="inst_sel" data-val="${inst_num}" checked/>
		                    <label>${value}</label>
		                `;
						} else {
							return `
		                    <input type="checkbox" class="inst_sel" data-val="${inst_num}"/>
		                    <label>${value}</label>
		                `;
						}

					},
					width: 100,
				},
				/*{
					title: "institute",
					field: "INST_NUM",
					visible: false,
				},*/
			]
		});

		//Define Table
		var table_role = new Tabulator("#userrole-table", {
			layout: "fitColumns",
			//data: tabledatauserrole,
			height: '270px',
			printAsHtml: true,
			printStyled: true,
			virtualDom: true,
			columns: [
				{
					title: "",
					field: "STATUS",
					formatter: (cell) => {
						const value = cell.getValue();
						var row_seq = cell.getRow().getData().ROLE_SEQ_NUM;
						//alert(value);
						if (value == 'A') {
							return `
		                    <input class="role_sel" type="checkbox" data-val="${row_seq}" checked/>
		                    <label>${value}</label>
		                `;
						} else {
							return `
		                    <input class="role_sel" type="checkbox" data-val="${row_seq}"/>
		                    <label>${value}</label>
		                `;
						}
					},
					width: 20,
				},
				{
					title: "Role#",
					field: "ROLE_SEQ_NUM",
					width: 70,
				},
				{
					title: "Role",
					field: "ROLE_NAME",
					width: 190,
				},
				{
					title: "Active date",
					field: "ROLE_ACTIVE_DATE",
					formatter: (cell) => {
						var value = cell.getValue();
						if (value != null && value != 'null' && value != '') {
							value = change_dt_ft(value);
						} else {
							value = '';
						}
						return `${value}`;
					}
				},
				{
					title: "End date",
					field: "ROLE_END_DATE",
					formatter: (cell) => {
						var value = cell.getValue();
						var row_sts = cell.getRow().getData().STATUS;
						if (value != null && value != 'null' && value != '' && row_sts != 'A') {
							value = change_dt_ft(value);
						} else {
							value = '';
						}
						return `${value}`;
					}
				},
			]
		});

		setTimeout(function () {
			table_location.setData("getUserLocation?user=''");
			table_role.setData("getUserRoles?user=''");
		}, 2000);

		function change_dt_ft(dt) {
			dt = dt.split("T")[0];
			var yr = dt.split("-")[0];
			var mn = dt.split("-")[1];
			var dat = dt.split("-")[2];

			return mn + "/" + dat + "/" + yr;
		}

		$(tabledataworklocation[0].checkbox).html("<input type='checkbox'>");
	</script>
	<script src="js/vendors.bundle.js"></script>
<script src="js/app.bundle.js"></script>
	<div th:replace="~{fragments/msgBox :: msgBox}"></div>
	<!--<script src="js/../script.js"></script>
	<script>
		$(document).ready(function () {
			
		});
	</script>-->
</body>

</html>