<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<meta charset="utf-8">
<title class="MovementsSidebar">IndividualOffenderMovement</title>
<div th:replace="~{fragments/head :: head}"></div>
<!-- <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="js/bootstrap.min.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>  -->

<body class="mod-bg-1 mod-nav-link">
<div th:replace="~{fragments/header :: header}"></div>
<div th:replace="~{fragments/navmenus :: navmenus}"></div>
	<!-- BEGIN Page Wrapper --> 
	<div class="page-wrapper">
		<div class="page-inner">
			<!-- BEGIN Left Aside -->
			<div th:replace="~{fragments/sidebar :: sidebar}"></div>
			<!-- END Left Aside --> 
			<div class="page-content-wrapper">
				<!-- BEGIN Page Header --> 
				
				<!-- END Page Header -->
				<!-- BEGIN Page Content -->
				<!-- the #js-page-content id is needed for some plugins to initialize -->
				<main id="js-page-content" role="main" class="page-content">
					<!-- <ol class="breadcrumb page-breadcrumb">
                            <li class="breadcrumb-item"><a href="javascript:void(0);">SmartAdmin</a></li>
                            <li class="breadcrumb-item">category_1</li>
                            <li class="breadcrumb-item">category_2</li>
                            <li class="breadcrumb-item active">Page Titile</li>
                            <li class="position-absolute pos-top pos-right d-none d-sm-block"><span class="js-get-date"></span></li>
                        </ol> -->
					<div class="subheader mb-1">
						<h1 class="subheader-title">
						<div th:replace="~{fragments/toggleMenu :: toggleMenu}"></div>
							<i class='subheader-icon fal fa-'></i> Individual Offender Movement - MOV_INOM </span> 
						</h1>
						<div class="frame-wrap bg-transparent">
							<div class="btn-group">
							<div class="col-12 pr-0">
                      <div class="js-get-date">[your date here]</div>
                              </div>
								<div class="mr-2">
									<div class="input-append date position-relative w-100">
										<span class="add-on"></span>
									</div>
								</div>
							</div>
							<a href="javascript:void(0);"
								class="btn btn-primary btn-sm btn-icon waves-effect waves-themed disabled"
								data-toggle="tooltip" data-placement="top" data-original-title="Add"> <i
									class="fal fa-plus"></i>
							</a> <a href="javascript:void(0);"
								class="btn btn-warning btn-sm btn-icon waves-effect waves-themed disabled"
								data-toggle="tooltip" data-placement="top" data-original-title="Print"> <i
									class="fal fa-print"></i>
							</a> <a href="javascript:void(0);"
								id="clear-button"
								class="btn btn-secondary btn-sm btn-icon waves-effect waves-themed"
								data-toggle="tooltip" data-placement="top" data-original-title="Clear"> <i
									class="fal fa-times"></i>
							</a> <a href="javascript:void(0);"
								id="save-button" class="btn btn-success btn-sm btn-icon waves-effect waves-themed" data-toggle="tooltip"
								data-placement="top" data-original-title="OK/Save"> <i class="fal fa-save"></i>
							</a> <a href="javascript:void(0);"
								class="btn btn-danger btn-sm btn-icon waves-effect waves-themed" data-toggle="tooltip"
								data-placement="top" data-original-title="Cancel/Exit"> <i class="fal fa-sign-out"></i>
							</a>
						</div>

					</div>

					<div class="row">
						<div class="col-lg-12">
							<div th:replace="~{fragments/formheader :: formheader}"></div>
							<h6 class="mx-0 mb-0 text-nowrap headerBlock text-center" style="font-weight: 600;">MOVEMENT DETAILS</h6>
							<div class="d-flex align-items-center my-2">
							    <label for="Security" class="form-label mr-3 mb-0 text-nowrap">Selected Offender</label>
							    <div class="custom-control custom-radio mr-2">
							        <input type="radio" class="custom-control-input" id="ArrivingRadio" name="selectedOffenderRadio" disabled>
							        <label class="custom-control-label" for="ArrivingRadio">Arriving</label>
							    </div>
							    <div class="custom-control custom-radio mr-2">
							        <input type="radio" class="custom-control-input" id="DepartingRadio" name="selectedOffenderRadio" disabled>
							        <label class="custom-control-label" for="DepartingRadio">Departing</label>
							    </div>
							</div>
							<div class="panel mb-2 panelContentBlock p-1">
								<div class="row">
									<div class="col-lg-3 pr-0 d-flex align-items-center">
										<label for="Security" class="form-label mr-1 mb-0 text-nowrap text-nowrap">Movement Type</label>
										<select id="movementType" class="custom-select form-control typecontact">
											<option>Other</option>
											<option>Housing</option>
											<option>Institutional Release</option>
										</select>
									</div>
									<div class="col-lg-2 pr-0 d-flex align-items-center">
										<label for="Security" class="form-label mr-1 mb-0 text-nowrap text-nowrap">Activity Type</label>
										<select class="custom-select form-control" id="activity-typeLov">
										</select>
									</div>
									<div class="col-lg-2 pr-0 d-flex align-items-center">
										<label for="Security" class="form-label mr-1 mb-0 text-nowrap text-nowrap">Departing From</label>
										<select id="departing-At" class="custom-select form-control typecontact" disabled>
											<option></option>
										</select>
									</div>
									<div class="col-lg-2 pr-0 d-flex align-items-center">
										<label for="Security" class="form-label mr-1 mb-0 text-nowrap text-nowrap">Arriving At</label>
										<select id="arriving-At" class="custom-select form-control typecontact">
											<option></option>
										</select>
									</div>
									<div class="col-lg-3 d-flex align-items-center">
										<div class="custom-control custom-checkbox custom-control-inline my-1 mr-2">
											<input type="checkbox" class="custom-control-input" id="ArrivedCheck">
											<label class="custom-control-label text-nowrap" for="ArrivedCheck">Arrived</label>
										</div>
										<label for="Security" class="form-label mr-1 mb-0 text-nowrap">Date Time of Move</label>
										<input type="text" class="form-control" aria-label="Security" placeholder="" id="dateTimeOfDep" value="" disabled>
									</div>
									<div class="col-lg-12 my-1">
										<textarea class="form-control" placeholder="Movement Comments" id="addComments" rows="2" name="Comments" aria-label="Comments" style="resize:none;" value=""></textarea>
									</div>
								</div>
							</div>
							<div class="d-flex justify-content-between">
								<h6 class="mx-0 mb-0 text-nowrap headerBlock text-center" style="font-weight: 600;">SCHEDULED ACTIVITIES IN NEXT 2 HOURS</h6>
							</div>	
							<div id="schedule-table"></div>	
							
							<!--<div id="table-container" class="mb-2">
								<div class="tableFixHead" style="max-height: 300px;border: 1px solid #7a59ad; overflow: hidden">
								 	<table id="scheduled-data" class="table table-striped table-bordered table-sm" style="margin-bottom:0">
										<thead>
											<tr>
												<th style="width: 140px;">Start Date</th>
												<th style="width: 150px;">Start Time</th>
												<th style="width: 140px;">End Date</th>
												<th style="width: 150px;">End Time</th>
												<th style="width: 200px;">Activity Type</th>
												<th style="width: 50px;">External</th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td style="width: 150px;" class="disabletd">
													<input type="text" class="form-control" aria-label="stay" name="stay" id="stay" value="">
												</td>
												<td style="width: 150px;" class="disabletd">
													<input type="text" class="form-control" aria-label="stay" name="stay" id="stay" value="">
												</td>
												<td style="width: 150px;" class="disabletd">
													<input type="text" class="form-control" aria-label="stay" name="stay" id="stay" value="">
												</td>
												<td style="width: 150px;" class="disabletd">
													<input type="text" class="form-control" aria-label="stay" name="stay" id="stay" value="">
												</td>
												<td class="disabletd">
													<input type="text" class="form-control" aria-label="stay" name="stay" id="stay" value="">
												</td>
												<td class="disabletd" style="width: 50px;">
													<div class="custom-control custom-checkbox custom-control-inline my-1 ml-1">
														<input type="checkbox" class="custom-control-input" id="wardenCheck">
														<label class="custom-control-label text-nowrap" for="wardenCheck"></label>
													</div>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>-->
							
							<h6 class="mx-0 mb-0 mt-2 text-nowrap headerBlock text-center" style="font-weight: 600;">SCHEDULED ACTIVITY DETAILS</h6>
							<div class="panel mb-2 panelContentBlock p-1">
								<div class="row">
									<div class="col-lg-12 d-flex align-items-center">
										<label for="Security" class="form-label mr-1 mb-0 text-nowrap">Description</label>
										<input type="text" class="form-control" aria-label="Security" placeholder="" name="Group" id="act-description" value="" disabled>
									</div>
									<div class="col-lg-3 pr-0 d-flex align-items-center mt-1">
										<label for="Security" class="form-label mr-1 mb-0 text-nowrap">Destination</label>
										<input type="text" class="form-control" aria-label="Security" placeholder="" name="Group" id="act-destination" value="" disabled>
									</div>
									<div class="col-lg-3 pr-0 d-flex align-items-center mt-1">
										<label for="Security" class="form-label mr-1 mb-0 text-nowrap">Transport Type</label>
										<input type="text" class="form-control" aria-label="Security" placeholder="" name="Group" id="transport-type" value="" disabled>
									</div>
									<div class="col-lg-3 pr-0 d-flex align-items-center mt-1">
										<label for="Security" class="form-label mr-1 mb-0 text-nowrap">Transport Detail</label>
										<input type="text" class="form-control" aria-label="Security" placeholder="" name="Group" id="transport-detail" value="" disabled>
									</div>
									<div class="col-lg-3 d-flex align-items-center mt-1">
										<label for="Security" class="form-label mr-1 mb-0 text-nowrap">Transport By</label>
										<input type="text" class="form-control" aria-label="Security" placeholder="" name="Group" id="transport-by" value="" disabled>
									</div>
								</div>
							</div>
							<div class="col-lg-12 d-flex justify-content-end">
								<button type="button" class="btn-primary btn btn-sm mr-2">Schedule</button>
							</div>
						</div>
					</div>
				</main>
				<!-- this overlay is activated only when mobile menu is triggered -->
				<div class="page-content-overlay" data-action="toggle" data-class="mobile-nav-on"></div>
				<!-- END Page Content -->
				<!-- BEGIN Page Footer -->
				<div th:replace="~{fragments/footer :: footer}"></div>
				<!-- END Page Footer -->
				<!-- Modal Large -->
				<div class="modal fade" id="default-example-modal-lg" tabindex="-1" role="dialog" aria-hidden="true">
					<div class="modal-dialog modal-lg" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title">Staff Name</h5>
								<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									<span aria-hidden="true"><i class="fal fa-times"></i></span>
								</button>
							</div>
							<div class="modal-body">
								<div class="form-group row">
									<label for="staffSearch"
										class="col-form-label col-12 col-lg-1 form-label">Search</label>
									<div class="col-12 col-lg-11">
										<input type="text" class="form-control" aria-label="staffSearch"
											name="staffSearch" id="staffSearch" value="">
									</div>

								</div>
								<div class="table-responsive-lg">
									<table class="table table-bordered m-0">
										<thead>
											<tr>
												<th>Last Name</th>
												<th>First Name</th>
												<th>MI</th>
												<th>Suffix</th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td>14</td>
												<td>Staff</td>
												<td></td>
												<td></td>
											</tr>
											<tr>
												<td>14</td>
												<td>Staff</td>
												<td></td>
												<td></td>
											</tr>
											<tr>
												<td>14</td>
												<td>Staff</td>
												<td></td>
												<td></td>
											</tr>
											<tr>
												<td>14</td>
												<td>Staff</td>
												<td></td>
												<td></td>
											</tr>
											<tr>
												<td>14</td>
												<td>Staff</td>
												<td></td>
												<td></td>
											</tr>

										</tbody>
									</table>
								</div>
							</div>

						</div>
					</div>
				</div>
				<!-- BEGIN Shortcuts -->
				<!-- modal shortcut -->
				<div class="modal fade modal-backdrop-transparent" id="modal-shortcut" tabindex="-1" role="dialog"
					aria-labelledby="modal-shortcut" aria-hidden="true">
					<div class="modal-dialog modal-dialog-top modal-transparent" role="document">
						<div class="modal-content">
							<div class="modal-body">
								<ul class="app-list w-auto h-auto p-0 text-left">
									<li>
										<a href="intel_introduction.html" class="app-list-item text-white border-0 m-0">
											<div class="icon-stack">
												<i class="base base-7 icon-stack-3x opacity-100 color-primary-500 "></i>
												<i class="base base-7 icon-stack-2x opacity-100 color-primary-300 "></i>
												<i class="fal fa-home icon-stack-1x opacity-100 color-white"></i>
											</div>
											<span class="app-list-name">
												Home
											</span>
										</a>
									</li>
									<li>
										<a href="page_inbox_general.html" class="app-list-item text-white border-0 m-0">
											<div class="icon-stack">
												<i class="base base-7 icon-stack-3x opacity-100 color-success-500 "></i>
												<i class="base base-7 icon-stack-2x opacity-100 color-success-300 "></i>
												<i class="ni ni-envelope icon-stack-1x text-white"></i>
											</div>
											<span class="app-list-name">
												Inbox
											</span>
										</a>
									</li>
									<li>
										<a href="intel_introduction.html" class="app-list-item text-white border-0 m-0">
											<div class="icon-stack">
												<i class="base base-7 icon-stack-2x opacity-100 color-primary-300 "></i>
												<i class="fal fa-plus icon-stack-1x opacity-100 color-white"></i>
											</div>
											<span class="app-list-name">
												Add More
											</span>
										</a>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div> <!-- END Shortcuts -->
			</div>
		</div>
	</div>
	<!-- END Page Wrapper -->
	<!-- BEGIN Quick Menu -->
	<!-- to add more items, please make sure to change the variable '$menu-items: number;' in your _page-components-shortcut.scss -->
	<nav class="shortcut-menu d-none d-sm-block">
		<input type="checkbox" class="menu-open" name="menu-open" id="menu-open" aria-label="menu-open" value="" />
		<label for="menu_open" class="menu-open-button ">
			<span class="app-shortcut-icon d-block"></span>
		</label>
		<a href="#" class="menu-item btn" data-toggle="tooltip" data-placement="left" title="Scroll Top">
			<i class="fal fa-arrow-up"></i>
		</a>
		<a href="page_login-alt.html" class="menu-item btn" data-toggle="tooltip" data-placement="left" title="Logout">
			<i class="fal fa-sign-out"></i>
		</a>
		<a href="#" class="menu-item btn" data-action="app-fullscreen" data-toggle="tooltip" data-placement="left"
			title="Full Screen">
			<i class="fal fa-expand"></i>
		</a>
		<a href="#" class="menu-item btn" data-action="app-print" data-toggle="tooltip" data-placement="left"
			title="Print page">
			<i class="fal fa-print"></i>
		</a>
		<a href="#" class="menu-item btn" data-action="app-voice" data-toggle="tooltip" data-placement="left"
			title="Voice command">
			<i class="fal fa-microphone"></i>
		</a>
	</nav>
	<!-- END Quick Menu -->
	<!-- BEGIN Messenger -->
	<div class="modal fade js-modal-messenger modal-backdrop-transparent" tabindex="-1" role="dialog"
		aria-hidden="true">
		<div class="modal-dialog modal-dialog-right">
			<div class="modal-content h-100">
				<div class="dropdown-header bg-trans-gradient d-flex align-items-center w-100">
					<div class="d-flex flex-row align-items-center mt-1 mb-1 color-white">
						<span class="mr-2">
							<span class="rounded-circle profile-image d-block"
								style="background-image:url('img/demo/avatars/avatar-d.png'); background-size: cover;"></span>
						</span>
						<div class="info-card-text">
							<a href="javascript:void(0);" class="fs-lg text-truncate text-truncate-lg text-white"
								data-toggle="dropdown" aria-expanded="false">
								Tracey Chang
								<i class="fal fa-angle-down d-inline-block ml-1 text-white fs-md"></i>
							</a>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="#">Send Email</a>
								<a class="dropdown-item" href="#">Create Appointment</a>
								<a class="dropdown-item" href="#">Block User</a>
							</div>
							<span class="text-truncate text-truncate-md opacity-80">IT Director</span>
						</div>
					</div>
					<button type="button" class="close text-white position-absolute pos-top pos-right p-2 m-1 mr-2"
						data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true"><i class="fal fa-times"></i></span>
					</button>
				</div>
				<div class="modal-body p-0 h-100 d-flex">
					<!-- BEGIN msgr-list -->
					<div
						class="msgr-list d-flex flex-column bg-faded border-faded border-top-0 border-right-0 border-bottom-0 position-absolute pos-top pos-bottom">
						<div>
							<div
								class="height-4 width-3 h3 m-0 d-flex justify-content-center flex-column color-primary-500 pl-3 mt-2">
								<i class="fal fa-search"></i>
							</div>
							<input type="text" class="form-control bg-white" id="msgr_listfilter_input"
								name="msgr_listfilter_input" placeholder="Filter contacts" aria-label="FilterSearch"
								value="" data-listfilter="#js-msgr-listfilter">
						</div>
						<div class="flex-1 h-100 custom-scroll">
							<div class="w-100">
								<ul id="js-msgr-listfilter" class="list-unstyled m-0">
									<li>
										<a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="tracey chang online">
											<div class="d-table-cell align-middle status status-success status-sm ">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image:url('img/demo/avatars/avatar-d.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													Tracey Chang
													<small class="d-block font-italic text-success fs-xs">
														Online
													</small>
												</div>
											</div>
										</a>
									</li>
									<li>
										<a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="oliver kopyuv online">
											<div class="d-table-cell align-middle status status-success status-sm ">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image:url('img/demo/avatars/avatar-b.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													Oliver Kopyuv
													<small class="d-block font-italic text-success fs-xs">
														Online
													</small>
												</div>
											</div>
										</a>
									</li>
									<li>
										<a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="dr john cook phd away">
											<div class="d-table-cell align-middle status status-warning status-sm ">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image:url('img/demo/avatars/avatar-e.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													Dr. John Cook PhD
													<small class="d-block font-italic fs-xs">
														Away
													</small>
												</div>
											</div>
										</a>
									</li>
									<li>
										<a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="ali amdaney online">
											<div class="d-table-cell align-middle status status-success status-sm ">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image:url('img/demo/avatars/avatar-g.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													Ali Amdaney
													<small class="d-block font-italic fs-xs text-success">
														Online
													</small>
												</div>
											</div>
										</a>
									</li>
									<li>
										<a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="sarah mcbrook online">
											<div class="d-table-cell align-middle status status-success status-sm">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image:url('img/demo/avatars/avatar-h.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													Sarah McBrook
													<small class="d-block font-italic fs-xs text-success">
														Online
													</small>
												</div>
											</div>
										</a>
									</li>
									<li>
										<a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="ali amdaney offline">
											<div class="d-table-cell align-middle status status-sm">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image:url('img/demo/avatars/avatar-a.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													oliver.kopyuv@gotbootstrap.com
													<small class="d-block font-italic fs-xs">
														Offline
													</small>
												</div>
											</div>
										</a>
									</li>
									<li>
										<a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="ali amdaney busy">
											<div class="d-table-cell align-middle status status-danger status-sm">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image:url('img/demo/avatars/avatar-j.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													oliver.kopyuv@gotbootstrap.com
													<small class="d-block font-italic fs-xs text-danger">
														Busy
													</small>
												</div>
											</div>
										</a>
									</li>
									<li>
										<a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="ali amdaney offline">
											<div class="d-table-cell align-middle status status-sm">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image:url('img/demo/avatars/avatar-c.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													oliver.kopyuv@gotbootstrap.com
													<small class="d-block font-italic fs-xs">
														Offline
													</small>
												</div>
											</div>
										</a>
									</li>
									<li>
										<a href="#" class="d-table w-100 px-2 py-2 text-dark hover-white"
											data-filter-tags="ali amdaney inactive">
											<div class="d-table-cell align-middle">
												<span class="profile-image-md rounded-circle d-block"
													style="background-image:url('img/demo/avatars/avatar-m.png'); background-size: cover;"></span>
											</div>
											<div class="d-table-cell w-100 align-middle pl-2 pr-2">
												<div class="text-truncate text-truncate-md">
													+714651347790
													<small class="d-block font-italic fs-xs opacity-50">
														Missed Call
													</small>
												</div>
											</div>
										</a>
									</li>
								</ul>
								<div class="filter-message js-filter-message"></div>
							</div>
						</div>
						<div>
							<a class="fs-xl d-flex align-items-center p-3">
								<i class="fal fa-cogs"></i>
							</a>
						</div>
					</div>
					<!-- END msgr-list -->
					<!-- BEGIN msgr -->
					<div class="msgr d-flex h-100 flex-column bg-white">
						<!-- BEGIN custom-scroll -->
						<div class="custom-scroll flex-1 h-100">
							<div id="chat_container" class="w-100 p-4">
								<!-- start .chat-segment -->
								<div class="chat-segment">
									<div class="time-stamp text-center mb-2 fw-400">
										Jun 19
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-sent">
									<div class="chat-message">
										<p>
											Hey Ching, did you get my files?
										</p>
									</div>
									<div class="text-right fw-300 text-muted mt-1 fs-xs">
										3:00 pm
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-get">
									<div class="chat-message">
										<p>
											Hi
										</p>
										<p>
											Sorry going through a busy time in office. Yes I analyzed the solution.
										</p>
										<p>
											It will require some resource, which I could not manage.
										</p>
									</div>
									<div class="fw-300 text-muted mt-1 fs-xs">
										3:24 pm
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-sent chat-start">
									<div class="chat-message">
										<p>
											Okay
										</p>
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-sent chat-end">
									<div class="chat-message">
										<p>
											Sending you some dough today, you can allocate the resources to this
											project.
										</p>
									</div>
									<div class="text-right fw-300 text-muted mt-1 fs-xs">
										3:26 pm
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-get chat-start">
									<div class="chat-message">
										<p>
											Perfect. Thanks a lot!
										</p>
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-get">
									<div class="chat-message">
										<p>
											I will have them ready by tonight.
										</p>
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment -->
								<div class="chat-segment chat-segment-get chat-end">
									<div class="chat-message">
										<p>
											Cheers
										</p>
									</div>
								</div>
								<!--  end .chat-segment -->
								<!-- start .chat-segment for timestamp -->
								<div class="chat-segment">
									<div class="time-stamp text-center mb-2 fw-400">
										Jun 20
									</div>
								</div>
								<!--  end .chat-segment for timestamp -->
							</div>
						</div>
						<!-- END custom-scroll  -->
						<!-- BEGIN msgr__chatinput -->
						<div class="d-flex flex-column">
							<div
								class="border-faded border-right-0 border-bottom-0 border-left-0 flex-1 mr-3 ml-3 position-relative shadow-top">
								<div class="pt-3 pb-1 pr-0 pl-0 rounded-0" tabindex="-1">
									<div id="msgr_input" contenteditable="true"
										data-placeholder="Type your message here..."
										class="height-10 form-content-editable"></div>
								</div>
							</div>
							<div class="height-8 px-3 d-flex flex-row align-items-center flex-wrap flex-shrink-0">
								<a href="javascript:void(0);" class="btn btn-icon fs-xl width-1 mr-1"
									data-toggle="tooltip" data-original-title="More options" data-placement="top">
									<i class="fal fa-ellipsis-v-alt color-fusion-300"></i>
								</a>
								<a href="javascript:void(0);" class="btn btn-icon fs-xl mr-1" data-toggle="tooltip"
									data-original-title="Attach files" data-placement="top">
									<i class="fal fa-paperclip color-fusion-300"></i>
								</a>
								<a href="javascript:void(0);" class="btn btn-icon fs-xl mr-1" data-toggle="tooltip"
									data-original-title="Insert photo" data-placement="top">
									<i class="fal fa-camera color-fusion-300"></i>
								</a>
								<div class="ml-auto">
									<a href="javascript:void(0);" class="btn btn-info">Send</a>
								</div>
							</div>
						</div>
						<!-- END msgr__chatinput -->
					</div>
					<!-- END msgr -->
				</div>
			</div>
		</div>
	</div>
	<!-- END Messenger -->
	<!-- BEGIN Page Settings -->
	<div class="modal fade js-modal-settings modal-backdrop-transparent" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog modal-dialog-right modal-md">
			<div class="modal-content">
				<div class="dropdown-header bg-trans-gradient d-flex justify-content-center align-items-center w-100">
					<h4 class="m-0 text-center color-white">
						Layout Settings
						<small class="mb-0 opacity-80">User Interface Settings</small>
					</h4>
					<button type="button" class="close text-white position-absolute pos-top pos-right p-2 m-1 mr-2"
						data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true"><i class="fal fa-times"></i></span>
					</button>
				</div>
				<div class="modal-body p-0">
					<div class="settings-panel">
						<div class="mt-4 d-table w-100 px-5">
							<div class="d-table-cell align-middle">
								<h5 class="p-0">
									App Layout
								</h5>
							</div>
						</div>
						<div class="list" id="fh">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="header-function-fixed"></a>
							<span class="onoffswitch-title">Fixed Header</span>
							<span class="onoffswitch-title-desc">header is in a fixed at all times</span>
						</div>
						<div class="list" id="nff">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="nav-function-fixed"></a>
							<span class="onoffswitch-title">Fixed Navigation</span>
							<span class="onoffswitch-title-desc">left panel is fixed</span>
						</div>
						<div class="list" id="nfm">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="nav-function-minify"></a>
							<span class="onoffswitch-title">Minify Navigation</span>
							<span class="onoffswitch-title-desc">Skew nav to maximize space</span>
						</div>
						<div class="list" id="nfh">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="nav-function-hidden"></a>
							<span class="onoffswitch-title">Hide Navigation</span>
							<span class="onoffswitch-title-desc">roll mouse on edge to reveal</span>
						</div>
						<div class="list" id="nft">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="nav-function-top"></a>
							<span class="onoffswitch-title">Top Navigation</span>
							<span class="onoffswitch-title-desc">Relocate left pane to top</span>
						</div>
						<div class="list" id="mmb">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-main-boxed"></a>
							<span class="onoffswitch-title">Boxed Layout</span>
							<span class="onoffswitch-title-desc">Encapsulates to a container</span>
						</div>
						<div class="expanded">
							<ul class="">
								<li>
									<div class="bg-fusion-50" data-action="toggle" data-class="mod-bg-1"></div>
								</li>
								<li>
									<div class="bg-warning-200" data-action="toggle" data-class="mod-bg-2"></div>
								</li>
								<li>
									<div class="bg-primary-200" data-action="toggle" data-class="mod-bg-3"></div>
								</li>
								<li>
									<div class="bg-success-300" data-action="toggle" data-class="mod-bg-4"></div>
								</li>
							</ul>
							<div class="list" id="mbgf">
								<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
									data-class="mod-fixed-bg"></a>
								<span class="onoffswitch-title">Fixed Background</span>
							</div>
						</div>
						<!-- <div class="mt-4 d-table w-100 px-5">
                            <div class="d-table-cell align-middle">
                                <h5 class="p-0">
                                    Mobile Menu
                                </h5>
                            </div>
                        </div>
                        <div class="list" id="nmp">
                            <a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
                                data-class="nav-mobile-push"></a>
                            <span class="onoffswitch-title">Push Content</span>
                            <span class="onoffswitch-title-desc">Content pushed on menu reveal</span>
                        </div>
                        <div class="list" id="nmno">
                            <a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
                                data-class="nav-mobile-no-overlay"></a>
                            <span class="onoffswitch-title">No Overlay</span>
                            <span class="onoffswitch-title-desc">Removes mesh on menu reveal</span>
                        </div>
                        <div class="list" id="sldo">
                            <a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
                                data-class="nav-mobile-slide-out"></a>
                            <span class="onoffswitch-title">Off-Canvas <sup>(beta)</sup></span>
                            <span class="onoffswitch-title-desc">Content overlaps menu</span>
                        </div> -->
						<div class="mt-4 d-table w-100 px-5">
							<div class="d-table-cell align-middle">
								<h5 class="p-0">
									Accessibility
								</h5>
							</div>
						</div>
						<div class="list" id="mbf">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-bigger-font"></a>
							<span class="onoffswitch-title">Bigger Content Font</span>
							<span class="onoffswitch-title-desc">content fonts are bigger for readability</span>
						</div>
						<div class="list" id="mhc">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-high-contrast"></a>
							<span class="onoffswitch-title">High Contrast Text (WCAG 2 AA)</span>
							<span class="onoffswitch-title-desc">4.5:1 text contrast ratio</span>
						</div>
						<div class="list" id="mcb">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-color-blind"></a>
							<span class="onoffswitch-title">Daltonism <sup>(beta)</sup> </span>
							<span class="onoffswitch-title-desc">color vision deficiency</span>
						</div>
						<div class="list" id="mpc">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-pace-custom"></a>
							<span class="onoffswitch-title">Preloader Inside</span>
							<span class="onoffswitch-title-desc">preloader will be inside content</span>
						</div>
						<div class="mt-4 d-table w-100 px-5">
							<div class="d-table-cell align-middle">
								<h5 class="p-0">
									Global Modifications
								</h5>
							</div>
						</div>
						<div class="list" id="mcbg">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-clean-page-bg"></a>
							<span class="onoffswitch-title">Clean Page Background</span>
							<span class="onoffswitch-title-desc">adds more whitespace</span>
						</div>
						<div class="list" id="mhni">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-hide-nav-icons"></a>
							<span class="onoffswitch-title">Hide Navigation Icons</span>
							<span class="onoffswitch-title-desc">invisible navigation icons</span>
						</div>
						<div class="list" id="dan">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-disable-animation"></a>
							<span class="onoffswitch-title">Disable CSS Animation</span>
							<span class="onoffswitch-title-desc">Disables CSS based animations</span>
						</div>
						<div class="list" id="mhic">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-hide-info-card"></a>
							<span class="onoffswitch-title">Hide Info Card</span>
							<span class="onoffswitch-title-desc">Hides info card from left panel</span>
						</div>
						<div class="list" id="mlph">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-lean-subheader"></a>
							<span class="onoffswitch-title">Lean Subheader</span>
							<span class="onoffswitch-title-desc">distinguished page header</span>
						</div>
						<div class="list" id="mnl">
							<a href="#" onclick="return false;" class="btn btn-switch" data-action="toggle"
								data-class="mod-nav-link"></a>
							<span class="onoffswitch-title">Hierarchical Navigation</span>
							<span class="onoffswitch-title-desc">Clear breakdown of nav links</span>
						</div>
						<div class="list mt-1">
							<span class="onoffswitch-title">Global Font Size <small>(RESETS ON REFRESH)</small> </span>
							<div class="btn-group btn-group-sm btn-group-toggle my-2" data-toggle="buttons">
								<label for="smRadio" class="btn btn-default btn-sm" data-action="toggle-swap"
									data-class="root-text-sm" data-target="html">
									<input type="radio" aria-label="smRadio" name="smRadio" id="smRadio" value=""> SM
								</label>
								<label for="mdRadio" class="btn btn-default btn-sm" data-action="toggle-swap"
									data-class="root-text" data-target="html">
									<input type="radio" aria-label="mdRadio" name="mdRadio" id="mdRadio" value=""
										checked=""> MD
								</label>
								<label for="lgRadio" class="btn btn-default btn-sm" data-action="toggle-swap"
									data-class="root-text-lg" data-target="html">
									<input type="radio" aria-label="lgRadio" name="lgRadio" id="lgRadio" value=""> LG
								</label>
								<label for="xlRadio" class="btn btn-default btn-sm" data-action="toggle-swap"
									data-class="root-text-xl" data-target="html">
									<input type="radio" aria-label="xlRadio" name="xlRadio" id="xlRadio" value=""> XL
								</label>
							</div>
							<span class="onoffswitch-title-desc d-block mb-g">Change <strong>root</strong> font size to
								effect rem values</span>
						</div>
						<div class="mt-2 d-table w-100 pl-5 pr-3">
							<div class="d-table-cell align-middle">
								<h5 class="p-0">
									Theme colors <small>(overlays base css)</small>
								</h5>
								<!-- <div class="fs-xs text-muted p-2 alert alert-warning mt-3 mb-0">
                                    <i class="fal fa-exclamation-triangle text-warning mr-2"></i>Due to network latency
                                    and CPU utilization, you may experience a brief flickering effect on page load which
                                    may show the intial applied theme for a split second. Setting the prefered
                                    style/theme in the header will prevent this from happening.
                                </div> -->
							</div>
						</div>
						<div class="expanded theme-colors pl-5 pr-3">
							<ul class="m-0">
								<li><a href="#" id="myapp-0" data-action="theme-update" data-themesave data-theme=""
										data-toggle="tooltip" data-placement="top" title="Wisteria (base css)"
										data-original-title="Wisteria (base css)"></a></li>
								<li><a href="#" id="myapp-1" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-1.css" data-toggle="tooltip"
										data-placement="top" title="Tapestry" data-original-title="Tapestry"></a></li>
								<li><a href="#" id="myapp-2" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-2.css" data-toggle="tooltip"
										data-placement="top" title="Atlantis" data-original-title="Atlantis"></a></li>
								<li><a href="#" id="myapp-3" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-3.css" data-toggle="tooltip"
										data-placement="top" title="Indigo" data-original-title="Indigo"></a></li>
								<li><a href="#" id="myapp-4" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-4.css" data-toggle="tooltip"
										data-placement="top" title="Dodger Blue" data-original-title="Dodger Blue"></a>
								</li>
								<li><a href="#" id="myapp-5" data-action="theme-update" data-themesave 
										data-theme="css/themes/cust-theme-5.css" data-toggle="tooltip"
										data-placement="top" title="Tradewind" data-original-title="Tradewind"></a></li>
								<li><a href="#" id="myapp-6" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-6.css" data-toggle="tooltip"
										data-placement="top" title="Cranberry" data-original-title="Cranberry"></a></li>
								<li><a href="#" id="myapp-7" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-7.css" data-toggle="tooltip"
										data-placement="top" title="Oslo Gray" data-original-title="Oslo Gray"></a></li>
								<li><a href="#" id="myapp-8" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-8.css" data-toggle="tooltip"
										data-placement="top" title="Chetwode Blue"
										data-original-title="Chetwode Blue"></a></li>
								<li><a href="#" id="myapp-9" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-9.css" data-toggle="tooltip"
										data-placement="top" title="Apricot" data-original-title="Apricot"></a></li>
								<li><a href="#" id="myapp-10" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-10.css" data-toggle="tooltip"
										data-placement="top" title="Blue Smoke" data-original-title="Blue Smoke"></a>
								</li>
								<li><a href="#" id="myapp-11" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-11.css" data-toggle="tooltip"
										data-placement="top" title="Green Smoke" data-original-title="Green Smoke"></a>
								</li>
								<li><a href="#" id="myapp-12" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-12.css" data-toggle="tooltip"
										data-placement="top" title="Wild Blue Yonder"
										data-original-title="Wild Blue Yonder"></a></li>
								<li><a href="#" id="myapp-13" data-action="theme-update" data-themesave
										data-theme="css/themes/cust-theme-13.css" data-toggle="tooltip"
										data-placement="top" title="Emerald" data-original-title="Emerald"></a></li>
							</ul>
						</div>
						<hr class="mb-0 mt-4">
						<div class="pl-5 pr-3 py-3 bg-faded">
							<div class="row no-gutters">
								<div class="col-6 pr-1">
									<a href="#" class="btn btn-outline-danger fw-500 btn-block"
										data-action="app-reset">Reset Settings</a>
								</div>
								<div class="col-6 pl-1">
									<a href="#" class="btn btn-danger fw-500 btn-block"
										data-action="factory-reset">Factory Reset</a>
								</div>
							</div>
						</div>
					</div>
					<span id="saving"></span>
				</div>
			</div>
		</div>
	</div>
	<!-- END Page Settings -->
	
	<style>
		label{
			font-weight: 500;
		}
		.checkboxBlock .custom-checkbox{
			width: 70px;
		}
		.levelStatusCheckbox .custom-checkbox{
			width: 95px;
		}
		.dataTables_info{
			position: absolute;
		}
		.panelContentBlock{
			border: 1px solid #7a58ac;	
			border-radius: 5px!important;
		}
		select option:disabled {
		    background-color: #f0f0f0; 
		    color: #888; 
		}
		select option {
		    background-color: #fff;
		    color: #000; 
		}
		#departing-At,
		#arriving-At {
		    font-size: 11px; 
		}
		
	</style>

	<div th:replace="~{fragments/script :: script}"></div>
	<script src="js/staticjs.js"></script>
	<script>
		$(document).ready(function () {
			$(function () {
				$('.select2').select2();

				$(".select2-placeholder-multiple").select2(
					{
						placeholder: "Select State"
					});
				$(".js-hide-search").select2(
					{
						minimumResultsForSearch: 1 / 0
					});
				$(".js-max-length").select2(
					{
						maximumSelectionLength: 2,
						placeholder: "Select maximum 2 items"
					});
				$(".select2-placeholder").select2(
					{
						placeholder: "Select a state",
						allowClear: true
					});



				$(".js-select2-icons").select2(
					{
						minimumResultsForSearch: 1 / 0,
						templateResult: icon,
						templateSelection: icon,
						escapeMarkup: function (elm) {
							return elm
						}
					});

				function icon(elm) {
					elm.element;
					return elm.id ? "<i class='" + $(elm.element).data("icon") + " mr-2'></i>" + elm.text : elm.text
				}

				$(".js-data-example-ajax").select2(
					{
						ajax:
						{
							url: "https://api.github.com/search/repositories",
							dataType: 'json',
							delay: 250,
							data: function (params) {
								return {
									q: params.term, // search term
									page: params.page
								};
							},
							processResults: function (data, params) {
								// parse the results into the format expected by Select2
								// since we are using custom formatting functions we do not need to
								// alter the remote JSON data, except to indicate that infinite
								// scrolling can be used
								params.page = params.page || 1;

								return {
									results: data.items,
									pagination:
									{
										more: (params.page * 30) < data.total_count
									}
								};
							},
							cache: true
						},
						placeholder: 'Search for a repository',
						escapeMarkup: function (markup) {
							return markup;
						}, // let our custom formatter work
						minimumInputLength: 1,
						templateResult: formatRepo,
						templateSelection: formatRepoSelection
					});

				function formatRepo(repo) {
					if (repo.loading) {
						return repo.text;
					}

					var markup = "<div class='select2-result-repository clearfix d-flex'>" +
						"<div class='select2-result-repository__avatar mr-2'><img src='" + repo.owner.avatar_url + "' class='width-2 height-2 mt-1 rounded' /></div>" +
						"<div class='select2-result-repository__meta'>" +
						"<div class='select2-result-repository__title fs-lg fw-500'>" + repo.full_name + "</div>";

					if (repo.description) {
						markup += "<div class='select2-result-repository__description fs-xs opacity-80 mb-1'>" + repo.description + "</div>";
					}

					markup += "<div class='select2-result-repository__statistics d-flex fs-sm'>" +
						"<div class='select2-result-repository__forks mr-2'><i class='fal fa-lightbulb'></i> " + repo.forks_count + " Forks</div>" +
						"<div class='select2-result-repository__stargazers mr-2'><i class='fal fa-star'></i> " + repo.stargazers_count + " Stars</div>" +
						"<div class='select2-result-repository__watchers mr-2'><i class='fal fa-eye'></i> " + repo.watchers_count + " Watchers</div>" +
						"</div>" +
						"</div></div>";

					return markup;
				}

				function formatRepoSelection(repo) {
					return repo.full_name || repo.text;
				}

			});
		});
		
		$(document).ready(function() {
			disableAllFields();
			
			//Setting up a trigger to check if the header is populated
			$(document).ajaxComplete(function(event, jqxhr, settings) {
			    if (settings.url.includes('checkSbiNoAndLocation')) {
			        if (jqxhr.status === 200) {
			            $(document).trigger('apiCallSuccess');
			        } else {
			            $(document).trigger('apiCallFailure');
			        }
			    }
			});
			
			$(document).on('apiCallSuccess', function() {				
				var sbiNumber = $('#sbiNumberInput').val();
				getOffenderMovDetail(sbiNumber);
				
				enableAllFields();
				
				// initialize datatable
				var table = $('#scheduled-data').DataTable({
				    scrollY: "555px",
				    scrollCollapse: true,
				    paging: false,
				    searching: false,
				    ordering: false,
				    info: false,
				    language: {
				        emptyTable: "Click here to view scheduled activity for this offender" // Initial message
				    },
				    columns: [
				        { title: "Start Date" },
				        { title: "Start Time" },
				        { title: "End Date" },
				        { title: "End Time" },
				        { title: "Activity Type" },
				        { title: "External", orderable: false, searchable: false }
				    ]
				});
				
				// Function to populate the DataTable with scheduled activities
			/*	function populateScheduledActivityTable(data) {
				    var scheduledActivities = data.scheduledActivity; // Extract the scheduledActivity array
				    if (scheduledActivities && scheduledActivities.length) {
				        var formattedData = scheduledActivities.map(function(activity) {
				            var startDate = activity.activityStartDate ? activity.activityStartDate.split('T')[0] : '';
				            var startTime = activity.activityStartTime || '';
				            var endDate = activity.activityEndDate ? activity.activityEndDate.split('T')[0] : '';
				            var endTime = activity.activityEndTime || '';
				            var activityType = activity.activityTypeDesc || '';
				            var external = activity.externalFlag === 'E' 
				                ? '<input type="checkbox" disabled checked>' 
				                : '<input type="checkbox" disabled>';
				            
				            //Fields of scheduled activity details html
				            $('#act-description').val(activity.activityDesc || ''); // Description
					        $('#act-destination').val(activity.destination || ''); // Destination
					        $('#transport-type').val(activity.transportType || ''); // Transport Type
					        $('#transport-detail').val(activity.transportDetail || ''); // Transport Detail
					        $('#transport-by').val(activity.transportBy || ''); // Transport By
				
				            return [
				                startDate, 
				                startTime, 
				                endDate, 
				                endTime, 
				                activityType, 
				                external
				            ];
				        });
				
				        table.clear().rows.add(formattedData).draw();
				    } else {
				        table.settings()[0].oLanguage.sEmptyTable = "This Offender has no scheduled activity";
				        table.clear().draw();
				    }
				}*/
				
				// Event listener for DataTable click
				$('#scheduled-data tbody').on('click', function() {
				    var sbiNumber = $('#sbiNumberInput').val();
				    if (sbiNumber != null && sbiNumber !== '') {
				        if (!table.data().any()) {
				            table.settings()[0].oLanguage.sEmptyTable = '<div class="spinner-border text-primary" role="status"><span class="sr-only">Loading...</span></div>';
				            table.clear().draw();
				
				            $.ajax({
				                url: contextPath + 'ScheduledActivities',
				                method: 'POST',
				                contentType: 'application/json',
				                data: sbiNumber,
				                success: function(data) {
				                    populateScheduledActivityTable(data); 
				                },
				                error: function() {
				                    table.settings()[0].oLanguage.sEmptyTable = "Error fetching data. Try again later.";
				                    table.clear().draw();
				                }
				            });
				        }
				    }
				});
			    
				var isSaving = false;
				
				$('#save-button').on('click', function() {
				    if (isSaving) return;
				
				    isSaving = true;
				    
				    $('#save-button').prop('disabled', true);
				
				    var movement = mapMovementVal($('#movementType').val());
				    var departing = $('#departing-At').val();
				    var arriving = $('#arriving-At').val();
				    var activity = $('#activity-typeLov').val();
				    var comments = $('#addComments').val();
				    var arrivedCheck = $('#ArrivedCheck').prop('checked') ? 'Y' : 'N'; 
				    
				    var offenderDetail = {};
				
				    if (inmateCommitNo != null && inmateInstNum != null) {    
				        offenderDetail = {
				            commitNo: inmateCommitNo,
				            instNum: inmateInstNum,
				            rgHousRelationship: movement,
				            countLocCodeFrom: departing,
				            countLocCodeTo: arriving,
				            activityTypeCode: activity,
				            dateTimeOfDep: departureDate,
				            dateTimeOfArr: arrivalDate,
				            comments: comments,
				            arrivedCheck: arrivedCheck
				        };
				    }
				    
				    if (inmateCommitNo == null && inmateInstNum == null) {
				        var sbiNumber = $('#sbiNumberInput').val();
				        
				        offenderDetail = {
				            sbiNumber: sbiNumber,
				            commitNo: inmateCommitNo,
				            instNum: inmateInstNum,
				            rgHousRelationship: movement,
				            countLocCodeFrom: departing,
				            countLocCodeTo: arriving,
				            activityTypeCode: activity,
				            dateTimeOfDep: departureDate,
				            dateTimeOfArr: arrivalDate,
				            comments: comments,
				            arrivedCheck: arrivedCheck
				        };
				    }
				    
				    saveIndOffMov(offenderDetail);
				});
				
				// Function to save movement data
				function saveIndOffMov(Params) {
				    $.ajax({
				        method: "POST",
				        url: contextPath + 'SaveIndOffMov',
				        contentType: 'application/json',
				        data: JSON.stringify(Params),
				        success: function(response) {
				            Swal.fire('Success', 'Data saved successfully', 'success');
				            var sbiNumber = $('#sbiNumberInput').val();
				            getOffenderMovDetail(sbiNumber);
				        },
				        error: function(error) {
				            console.error('Error:', error);
				            Swal.fire('Error', 'Error saving data', 'warning');
				        },
				        complete: function() {
				            $('#save-button').prop('disabled', false);
				            isSaving = false;
				        }
				    });
				}
			});
			
			$(document).on('apiCallFailure', function() {
				disableAllFields();
			});
			
			function disableAllFields() {
			    const fields = document.querySelectorAll('#save-button, #arriving-At, #activity-typeLov, #addComments, #ArrivedCheck');
			    fields.forEach(field => {
			        field.disabled = true;
			    });
			}
			
			// Enable fields
			function enableAllFields() {
			    const fields = document.querySelectorAll('#save-button, #arriving-At, #activity-typeLov, #addComments, #ArrivedCheck');
			    fields.forEach(field => {
			        field.disabled = false;
			    });
			}
					
			//Get Activity Lov
			getActivityTypeLov('A');
			
			var instNum = '1'; //Has no value in making the ajax call.
		    
		    //Get Location Lov
		    getArrivingAndDepart();
						
			// Function to retrieve HousingEntityWaitlist data
			function getActivityTypeLov(active) {
			    $.ajax({
			        method: "POST",
			        url: contextPath + 'getActivityType',
			        contentType: 'application/json',
			        data: active,
			        success: function(response) {
						populateDropdown(response,$('#activity-typeLov'));
			        },
			        error: function(error) {
			            console.error('Error:', error);
			            console.log(error.responseText);
			        }
			    });
			}
			
			// Function to retrieve HousingEntityWaitlist data
			function getArrivingAndDepart() {
			    $.ajax({
			        method: "POST",
			        url: contextPath + 'getArrivingAndDepart',
			        contentType: 'application/json',
			        data: instNum,
			        success: function(response) {
						populateDropdown(response,$('#arriving-At'));
						populateDropdown(response,$('#departing-At'));
						updateOptions();
			        },
			        error: function(error) {
			            console.error('Error:', error);
			            console.log(error.responseText);
			        }
			    });
			}
			
			//Static functions to populate dropdown
			function populateDropdown(data, $dropdown) {
			    $dropdown.empty(); 
			    $dropdown.append('<option value=""></option>'); 
			
			    $.each(data, function(index, item) {
			        var $option = $('<option></option>').attr('value', item[0]).text(item[1]);
			        
			        if (item.length > 2 && item[2] !== undefined) {
			            $option.attr('data-additional-info', item[2]);
			        }
			        
			        $dropdown.append($option);
			    });
			}
			
			function updateOptions() {
			    const movementType = $('#movementType').val();

			    const defaultOptionArriving = $('#arriving-At option:first');

			    $('#arriving-At option').each(function() {
			        $(this).prop('disabled', false);
			    });

			    if (movementType === 'Other') {
			        $('#arriving-At option').each(function() {
			            const additionalInfo = $(this).data('additional-info');
			            if (additionalInfo !== 'A' && additionalInfo !== 'O') {
			                $(this).prop('disabled', true);
			            }
			        });
			    } else if (movementType === 'Housing') {
			        $('#arriving-At option').each(function() {
			            const additionalInfo = $(this).data('additional-info');
			            if (additionalInfo !== 'H') {
			                $(this).prop('disabled', true);
			            }
			        });
			    } else if (movementType === 'Institutional Release') {
			        $('#arriving-At option').each(function() {
			            const additionalInfo = $(this).data('additional-info');
			            if (additionalInfo !== 'O') {
			                $(this).prop('disabled', true);
			            }
			        });
			    }

			    if ($('#arriving-At').find(':selected').prop('disabled')) {
			        $('#arriving-At').val(defaultOptionArriving.val());
			    }
			
			    $('#arriving-At').each(function() {
			        $(this).css('display', 'none').css('display', 'block');
			    });
			}
		
		    $('#movementType').change(function() {
		        updateOptions();
		    });    
		    
		    // Function to retrieve HousingEntityWaitlist data
			function getOffenderMovDetail(sbiNumber) {
			    $.ajax({
			        method: "POST",
			        url: contextPath + 'getOffenderMovDetail',
			        contentType: 'application/json',
			        data: sbiNumber,
			        success: function(response) {
						populateOffenderMovDetail(response);
			        },
			        error: function(error) {
			            console.error('Error:', error);
			            console.log(error.responseText);
			        }
			    });
			}
			
			var inmateCommitNo = null;
			var inmateInstNum  = null;
			var arrivalDate  = null;
			var departureDate = null;
			
			function initialiseVals(){
				 inmateCommitNo = null;
				 inmateInstNum  = null;
				 arrivalDate  = null;
				 departureDate = null;
				 
				// Set the dropdowns to the first option
			    $('#departing-At').prop('selectedIndex', 0); 
			    $('#arriving-At').prop('selectedIndex', 0); 
			    $('#movementType').prop('selectedIndex', 0); 
			    
			    // Clear other input fields
			    $('#activity-typeLov').val('');
			    $('#addComments').val('');
			    $('#dateTimeOfDep').val('');
			    
			    // Uncheck radio buttons
			    $('#DepartingRadio').prop('checked', false);
			    $('#ArrivingRadio').prop('checked', false);
			    $('#ArrivedCheck').prop('checked', false);
			};
			
			function populateOffenderMovDetail(response) {
				initialiseVals();
				
			    var arrDate = response.arrDate;
			    var locFrom = response.locFrom;
			    var locTo = response.locTo;
			    var depDate = response.depDate;
			
			    if (!locFrom && !locTo && !arrDate && !depDate) {
			        $('#DepartingRadio').prop('checked', true);
			    } 
			    else if (locFrom && locTo && !arrDate && depDate) {
			        $('#ArrivingRadio').prop('checked', true);
			    } 
			    else if (locFrom && !locTo && !arrDate && depDate) {
			        $('#DepartingRadio').prop('checked', true);
			    } 
			    else if (locFrom && locTo && arrDate && depDate) {
			        $('#DepartingRadio').prop('checked', true);
			        $('#departing-At').val(locTo);
			    }
			    if (response.offenderMov && response.offenderMov.length > 0) {
			        var offenderMovData = response.offenderMov[0];  
			        
			        inmateCommitNo = offenderMovData.commitNo;
			        inmateInstNum = offenderMovData.instNum;
			        
			        if(offenderMovData.dateTimeOfArr){
						arrivalDate = offenderMovData.dateTimeOfArr;
					}
					
					if(offenderMovData.dateTimeOfDep){
						departureDate = offenderMovData.dateTimeOfDep;
					}
			        
			        $('#movementType').val(mapMovementType(offenderMovData.rgHousRelationship));

			        $('#departing-At').val(offenderMovData.countLocCodeFrom);

			        $('#arriving-At').val(offenderMovData.countLocCodeTo);
			
			        $('#activity-typeLov').val(offenderMovData.activityTypeCode);

			        if (offenderMovData.dateTimeOfArr) {
			            $('#ArrivedCheck').prop('checked', true);
			        } else {
			            $('#ArrivedCheck').prop('checked', false);
			        }

			        $('#dateTimeOfDep').val(formatDate(offenderMovData.dateTimeOfDep));

			        $('#addComments').val(offenderMovData.comments);
			    }
			}
						
			function mapMovementType(activityTypeCode) {
			    switch (activityTypeCode) {
			        case 'H': return 'Housing';
			        case 'R': return 'Institutional Release';
			        default: return 'Other';
			    }
			}
			
			// function to format the date to MM/dd/yyyy HH:mm
			function formatDate(dateTime) {
			    if (!dateTime) return '';
			    var date = new Date(dateTime);
			    
			    var month = date.getMonth() + 1;  
			    var day = date.getDate();
			    var year = date.getFullYear();
			    var hours = date.getHours();
			    var minutes = date.getMinutes();
			    
			    month = (month < 10 ? '0' : '') + month;
			    day = (day < 10 ? '0' : '') + day;
			    hours = (hours < 10 ? '0' : '') + hours;
			    minutes = (minutes < 10 ? '0' : '') + minutes;
			    
			    // Return formatted date as MM/dd/yyyy HH:mm
			    return month + '/' + day + '/' + year + ' ' + hours + ':' + minutes;
			}
			
			function mapMovementVal(movementType) {
			    switch (movementType) {
			        case 'Housing': return 'H';
			        case 'Institutional Release': return 'R';
			        default: return 'O';
			    }
			}
			
			// Function to destroy the DataTable
			function destroyScheduledActivityTable() {
			    if ($.fn.DataTable.isDataTable('#scheduled-data')) {
			        $('#scheduled-data').DataTable().destroy();
			    }
			    $('#scheduled-data tbody').empty();
			}
			
			$('#clear-button').on('click', function() {
				initialiseVals();
				clearFormHeaderData();
				destroyScheduledActivityTable();
				$(document).trigger('apiCallFailure');
			});

		});
		
		
		// Define Test Data
		var tabledataschedule = [
		  {
		    id: "",
		    startDate: "",
		    startTime: "",
		    endDate: "",
		    endTime: "",
		    activityType: "",
		    checkbox: "t",
		  },
		  {
		    id: "",
		    startDate: "",
		    startTime: "",
		    endDate: "",
		    endTime: "",
		    activityType: "",
		    checkbox: "t",
		  },
		  {
		    id: "",
		    startDate: "",
		    startTime: "",
		    endDate: "",
		    endTime: "",
		    activityType: "",
		    checkbox: "t",
		  },
		  {
		    id: "",
		    startDate: "",
		    startTime: "",
		    endDate: "",
		    endTime: "",
		    activityType: "",
		    checkbox: "t",
		  },
		  {
		    id: "",
		    startDate: "",
		    startTime: "",
		    endDate: "",
		    endTime: "",
		    activityType: "",
		    checkbox: "t",
		  },
		  {
		    id: "",
		    startDate: "",
		    startTime: "",
		    endDate: "",
		    endTime: "",
		    activityType: "",
		    checkbox: "t",
		  },
		  {
		    id: "",
		    startDate: "",
		    startTime: "",
		    endDate: "",
		    endTime: "",
		    activityType: "",
		    checkbox: "t",
		  },
		  {
		    id: "",
		    startDate: "",
		    startTime: "",
		    endDate: "",
		    endTime: "",
		    activityType: "",
		    checkbox: "t",
		  },
		  {
		    id: "",
		    startDate: "",
		    startTime: "",
		    endDate: "",
		    endTime: "",
		    activityType: "",
		    checkbox: "t",
		  },
		  {
		    id: "",
		    startDate: "",
		    startTime: "",
		    endDate: "",
		    endTime: "",
		    activityType: "",
		    checkbox: "t",
		  },
		  {
		    id: "",
		    startDate: "",
		    startTime: "",
		    endDate: "",
		    endTime: "",
		    activityType: "",
		    checkbox: "t",
		  },
		  {
		    id: "",
		    startDate: "",
		    startTime: "",
		    endDate: "",
		    endTime: "",
		    activityType: "",
		    checkbox: "t",
		  },
		  {
		    id: "",
		    startDate: "",
		    startTime: "",
		    endDate: "",
		    endTime: "",
		    activityType: "",
		    checkbox: "t",
		  },
		  {
		    id: "",
		    startDate: "",
		    startTime: "",
		    endDate: "",
		    endTime: "",
		    activityType: "",
		    checkbox: "t",
		  },
		  {
		    id: "",
		    startDate: "",
		    startTime: "",
		    endDate: "",
		    endTime: "",
		    activityType: "",
		    checkbox: "t",
		  },
		];
		
		//Define Table
		// Initialize the table
var table = new Tabulator("#schedule-table", {
    layout: "fitColumns", // Automatically adjusts column widths
   
    height: '200px', // Set table height
    printAsHtml: true, // Allow printing as HTML
    printStyled: true, // Apply CSS styles during print
    placeholder: "Click here to view scheduled activity for this offender", // Message when table is empty
    columns: [
        {
            title: "Start Date",
            field: "startDate",
            width: 150,
        },
        {
            title: "Start Time",
            field: "startTime",
            width: 100,
        },
        {
            title: "End Date",
            field: "endDate",
            width: 150,
        },
        {
            title: "End Time",
            field: "endTime",
            width: 100,
        },
        {
            title: "Activity Type",
            field: "activityType",
        },
        {
            title: "External",
            field: "checkbox",
            formatter: (cell) => {
                const value = cell.getValue();
                if (value) {
                    return `
                        <input type="checkbox" />
                        <label>${value}</label>
                    `;
                }
            },
            width: 100,
        },
    ],
    rowClick: function (e, row) {
        // Get the row data
        var rowData = row.getData();
alert('hai row')
        // Call the procedure and pass the row data
        yourProcedure(rowData);
    },
});

// Function to handle placeholder click
function onPlaceholderClick() {
    console.log("Placeholder clicked!");
//alert("hai");
    // Get the value of the SBI number input field
    var sbiNumber = $('#sbiNumberInput').val();

    // Check if the SBI number is valid
    if (sbiNumber != null && sbiNumber !== '') {
        // Make an AJAX request to fetch the scheduled activities
        $.ajax({
            url: contextPath + 'ScheduledActivities', // Your server endpoint
            method: 'POST', // HTTP method
            contentType: 'application/json', // Send data as JSON
            data: JSON.stringify({ sbiNumber: sbiNumber }), // Send the SBI number
            success: function(data) {
                // Call the function to populate the table with the received data
                populateScheduledActivityTable(data);
            },
            error: function(xhr, status, error) {
                console.error("Error fetching data:", error);

                // Update the placeholder to show an error message
                const tablePlaceholder = document.querySelector(".tabulator-placeholder");
                if (tablePlaceholder) {
                    tablePlaceholder.textContent = "Error fetching data. Try again later.";
                }
            }
        });
    } else {
        // Show an alert if the SBI number is invalid
       Swal.fire('Warning', 'Please enter a valid SBI number', 'warning');
      
    }
}


// Attach a click event listener to the placeholder after the table is rendered
setTimeout(() => {
    const placeholderElement = document.querySelector(".tabulator-placeholder");
    if (placeholderElement) {
        placeholderElement.addEventListener("click", onPlaceholderClick);
    }
}, 100);

		
		$(tabledataschedule[0].checkbox).html("<input type='checkbox'>");
		
		
		function populateScheduledActivityTable(data) {
			//alert("data");
    console.log("Placeholder: Received data but no implementation yet:", data);
   if (data && Array.isArray(data.scheduledActivity)) {
        const formattedData = data.scheduledActivity.map(activity => ({
            startDate: activity.activityStartDate ? activity.activityStartDate.split('T')[0] : '',
            startTime: activity.activityStartTime || '',
            endDate: activity.activityEndDate ? activity.activityEndDate.split('T')[0] : '',
            endTime: activity.activityEndTime || '',
            activityType: activity.activityTypeDesc || '',
            external: activity.externalFlag, // Checkbox state indicator
        }));

        // Populate the table with data
        table.setData(formattedData);
    } else {
		     Swal.fire('Warning', 'No scheduled activities found for this offender', 'warning');
        console.warn("No valid scheduledActivity data received.");
    
        table.clearData(); // Clear the table if there's no valid data
    }
}
		
	</script>
	
</body>

</html>